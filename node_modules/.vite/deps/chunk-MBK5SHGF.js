import {
  ErrorBoundary
} from "./chunk-CJDCH27U.js";
import {
  FormProvider,
  useController,
  useForm,
  useFormContext,
  useFormState,
  useWatch
} from "./chunk-MFK2DRS2.js";
import {
  RouterProvider,
  createHashRouter
} from "./chunk-LQTWEZF2.js";
import {
  DataRouterContext,
  DataRouterStateContext,
  Navigate,
  Route,
  Routes,
  createMemoryRouter,
  useBlocker,
  useInRouterContext,
  useLocation,
  useNavigate,
  useParams
} from "./chunk-ZDSCFNPZ.js";
import {
  QueryClient,
  QueryClientProvider,
  QueryObserver,
  hashKey,
  notifyManager,
  useInfiniteQuery,
  useMutation,
  useQuery,
  useQueryClient
} from "./chunk-33NDMZWG.js";
import {
  require_baseClone,
  require_baseFlatten,
  require_baseRest,
  require_baseUniq,
  require_baseUnset,
  require_get,
  require_isArrayLikeObject,
  require_isIterateeCall,
  require_isSymbol,
  require_keysIn,
  require_memoize,
  require_merge,
  require_pick,
  require_set
} from "./chunk-OYP4QM2F.js";
import {
  require_eq,
  require_isEqual,
  require_isObject,
  require_root
} from "./chunk-QAMXTZP5.js";
import {
  isMatch,
  isValid,
  parseISO
} from "./chunk-GG45ACOB.js";
import {
  require_dist
} from "./chunk-CZVV7UDY.js";
import {
  require_react_is
} from "./chunk-WMNDQUTI.js";
import {
  require_react
} from "./chunk-ZMLY2J2T.js";
import {
  __commonJS,
  __export,
  __toESM
} from "./chunk-4B2QHNJT.js";

// node_modules/lodash/unset.js
var require_unset = __commonJS({
  "node_modules/lodash/unset.js"(exports, module) {
    var baseUnset = require_baseUnset();
    function unset2(object, path) {
      return object == null ? true : baseUnset(object, path);
    }
    module.exports = unset2;
  }
});

// node_modules/lodash/cloneDeep.js
var require_cloneDeep = __commonJS({
  "node_modules/lodash/cloneDeep.js"(exports, module) {
    var baseClone = require_baseClone();
    var CLONE_DEEP_FLAG = 1;
    var CLONE_SYMBOLS_FLAG = 4;
    function cloneDeep2(value) {
      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
    }
    module.exports = cloneDeep2;
  }
});

// node_modules/lodash/now.js
var require_now = __commonJS({
  "node_modules/lodash/now.js"(exports, module) {
    var root = require_root();
    var now = function() {
      return root.Date.now();
    };
    module.exports = now;
  }
});

// node_modules/lodash/_trimmedEndIndex.js
var require_trimmedEndIndex = __commonJS({
  "node_modules/lodash/_trimmedEndIndex.js"(exports, module) {
    var reWhitespace = /\s/;
    function trimmedEndIndex(string) {
      var index = string.length;
      while (index-- && reWhitespace.test(string.charAt(index))) {
      }
      return index;
    }
    module.exports = trimmedEndIndex;
  }
});

// node_modules/lodash/_baseTrim.js
var require_baseTrim = __commonJS({
  "node_modules/lodash/_baseTrim.js"(exports, module) {
    var trimmedEndIndex = require_trimmedEndIndex();
    var reTrimStart = /^\s+/;
    function baseTrim(string) {
      return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, "") : string;
    }
    module.exports = baseTrim;
  }
});

// node_modules/lodash/toNumber.js
var require_toNumber = __commonJS({
  "node_modules/lodash/toNumber.js"(exports, module) {
    var baseTrim = require_baseTrim();
    var isObject3 = require_isObject();
    var isSymbol = require_isSymbol();
    var NAN = 0 / 0;
    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
    var reIsBinary = /^0b[01]+$/i;
    var reIsOctal = /^0o[0-7]+$/i;
    var freeParseInt = parseInt;
    function toNumber(value) {
      if (typeof value == "number") {
        return value;
      }
      if (isSymbol(value)) {
        return NAN;
      }
      if (isObject3(value)) {
        var other = typeof value.valueOf == "function" ? value.valueOf() : value;
        value = isObject3(other) ? other + "" : other;
      }
      if (typeof value != "string") {
        return value === 0 ? value : +value;
      }
      value = baseTrim(value);
      var isBinary = reIsBinary.test(value);
      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
    }
    module.exports = toNumber;
  }
});

// node_modules/lodash/debounce.js
var require_debounce = __commonJS({
  "node_modules/lodash/debounce.js"(exports, module) {
    var isObject3 = require_isObject();
    var now = require_now();
    var toNumber = require_toNumber();
    var FUNC_ERROR_TEXT = "Expected a function";
    var nativeMax = Math.max;
    var nativeMin = Math.min;
    function debounce4(func, wait, options) {
      var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;
      if (typeof func != "function") {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      wait = toNumber(wait) || 0;
      if (isObject3(options)) {
        leading = !!options.leading;
        maxing = "maxWait" in options;
        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
        trailing = "trailing" in options ? !!options.trailing : trailing;
      }
      function invokeFunc(time) {
        var args = lastArgs, thisArg = lastThis;
        lastArgs = lastThis = void 0;
        lastInvokeTime = time;
        result = func.apply(thisArg, args);
        return result;
      }
      function leadingEdge(time) {
        lastInvokeTime = time;
        timerId = setTimeout(timerExpired, wait);
        return leading ? invokeFunc(time) : result;
      }
      function remainingWait(time) {
        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;
        return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;
      }
      function shouldInvoke(time) {
        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;
        return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
      }
      function timerExpired() {
        var time = now();
        if (shouldInvoke(time)) {
          return trailingEdge(time);
        }
        timerId = setTimeout(timerExpired, remainingWait(time));
      }
      function trailingEdge(time) {
        timerId = void 0;
        if (trailing && lastArgs) {
          return invokeFunc(time);
        }
        lastArgs = lastThis = void 0;
        return result;
      }
      function cancel() {
        if (timerId !== void 0) {
          clearTimeout(timerId);
        }
        lastInvokeTime = 0;
        lastArgs = lastCallTime = lastThis = timerId = void 0;
      }
      function flush() {
        return timerId === void 0 ? result : trailingEdge(now());
      }
      function debounced() {
        var time = now(), isInvoking = shouldInvoke(time);
        lastArgs = arguments;
        lastThis = this;
        lastCallTime = time;
        if (isInvoking) {
          if (timerId === void 0) {
            return leadingEdge(lastCallTime);
          }
          if (maxing) {
            clearTimeout(timerId);
            timerId = setTimeout(timerExpired, wait);
            return invokeFunc(lastCallTime);
          }
        }
        if (timerId === void 0) {
          timerId = setTimeout(timerExpired, wait);
        }
        return result;
      }
      debounced.cancel = cancel;
      debounced.flush = flush;
      return debounced;
    }
    module.exports = debounce4;
  }
});

// node_modules/strict-uri-encode/index.js
var require_strict_uri_encode = __commonJS({
  "node_modules/strict-uri-encode/index.js"(exports, module) {
    "use strict";
    module.exports = (str) => encodeURIComponent(str).replace(/[!'()*]/g, (x) => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);
  }
});

// node_modules/decode-uri-component/index.js
var require_decode_uri_component = __commonJS({
  "node_modules/decode-uri-component/index.js"(exports, module) {
    "use strict";
    var token = "%[a-f0-9]{2}";
    var singleMatcher = new RegExp("(" + token + ")|([^%]+?)", "gi");
    var multiMatcher = new RegExp("(" + token + ")+", "gi");
    function decodeComponents(components, split) {
      try {
        return [decodeURIComponent(components.join(""))];
      } catch (err) {
      }
      if (components.length === 1) {
        return components;
      }
      split = split || 1;
      var left = components.slice(0, split);
      var right = components.slice(split);
      return Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));
    }
    function decode(input) {
      try {
        return decodeURIComponent(input);
      } catch (err) {
        var tokens = input.match(singleMatcher) || [];
        for (var i = 1; i < tokens.length; i++) {
          input = decodeComponents(tokens, i).join("");
          tokens = input.match(singleMatcher) || [];
        }
        return input;
      }
    }
    function customDecodeURIComponent(input) {
      var replaceMap = {
        "%FE%FF": "��",
        "%FF%FE": "��"
      };
      var match = multiMatcher.exec(input);
      while (match) {
        try {
          replaceMap[match[0]] = decodeURIComponent(match[0]);
        } catch (err) {
          var result = decode(match[0]);
          if (result !== match[0]) {
            replaceMap[match[0]] = result;
          }
        }
        match = multiMatcher.exec(input);
      }
      replaceMap["%C2"] = "�";
      var entries = Object.keys(replaceMap);
      for (var i = 0; i < entries.length; i++) {
        var key = entries[i];
        input = input.replace(new RegExp(key, "g"), replaceMap[key]);
      }
      return input;
    }
    module.exports = function(encodedURI) {
      if (typeof encodedURI !== "string") {
        throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof encodedURI + "`");
      }
      try {
        encodedURI = encodedURI.replace(/\+/g, " ");
        return decodeURIComponent(encodedURI);
      } catch (err) {
        return customDecodeURIComponent(encodedURI);
      }
    };
  }
});

// node_modules/split-on-first/index.js
var require_split_on_first = __commonJS({
  "node_modules/split-on-first/index.js"(exports, module) {
    "use strict";
    module.exports = (string, separator) => {
      if (!(typeof string === "string" && typeof separator === "string")) {
        throw new TypeError("Expected the arguments to be of type `string`");
      }
      if (separator === "") {
        return [string];
      }
      const separatorIndex = string.indexOf(separator);
      if (separatorIndex === -1) {
        return [string];
      }
      return [
        string.slice(0, separatorIndex),
        string.slice(separatorIndex + separator.length)
      ];
    };
  }
});

// node_modules/filter-obj/index.js
var require_filter_obj = __commonJS({
  "node_modules/filter-obj/index.js"(exports, module) {
    "use strict";
    module.exports = function(obj, predicate) {
      var ret = {};
      var keys = Object.keys(obj);
      var isArr = Array.isArray(predicate);
      for (var i = 0; i < keys.length; i++) {
        var key = keys[i];
        var val = obj[key];
        if (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {
          ret[key] = val;
        }
      }
      return ret;
    };
  }
});

// node_modules/query-string/index.js
var require_query_string = __commonJS({
  "node_modules/query-string/index.js"(exports) {
    "use strict";
    var strictUriEncode = require_strict_uri_encode();
    var decodeComponent = require_decode_uri_component();
    var splitOnFirst = require_split_on_first();
    var filterObject = require_filter_obj();
    var isNullOrUndefined = (value) => value === null || value === void 0;
    var encodeFragmentIdentifier = Symbol("encodeFragmentIdentifier");
    function encoderForArrayFormat(options) {
      switch (options.arrayFormat) {
        case "index":
          return (key) => (result, value) => {
            const index = result.length;
            if (value === void 0 || options.skipNull && value === null || options.skipEmptyString && value === "") {
              return result;
            }
            if (value === null) {
              return [...result, [encode(key, options), "[", index, "]"].join("")];
            }
            return [
              ...result,
              [encode(key, options), "[", encode(index, options), "]=", encode(value, options)].join("")
            ];
          };
        case "bracket":
          return (key) => (result, value) => {
            if (value === void 0 || options.skipNull && value === null || options.skipEmptyString && value === "") {
              return result;
            }
            if (value === null) {
              return [...result, [encode(key, options), "[]"].join("")];
            }
            return [...result, [encode(key, options), "[]=", encode(value, options)].join("")];
          };
        case "colon-list-separator":
          return (key) => (result, value) => {
            if (value === void 0 || options.skipNull && value === null || options.skipEmptyString && value === "") {
              return result;
            }
            if (value === null) {
              return [...result, [encode(key, options), ":list="].join("")];
            }
            return [...result, [encode(key, options), ":list=", encode(value, options)].join("")];
          };
        case "comma":
        case "separator":
        case "bracket-separator": {
          const keyValueSep = options.arrayFormat === "bracket-separator" ? "[]=" : "=";
          return (key) => (result, value) => {
            if (value === void 0 || options.skipNull && value === null || options.skipEmptyString && value === "") {
              return result;
            }
            value = value === null ? "" : value;
            if (result.length === 0) {
              return [[encode(key, options), keyValueSep, encode(value, options)].join("")];
            }
            return [[result, encode(value, options)].join(options.arrayFormatSeparator)];
          };
        }
        default:
          return (key) => (result, value) => {
            if (value === void 0 || options.skipNull && value === null || options.skipEmptyString && value === "") {
              return result;
            }
            if (value === null) {
              return [...result, encode(key, options)];
            }
            return [...result, [encode(key, options), "=", encode(value, options)].join("")];
          };
      }
    }
    function parserForArrayFormat(options) {
      let result;
      switch (options.arrayFormat) {
        case "index":
          return (key, value, accumulator) => {
            result = /\[(\d*)\]$/.exec(key);
            key = key.replace(/\[\d*\]$/, "");
            if (!result) {
              accumulator[key] = value;
              return;
            }
            if (accumulator[key] === void 0) {
              accumulator[key] = {};
            }
            accumulator[key][result[1]] = value;
          };
        case "bracket":
          return (key, value, accumulator) => {
            result = /(\[\])$/.exec(key);
            key = key.replace(/\[\]$/, "");
            if (!result) {
              accumulator[key] = value;
              return;
            }
            if (accumulator[key] === void 0) {
              accumulator[key] = [value];
              return;
            }
            accumulator[key] = [].concat(accumulator[key], value);
          };
        case "colon-list-separator":
          return (key, value, accumulator) => {
            result = /(:list)$/.exec(key);
            key = key.replace(/:list$/, "");
            if (!result) {
              accumulator[key] = value;
              return;
            }
            if (accumulator[key] === void 0) {
              accumulator[key] = [value];
              return;
            }
            accumulator[key] = [].concat(accumulator[key], value);
          };
        case "comma":
        case "separator":
          return (key, value, accumulator) => {
            const isArray2 = typeof value === "string" && value.includes(options.arrayFormatSeparator);
            const isEncodedArray = typeof value === "string" && !isArray2 && decode(value, options).includes(options.arrayFormatSeparator);
            value = isEncodedArray ? decode(value, options) : value;
            const newValue = isArray2 || isEncodedArray ? value.split(options.arrayFormatSeparator).map((item) => decode(item, options)) : value === null ? value : decode(value, options);
            accumulator[key] = newValue;
          };
        case "bracket-separator":
          return (key, value, accumulator) => {
            const isArray2 = /(\[\])$/.test(key);
            key = key.replace(/\[\]$/, "");
            if (!isArray2) {
              accumulator[key] = value ? decode(value, options) : value;
              return;
            }
            const arrayValue = value === null ? [] : value.split(options.arrayFormatSeparator).map((item) => decode(item, options));
            if (accumulator[key] === void 0) {
              accumulator[key] = arrayValue;
              return;
            }
            accumulator[key] = [].concat(accumulator[key], arrayValue);
          };
        default:
          return (key, value, accumulator) => {
            if (accumulator[key] === void 0) {
              accumulator[key] = value;
              return;
            }
            accumulator[key] = [].concat(accumulator[key], value);
          };
      }
    }
    function validateArrayFormatSeparator(value) {
      if (typeof value !== "string" || value.length !== 1) {
        throw new TypeError("arrayFormatSeparator must be single character string");
      }
    }
    function encode(value, options) {
      if (options.encode) {
        return options.strict ? strictUriEncode(value) : encodeURIComponent(value);
      }
      return value;
    }
    function decode(value, options) {
      if (options.decode) {
        return decodeComponent(value);
      }
      return value;
    }
    function keysSorter(input) {
      if (Array.isArray(input)) {
        return input.sort();
      }
      if (typeof input === "object") {
        return keysSorter(Object.keys(input)).sort((a, b) => Number(a) - Number(b)).map((key) => input[key]);
      }
      return input;
    }
    function removeHash(input) {
      const hashStart = input.indexOf("#");
      if (hashStart !== -1) {
        input = input.slice(0, hashStart);
      }
      return input;
    }
    function getHash(url) {
      let hash2 = "";
      const hashStart = url.indexOf("#");
      if (hashStart !== -1) {
        hash2 = url.slice(hashStart);
      }
      return hash2;
    }
    function extract(input) {
      input = removeHash(input);
      const queryStart = input.indexOf("?");
      if (queryStart === -1) {
        return "";
      }
      return input.slice(queryStart + 1);
    }
    function parseValue(value, options) {
      if (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === "string" && value.trim() !== "")) {
        value = Number(value);
      } else if (options.parseBooleans && value !== null && (value.toLowerCase() === "true" || value.toLowerCase() === "false")) {
        value = value.toLowerCase() === "true";
      }
      return value;
    }
    function parse3(query, options) {
      options = Object.assign({
        decode: true,
        sort: true,
        arrayFormat: "none",
        arrayFormatSeparator: ",",
        parseNumbers: false,
        parseBooleans: false
      }, options);
      validateArrayFormatSeparator(options.arrayFormatSeparator);
      const formatter = parserForArrayFormat(options);
      const ret = /* @__PURE__ */ Object.create(null);
      if (typeof query !== "string") {
        return ret;
      }
      query = query.trim().replace(/^[?#&]/, "");
      if (!query) {
        return ret;
      }
      for (const param of query.split("&")) {
        if (param === "") {
          continue;
        }
        let [key, value] = splitOnFirst(options.decode ? param.replace(/\+/g, " ") : param, "=");
        value = value === void 0 ? null : ["comma", "separator", "bracket-separator"].includes(options.arrayFormat) ? value : decode(value, options);
        formatter(decode(key, options), value, ret);
      }
      for (const key of Object.keys(ret)) {
        const value = ret[key];
        if (typeof value === "object" && value !== null) {
          for (const k of Object.keys(value)) {
            value[k] = parseValue(value[k], options);
          }
        } else {
          ret[key] = parseValue(value, options);
        }
      }
      if (options.sort === false) {
        return ret;
      }
      return (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {
        const value = ret[key];
        if (Boolean(value) && typeof value === "object" && !Array.isArray(value)) {
          result[key] = keysSorter(value);
        } else {
          result[key] = value;
        }
        return result;
      }, /* @__PURE__ */ Object.create(null));
    }
    exports.extract = extract;
    exports.parse = parse3;
    exports.stringify = (object, options) => {
      if (!object) {
        return "";
      }
      options = Object.assign({
        encode: true,
        strict: true,
        arrayFormat: "none",
        arrayFormatSeparator: ","
      }, options);
      validateArrayFormatSeparator(options.arrayFormatSeparator);
      const shouldFilter = (key) => options.skipNull && isNullOrUndefined(object[key]) || options.skipEmptyString && object[key] === "";
      const formatter = encoderForArrayFormat(options);
      const objectCopy = {};
      for (const key of Object.keys(object)) {
        if (!shouldFilter(key)) {
          objectCopy[key] = object[key];
        }
      }
      const keys = Object.keys(objectCopy);
      if (options.sort !== false) {
        keys.sort(options.sort);
      }
      return keys.map((key) => {
        const value = object[key];
        if (value === void 0) {
          return "";
        }
        if (value === null) {
          return encode(key, options);
        }
        if (Array.isArray(value)) {
          if (value.length === 0 && options.arrayFormat === "bracket-separator") {
            return encode(key, options) + "[]";
          }
          return value.reduce(formatter(key), []).join("&");
        }
        return encode(key, options) + "=" + encode(value, options);
      }).filter((x) => x.length > 0).join("&");
    };
    exports.parseUrl = (url, options) => {
      options = Object.assign({
        decode: true
      }, options);
      const [url_, hash2] = splitOnFirst(url, "#");
      return Object.assign(
        {
          url: url_.split("?")[0] || "",
          query: parse3(extract(url), options)
        },
        options && options.parseFragmentIdentifier && hash2 ? { fragmentIdentifier: decode(hash2, options) } : {}
      );
    };
    exports.stringifyUrl = (object, options) => {
      options = Object.assign({
        encode: true,
        strict: true,
        [encodeFragmentIdentifier]: true
      }, options);
      const url = removeHash(object.url).split("?")[0] || "";
      const queryFromUrl = exports.extract(object.url);
      const parsedQueryFromUrl = exports.parse(queryFromUrl, { sort: false });
      const query = Object.assign(parsedQueryFromUrl, object.query);
      let queryString = exports.stringify(query, options);
      if (queryString) {
        queryString = `?${queryString}`;
      }
      let hash2 = getHash(object.url);
      if (object.fragmentIdentifier) {
        hash2 = `#${options[encodeFragmentIdentifier] ? encode(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;
      }
      return `${url}${queryString}${hash2}`;
    };
    exports.pick = (input, filter, options) => {
      options = Object.assign({
        parseFragmentIdentifier: true,
        [encodeFragmentIdentifier]: false
      }, options);
      const { url, query, fragmentIdentifier } = exports.parseUrl(input, options);
      return exports.stringifyUrl({
        url,
        query: filterObject(query, filter),
        fragmentIdentifier
      }, options);
    };
    exports.exclude = (input, filter, options) => {
      const exclusionFilter = Array.isArray(filter) ? (key) => !filter.includes(key) : (key, value) => !filter(key, value);
      return exports.pick(input, exclusionFilter, options);
    };
  }
});

// node_modules/eventemitter3/index.js
var require_eventemitter3 = __commonJS({
  "node_modules/eventemitter3/index.js"(exports, module) {
    "use strict";
    var has = Object.prototype.hasOwnProperty;
    var prefix = "~";
    function Events() {
    }
    if (Object.create) {
      Events.prototype = /* @__PURE__ */ Object.create(null);
      if (!new Events().__proto__) prefix = false;
    }
    function EE(fn, context, once) {
      this.fn = fn;
      this.context = context;
      this.once = once || false;
    }
    function addListener(emitter, event, fn, context, once) {
      if (typeof fn !== "function") {
        throw new TypeError("The listener must be a function");
      }
      var listener = new EE(fn, context || emitter, once), evt = prefix ? prefix + event : event;
      if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;
      else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);
      else emitter._events[evt] = [emitter._events[evt], listener];
      return emitter;
    }
    function clearEvent(emitter, evt) {
      if (--emitter._eventsCount === 0) emitter._events = new Events();
      else delete emitter._events[evt];
    }
    function EventEmitter2() {
      this._events = new Events();
      this._eventsCount = 0;
    }
    EventEmitter2.prototype.eventNames = function eventNames() {
      var names = [], events, name;
      if (this._eventsCount === 0) return names;
      for (name in events = this._events) {
        if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);
      }
      if (Object.getOwnPropertySymbols) {
        return names.concat(Object.getOwnPropertySymbols(events));
      }
      return names;
    };
    EventEmitter2.prototype.listeners = function listeners(event) {
      var evt = prefix ? prefix + event : event, handlers = this._events[evt];
      if (!handlers) return [];
      if (handlers.fn) return [handlers.fn];
      for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {
        ee[i] = handlers[i].fn;
      }
      return ee;
    };
    EventEmitter2.prototype.listenerCount = function listenerCount(event) {
      var evt = prefix ? prefix + event : event, listeners = this._events[evt];
      if (!listeners) return 0;
      if (listeners.fn) return 1;
      return listeners.length;
    };
    EventEmitter2.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
      var evt = prefix ? prefix + event : event;
      if (!this._events[evt]) return false;
      var listeners = this._events[evt], len = arguments.length, args, i;
      if (listeners.fn) {
        if (listeners.once) this.removeListener(event, listeners.fn, void 0, true);
        switch (len) {
          case 1:
            return listeners.fn.call(listeners.context), true;
          case 2:
            return listeners.fn.call(listeners.context, a1), true;
          case 3:
            return listeners.fn.call(listeners.context, a1, a2), true;
          case 4:
            return listeners.fn.call(listeners.context, a1, a2, a3), true;
          case 5:
            return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
          case 6:
            return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
        }
        for (i = 1, args = new Array(len - 1); i < len; i++) {
          args[i - 1] = arguments[i];
        }
        listeners.fn.apply(listeners.context, args);
      } else {
        var length = listeners.length, j;
        for (i = 0; i < length; i++) {
          if (listeners[i].once) this.removeListener(event, listeners[i].fn, void 0, true);
          switch (len) {
            case 1:
              listeners[i].fn.call(listeners[i].context);
              break;
            case 2:
              listeners[i].fn.call(listeners[i].context, a1);
              break;
            case 3:
              listeners[i].fn.call(listeners[i].context, a1, a2);
              break;
            case 4:
              listeners[i].fn.call(listeners[i].context, a1, a2, a3);
              break;
            default:
              if (!args) for (j = 1, args = new Array(len - 1); j < len; j++) {
                args[j - 1] = arguments[j];
              }
              listeners[i].fn.apply(listeners[i].context, args);
          }
        }
      }
      return true;
    };
    EventEmitter2.prototype.on = function on(event, fn, context) {
      return addListener(this, event, fn, context, false);
    };
    EventEmitter2.prototype.once = function once(event, fn, context) {
      return addListener(this, event, fn, context, true);
    };
    EventEmitter2.prototype.removeListener = function removeListener(event, fn, context, once) {
      var evt = prefix ? prefix + event : event;
      if (!this._events[evt]) return this;
      if (!fn) {
        clearEvent(this, evt);
        return this;
      }
      var listeners = this._events[evt];
      if (listeners.fn) {
        if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {
          clearEvent(this, evt);
        }
      } else {
        for (var i = 0, events = [], length = listeners.length; i < length; i++) {
          if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {
            events.push(listeners[i]);
          }
        }
        if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;
        else clearEvent(this, evt);
      }
      return this;
    };
    EventEmitter2.prototype.removeAllListeners = function removeAllListeners(event) {
      var evt;
      if (event) {
        evt = prefix ? prefix + event : event;
        if (this._events[evt]) clearEvent(this, evt);
      } else {
        this._events = new Events();
        this._eventsCount = 0;
      }
      return this;
    };
    EventEmitter2.prototype.off = EventEmitter2.prototype.removeListener;
    EventEmitter2.prototype.addListener = EventEmitter2.prototype.on;
    EventEmitter2.prefixed = prefix;
    EventEmitter2.EventEmitter = EventEmitter2;
    if ("undefined" !== typeof module) {
      module.exports = EventEmitter2;
    }
  }
});

// node_modules/lodash/union.js
var require_union = __commonJS({
  "node_modules/lodash/union.js"(exports, module) {
    var baseFlatten = require_baseFlatten();
    var baseRest = require_baseRest();
    var baseUniq = require_baseUniq();
    var isArrayLikeObject = require_isArrayLikeObject();
    var union2 = baseRest(function(arrays) {
      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));
    });
    module.exports = union2;
  }
});

// node_modules/lodash/defaults.js
var require_defaults = __commonJS({
  "node_modules/lodash/defaults.js"(exports, module) {
    var baseRest = require_baseRest();
    var eq = require_eq();
    var isIterateeCall = require_isIterateeCall();
    var keysIn = require_keysIn();
    var objectProto = Object.prototype;
    var hasOwnProperty = objectProto.hasOwnProperty;
    var defaults3 = baseRest(function(object, sources) {
      object = Object(object);
      var index = -1;
      var length = sources.length;
      var guard = length > 2 ? sources[2] : void 0;
      if (guard && isIterateeCall(sources[0], sources[1], guard)) {
        length = 1;
      }
      while (++index < length) {
        var source = sources[index];
        var props = keysIn(source);
        var propsIndex = -1;
        var propsLength = props.length;
        while (++propsIndex < propsLength) {
          var key = props[propsIndex];
          var value = object[key];
          if (value === void 0 || eq(value, objectProto[key]) && !hasOwnProperty.call(object, key)) {
            object[key] = source[key];
          }
        }
      }
      return object;
    });
    module.exports = defaults3;
  }
});

// node_modules/inflection/lib/inflection.js
var require_inflection = __commonJS({
  "node_modules/inflection/lib/inflection.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.transform = exports.ordinalize = exports.foreignKey = exports.classify = exports.tableize = exports.demodulize = exports.titleize = exports.dasherize = exports.capitalize = exports.humanize = exports.underscore = exports.camelize = exports.inflect = exports.singularize = exports.pluralize = void 0;
    var uncountableWords = [
      // 'access',
      "accommodation",
      "adulthood",
      "advertising",
      "advice",
      "aggression",
      "aid",
      "air",
      "aircraft",
      "alcohol",
      "anger",
      "applause",
      "arithmetic",
      // 'art',
      "assistance",
      "athletics",
      // 'attention',
      "bacon",
      "baggage",
      // 'ballet',
      // 'beauty',
      "beef",
      // 'beer',
      // 'behavior',
      "biology",
      // 'billiards',
      "blood",
      "botany",
      // 'bowels',
      "bread",
      // 'business',
      "butter",
      "carbon",
      "cardboard",
      "cash",
      "chalk",
      "chaos",
      "chess",
      "crossroads",
      "countryside",
      // 'damage',
      "dancing",
      // 'danger',
      "deer",
      // 'delight',
      // 'dessert',
      "dignity",
      "dirt",
      // 'distribution',
      "dust",
      "economics",
      "education",
      "electricity",
      // 'employment',
      // 'energy',
      "engineering",
      "enjoyment",
      // 'entertainment',
      "envy",
      "equipment",
      "ethics",
      "evidence",
      "evolution",
      // 'failure',
      // 'faith',
      "fame",
      "fiction",
      // 'fish',
      "flour",
      "flu",
      "food",
      // 'freedom',
      // 'fruit',
      "fuel",
      "fun",
      // 'funeral',
      "furniture",
      "gallows",
      "garbage",
      "garlic",
      // 'gas',
      "genetics",
      // 'glass',
      "gold",
      "golf",
      "gossip",
      // 'grass',
      "gratitude",
      "grief",
      // 'ground',
      "guilt",
      "gymnastics",
      // 'hair',
      "happiness",
      "hardware",
      "harm",
      "hate",
      "hatred",
      "health",
      "heat",
      // 'height',
      "help",
      "homework",
      "honesty",
      "honey",
      "hospitality",
      "housework",
      "humour",
      "hunger",
      "hydrogen",
      "ice",
      "importance",
      "inflation",
      "information",
      // 'injustice',
      "innocence",
      // 'intelligence',
      "iron",
      "irony",
      "jam",
      // 'jealousy',
      // 'jelly',
      "jewelry",
      // 'joy',
      "judo",
      // 'juice',
      // 'justice',
      "karate",
      // 'kindness',
      "knowledge",
      // 'labour',
      "lack",
      // 'land',
      "laughter",
      "lava",
      "leather",
      "leisure",
      "lightning",
      "linguine",
      "linguini",
      "linguistics",
      "literature",
      "litter",
      "livestock",
      "logic",
      "loneliness",
      // 'love',
      "luck",
      "luggage",
      "macaroni",
      "machinery",
      "magic",
      // 'mail',
      "management",
      "mankind",
      "marble",
      "mathematics",
      "mayonnaise",
      "measles",
      // 'meat',
      // 'metal',
      "methane",
      "milk",
      "minus",
      "money",
      // 'moose',
      "mud",
      "music",
      "mumps",
      "nature",
      "news",
      "nitrogen",
      "nonsense",
      "nurture",
      "nutrition",
      "obedience",
      "obesity",
      // 'oil',
      "oxygen",
      // 'paper',
      // 'passion',
      "pasta",
      "patience",
      // 'permission',
      "physics",
      "poetry",
      "pollution",
      "poverty",
      // 'power',
      "pride",
      // 'production',
      // 'progress',
      // 'pronunciation',
      "psychology",
      "publicity",
      "punctuation",
      // 'quality',
      // 'quantity',
      "quartz",
      "racism",
      // 'rain',
      // 'recreation',
      "relaxation",
      "reliability",
      "research",
      "respect",
      "revenge",
      "rice",
      "rubbish",
      "rum",
      "safety",
      // 'salad',
      // 'salt',
      // 'sand',
      // 'satire',
      "scenery",
      "seafood",
      "seaside",
      "series",
      "shame",
      "sheep",
      "shopping",
      // 'silence',
      "sleep",
      // 'slang'
      "smoke",
      "smoking",
      "snow",
      "soap",
      "software",
      "soil",
      // 'sorrow',
      // 'soup',
      "spaghetti",
      // 'speed',
      "species",
      // 'spelling',
      // 'sport',
      "steam",
      // 'strength',
      "stuff",
      "stupidity",
      // 'success',
      // 'sugar',
      "sunshine",
      "symmetry",
      // 'tea',
      "tennis",
      "thirst",
      "thunder",
      "timber",
      // 'time',
      // 'toast',
      // 'tolerance',
      // 'trade',
      "traffic",
      "transportation",
      // 'travel',
      "trust",
      // 'understanding',
      "underwear",
      "unemployment",
      "unity",
      // 'usage',
      "validity",
      "veal",
      "vegetation",
      "vegetarianism",
      "vengeance",
      "violence",
      // 'vision',
      "vitality",
      "warmth",
      // 'water',
      "wealth",
      "weather",
      // 'weight',
      "welfare",
      "wheat",
      // 'whiskey',
      // 'width',
      "wildlife",
      // 'wine',
      "wisdom",
      // 'wood',
      // 'wool',
      // 'work',
      // 'yeast',
      "yoga",
      "zinc",
      "zoology"
    ];
    var regex2 = {
      plural: {
        men: new RegExp("^(m|wom)en$", "gi"),
        people: new RegExp("(pe)ople$", "gi"),
        children: new RegExp("(child)ren$", "gi"),
        tia: new RegExp("([ti])a$", "gi"),
        analyses: new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$", "gi"),
        databases: new RegExp("(database)s$", "gi"),
        drives: new RegExp("(drive)s$", "gi"),
        hives: new RegExp("(hi|ti)ves$", "gi"),
        curves: new RegExp("(curve)s$", "gi"),
        lrves: new RegExp("([lr])ves$", "gi"),
        aves: new RegExp("([a])ves$", "gi"),
        foves: new RegExp("([^fo])ves$", "gi"),
        movies: new RegExp("(m)ovies$", "gi"),
        aeiouyies: new RegExp("([^aeiouy]|qu)ies$", "gi"),
        series: new RegExp("(s)eries$", "gi"),
        xes: new RegExp("(x|ch|ss|sh)es$", "gi"),
        mice: new RegExp("([m|l])ice$", "gi"),
        buses: new RegExp("(bus)es$", "gi"),
        oes: new RegExp("(o)es$", "gi"),
        shoes: new RegExp("(shoe)s$", "gi"),
        crises: new RegExp("(cris|ax|test)es$", "gi"),
        octopuses: new RegExp("(octop|vir)uses$", "gi"),
        aliases: new RegExp("(alias|canvas|status|campus)es$", "gi"),
        summonses: new RegExp("^(summons|bonus)es$", "gi"),
        oxen: new RegExp("^(ox)en", "gi"),
        matrices: new RegExp("(matr)ices$", "gi"),
        vertices: new RegExp("(vert|ind)ices$", "gi"),
        feet: new RegExp("^feet$", "gi"),
        teeth: new RegExp("^teeth$", "gi"),
        geese: new RegExp("^geese$", "gi"),
        quizzes: new RegExp("(quiz)zes$", "gi"),
        whereases: new RegExp("^(whereas)es$", "gi"),
        criteria: new RegExp("^(criteri)a$", "gi"),
        genera: new RegExp("^genera$", "gi"),
        ss: new RegExp("ss$", "gi"),
        s: new RegExp("s$", "gi")
      },
      singular: {
        man: new RegExp("^(m|wom)an$", "gi"),
        person: new RegExp("(pe)rson$", "gi"),
        child: new RegExp("(child)$", "gi"),
        drive: new RegExp("(drive)$", "gi"),
        ox: new RegExp("^(ox)$", "gi"),
        axis: new RegExp("(ax|test)is$", "gi"),
        octopus: new RegExp("(octop|vir)us$", "gi"),
        alias: new RegExp("(alias|status|canvas|campus)$", "gi"),
        summons: new RegExp("^(summons|bonus)$", "gi"),
        bus: new RegExp("(bu)s$", "gi"),
        buffalo: new RegExp("(buffal|tomat|potat)o$", "gi"),
        tium: new RegExp("([ti])um$", "gi"),
        sis: new RegExp("sis$", "gi"),
        ffe: new RegExp("(?:([^f])fe|([lr])f)$", "gi"),
        hive: new RegExp("(hi|ti)ve$", "gi"),
        aeiouyy: new RegExp("([^aeiouy]|qu)y$", "gi"),
        x: new RegExp("(x|ch|ss|sh)$", "gi"),
        matrix: new RegExp("(matr)ix$", "gi"),
        vertex: new RegExp("(vert|ind)ex$", "gi"),
        mouse: new RegExp("([m|l])ouse$", "gi"),
        foot: new RegExp("^foot$", "gi"),
        tooth: new RegExp("^tooth$", "gi"),
        goose: new RegExp("^goose$", "gi"),
        quiz: new RegExp("(quiz)$", "gi"),
        whereas: new RegExp("^(whereas)$", "gi"),
        criterion: new RegExp("^(criteri)on$", "gi"),
        genus: new RegExp("^genus$", "gi"),
        s: new RegExp("s$", "gi"),
        common: new RegExp("$", "gi")
      }
    };
    var pluralRules = [
      // do not replace if its already a plural word
      [regex2.plural.men],
      [regex2.plural.people],
      [regex2.plural.children],
      [regex2.plural.tia],
      [regex2.plural.analyses],
      [regex2.plural.databases],
      [regex2.plural.drives],
      [regex2.plural.hives],
      [regex2.plural.curves],
      [regex2.plural.lrves],
      [regex2.plural.foves],
      [regex2.plural.aeiouyies],
      [regex2.plural.series],
      [regex2.plural.movies],
      [regex2.plural.xes],
      [regex2.plural.mice],
      [regex2.plural.buses],
      [regex2.plural.oes],
      [regex2.plural.shoes],
      [regex2.plural.crises],
      [regex2.plural.octopuses],
      [regex2.plural.aliases],
      [regex2.plural.summonses],
      [regex2.plural.oxen],
      [regex2.plural.matrices],
      [regex2.plural.feet],
      [regex2.plural.teeth],
      [regex2.plural.geese],
      [regex2.plural.quizzes],
      [regex2.plural.whereases],
      [regex2.plural.criteria],
      [regex2.plural.genera],
      // original rule
      [regex2.singular.man, "$1en"],
      [regex2.singular.person, "$1ople"],
      [regex2.singular.child, "$1ren"],
      [regex2.singular.drive, "$1s"],
      [regex2.singular.ox, "$1en"],
      [regex2.singular.axis, "$1es"],
      [regex2.singular.octopus, "$1uses"],
      [regex2.singular.alias, "$1es"],
      [regex2.singular.summons, "$1es"],
      [regex2.singular.bus, "$1ses"],
      [regex2.singular.buffalo, "$1oes"],
      [regex2.singular.tium, "$1a"],
      [regex2.singular.sis, "ses"],
      [regex2.singular.ffe, "$1$2ves"],
      [regex2.singular.hive, "$1ves"],
      [regex2.singular.aeiouyy, "$1ies"],
      [regex2.singular.matrix, "$1ices"],
      [regex2.singular.vertex, "$1ices"],
      [regex2.singular.x, "$1es"],
      [regex2.singular.mouse, "$1ice"],
      [regex2.singular.foot, "feet"],
      [regex2.singular.tooth, "teeth"],
      [regex2.singular.goose, "geese"],
      [regex2.singular.quiz, "$1zes"],
      [regex2.singular.whereas, "$1es"],
      [regex2.singular.criterion, "$1a"],
      [regex2.singular.genus, "genera"],
      [regex2.singular.s, "s"],
      [regex2.singular.common, "s"]
    ];
    var singularRules = [
      // do not replace if its already a singular word
      [regex2.singular.man],
      [regex2.singular.person],
      [regex2.singular.child],
      [regex2.singular.drive],
      [regex2.singular.ox],
      [regex2.singular.axis],
      [regex2.singular.octopus],
      [regex2.singular.alias],
      [regex2.singular.summons],
      [regex2.singular.bus],
      [regex2.singular.buffalo],
      [regex2.singular.tium],
      [regex2.singular.sis],
      [regex2.singular.ffe],
      [regex2.singular.hive],
      [regex2.singular.aeiouyy],
      [regex2.singular.x],
      [regex2.singular.matrix],
      [regex2.singular.mouse],
      [regex2.singular.foot],
      [regex2.singular.tooth],
      [regex2.singular.goose],
      [regex2.singular.quiz],
      [regex2.singular.whereas],
      [regex2.singular.criterion],
      [regex2.singular.genus],
      // original rule
      [regex2.plural.men, "$1an"],
      [regex2.plural.people, "$1rson"],
      [regex2.plural.children, "$1"],
      [regex2.plural.databases, "$1"],
      [regex2.plural.drives, "$1"],
      [regex2.plural.genera, "genus"],
      [regex2.plural.criteria, "$1on"],
      [regex2.plural.tia, "$1um"],
      [regex2.plural.analyses, "$1$2sis"],
      [regex2.plural.hives, "$1ve"],
      [regex2.plural.curves, "$1"],
      [regex2.plural.lrves, "$1f"],
      [regex2.plural.aves, "$1ve"],
      [regex2.plural.foves, "$1fe"],
      [regex2.plural.movies, "$1ovie"],
      [regex2.plural.aeiouyies, "$1y"],
      [regex2.plural.series, "$1eries"],
      [regex2.plural.xes, "$1"],
      [regex2.plural.mice, "$1ouse"],
      [regex2.plural.buses, "$1"],
      [regex2.plural.oes, "$1"],
      [regex2.plural.shoes, "$1"],
      [regex2.plural.crises, "$1is"],
      [regex2.plural.octopuses, "$1us"],
      [regex2.plural.aliases, "$1"],
      [regex2.plural.summonses, "$1"],
      [regex2.plural.oxen, "$1"],
      [regex2.plural.matrices, "$1ix"],
      [regex2.plural.vertices, "$1ex"],
      [regex2.plural.feet, "foot"],
      [regex2.plural.teeth, "tooth"],
      [regex2.plural.geese, "goose"],
      [regex2.plural.quizzes, "$1"],
      [regex2.plural.whereases, "$1"],
      [regex2.plural.ss, "ss"],
      [regex2.plural.s, ""]
    ];
    var nonTitlecasedWords = [
      "and",
      "or",
      "nor",
      "a",
      "an",
      "the",
      "so",
      "but",
      "to",
      "of",
      "at",
      "by",
      "from",
      "into",
      "on",
      "onto",
      "off",
      "out",
      "in",
      "over",
      "with",
      "for"
    ];
    var idSuffix = new RegExp("(_ids|_id)$", "g");
    var underbar = new RegExp("_", "g");
    var spaceOrUnderbar = new RegExp("[ _]", "g");
    var uppercase = new RegExp("([A-Z])", "g");
    var underbarPrefix = new RegExp("^_");
    function applyRules(str, rules, skip, override) {
      if (override) {
        return override;
      } else {
        if (skip.includes(str.toLocaleLowerCase())) {
          return str;
        }
        for (const rule of rules) {
          if (str.match(rule[0])) {
            if (rule[1] !== void 0) {
              return str.replace(rule[0], rule[1]);
            }
            return str;
          }
        }
      }
      return str;
    }
    function pluralize4(str, plural) {
      return applyRules(str, pluralRules, uncountableWords, plural);
    }
    exports.pluralize = pluralize4;
    function singularize2(str, singular) {
      return applyRules(str, singularRules, uncountableWords, singular);
    }
    exports.singularize = singularize2;
    function inflect(str, count, singular, plural) {
      if (isNaN(count))
        return str;
      if (count === 1) {
        return applyRules(str, singularRules, uncountableWords, singular);
      } else {
        return applyRules(str, pluralRules, uncountableWords, plural);
      }
    }
    exports.inflect = inflect;
    function camelize(str, lowFirstLetter) {
      const strPath = str.split("/");
      const j = strPath.length;
      let strArr, k, l, first;
      for (let i = 0; i < j; i++) {
        strArr = strPath[i].split("_");
        k = 0;
        l = strArr.length;
        for (; k < l; k++) {
          if (k !== 0) {
            strArr[k] = strArr[k].toLowerCase();
          }
          first = strArr[k].charAt(0);
          first = lowFirstLetter && i === 0 && k === 0 ? first.toLowerCase() : first.toUpperCase();
          strArr[k] = first + strArr[k].substring(1);
        }
        strPath[i] = strArr.join("");
      }
      return strPath.join("::");
    }
    exports.camelize = camelize;
    function underscore(str, allUpperCase) {
      if (allUpperCase && str === str.toUpperCase())
        return str;
      const strPath = str.split("::");
      const j = strPath.length;
      for (let i = 0; i < j; i++) {
        strPath[i] = strPath[i].replace(uppercase, "_$1");
        strPath[i] = strPath[i].replace(underbarPrefix, "");
      }
      return strPath.join("/").toLowerCase();
    }
    exports.underscore = underscore;
    function humanize2(str, lowFirstLetter) {
      str = str.toLowerCase();
      str = str.replace(idSuffix, "");
      str = str.replace(underbar, " ");
      if (!lowFirstLetter) {
        str = capitalize(str);
      }
      return str;
    }
    exports.humanize = humanize2;
    function capitalize(str) {
      str = str.toLowerCase();
      return str.substring(0, 1).toUpperCase() + str.substring(1);
    }
    exports.capitalize = capitalize;
    function dasherize(str) {
      return str.replace(spaceOrUnderbar, "-");
    }
    exports.dasherize = dasherize;
    function titleize(str) {
      str = str.toLowerCase().replace(underbar, " ");
      const strArr = str.split(" ");
      const j = strArr.length;
      let d, l;
      for (let i = 0; i < j; i++) {
        d = strArr[i].split("-");
        l = d.length;
        for (let k = 0; k < l; k++) {
          if (nonTitlecasedWords.indexOf(d[k].toLowerCase()) < 0) {
            d[k] = capitalize(d[k]);
          }
        }
        strArr[i] = d.join("-");
      }
      str = strArr.join(" ");
      str = str.substring(0, 1).toUpperCase() + str.substring(1);
      return str;
    }
    exports.titleize = titleize;
    function demodulize(str) {
      const strArr = str.split("::");
      return strArr[strArr.length - 1];
    }
    exports.demodulize = demodulize;
    function tableize(str) {
      str = underscore(str);
      str = pluralize4(str);
      return str;
    }
    exports.tableize = tableize;
    function classify(str) {
      str = camelize(str);
      str = singularize2(str);
      return str;
    }
    exports.classify = classify;
    function foreignKey(str, dropIdUbar) {
      str = demodulize(str);
      str = underscore(str) + (dropIdUbar ? "" : "_") + "id";
      return str;
    }
    exports.foreignKey = foreignKey;
    function ordinalize(str) {
      const strArr = str.split(" ");
      const j = strArr.length;
      for (let i = 0; i < j; i++) {
        const k = parseInt(strArr[i], 10);
        if (!isNaN(k)) {
          const ltd = strArr[i].substring(strArr[i].length - 2);
          const ld = strArr[i].substring(strArr[i].length - 1);
          let suf = "th";
          if (ltd != "11" && ltd != "12" && ltd != "13") {
            if (ld === "1") {
              suf = "st";
            } else if (ld === "2") {
              suf = "nd";
            } else if (ld === "3") {
              suf = "rd";
            }
          }
          strArr[i] += suf;
        }
      }
      return strArr.join(" ");
    }
    exports.ordinalize = ordinalize;
    var transformFunctions = {
      pluralize: pluralize4,
      singularize: singularize2,
      camelize,
      underscore,
      humanize: humanize2,
      capitalize,
      dasherize,
      titleize,
      demodulize,
      tableize,
      classify,
      foreignKey,
      ordinalize
    };
    function transform2(str, arr) {
      const j = arr.length;
      for (let i = 0; i < j; i++) {
        const method = arr[i];
        const methodFn = transformFunctions[method];
        if (methodFn) {
          str = methodFn(str);
        }
      }
      return str;
    }
    exports.transform = transform2;
  }
});

// node_modules/ra-core/dist/esm/auth/useAuthProvider.js
var import_react2 = __toESM(require_react());

// node_modules/ra-core/dist/esm/auth/AuthContext.js
var import_react = __toESM(require_react());
var AuthContext = (0, import_react.createContext)(void 0);
AuthContext.displayName = "AuthContext";

// node_modules/ra-core/dist/esm/auth/useAuthProvider.js
var defaultAuthParams = {
  loginUrl: "/login",
  afterLoginUrl: "/"
};
var useAuthProvider = function() {
  return (0, import_react2.useContext)(AuthContext);
};
var useAuthProvider_default = useAuthProvider;

// node_modules/ra-core/dist/esm/auth/useAuthState.js
var import_react140 = __toESM(require_react());

// node_modules/ra-core/dist/esm/auth/useLogout.js
var import_react139 = __toESM(require_react());

// node_modules/ra-core/dist/esm/store/localStorageStore.js
var RA_STORE = "RaStore";
var testLocalStorage = function() {
  if (typeof window === "undefined" || window.localStorage == void 0) {
    return false;
  }
  try {
    window.localStorage.setItem("test", "test");
    window.localStorage.removeItem("test");
    return true;
  } catch (e) {
    return false;
  }
};
var localStorageAvailable = testLocalStorage();
var localStorageStore = function(version, appKey) {
  if (version === void 0) {
    version = "1";
  }
  if (appKey === void 0) {
    appKey = "";
  }
  var prefix = "".concat(RA_STORE).concat(appKey);
  var prefixLength = prefix.length;
  var subscriptions = {};
  var publish = function(key, value) {
    Object.keys(subscriptions).forEach(function(id) {
      if (!subscriptions[id])
        return;
      if (subscriptions[id].key === key) {
        subscriptions[id].callback(value);
      }
    });
  };
  var onLocalStorageChange = function(event) {
    var _a;
    if (((_a = event.key) === null || _a === void 0 ? void 0 : _a.substring(0, prefixLength)) !== prefix) {
      return;
    }
    var key = event.key.substring(prefixLength + 1);
    var value = event.newValue ? tryParse(event.newValue) : void 0;
    Object.keys(subscriptions).forEach(function(id) {
      if (!subscriptions[id])
        return;
      if (subscriptions[id].key === key) {
        if (value === null) {
          subscriptions[id].callback(void 0);
        } else {
          subscriptions[id].callback(value == null ? void 0 : value);
        }
      }
    });
  };
  return {
    setup: function() {
      if (localStorageAvailable) {
        var storedVersion = getStorage().getItem("".concat(prefix, ".version"));
        if (storedVersion && storedVersion !== version) {
          var storage_1 = getStorage();
          Object.keys(storage_1).forEach(function(key) {
            if (key.startsWith(prefix)) {
              storage_1.removeItem(key);
            }
          });
        }
        getStorage().setItem("".concat(prefix, ".version"), version);
        window.addEventListener("storage", onLocalStorageChange);
      }
    },
    teardown: function() {
      if (localStorageAvailable) {
        window.removeEventListener("storage", onLocalStorageChange);
      }
    },
    getItem: function(key, defaultValue) {
      var valueFromStorage = getStorage().getItem("".concat(prefix, ".").concat(key));
      return valueFromStorage == null ? defaultValue : tryParse(valueFromStorage);
    },
    setItem: function(key, value) {
      if (value === void 0) {
        getStorage().removeItem("".concat(prefix, ".").concat(key));
      } else {
        getStorage().setItem("".concat(prefix, ".").concat(key), JSON.stringify(value));
      }
      publish(key, value);
    },
    removeItem: function(key) {
      getStorage().removeItem("".concat(prefix, ".").concat(key));
      publish(key, void 0);
    },
    removeItems: function(keyPrefix) {
      var storage = getStorage();
      Object.keys(storage).forEach(function(key) {
        if (key.startsWith("".concat(prefix, ".").concat(keyPrefix))) {
          storage.removeItem(key);
          var publishKey = key.substring(prefixLength + 1);
          publish(publishKey, void 0);
        }
      });
    },
    reset: function() {
      var storage = getStorage();
      Object.keys(storage).forEach(function(key) {
        if (key.startsWith(prefix)) {
          storage.removeItem(key);
          var publishKey = key.substring(prefixLength + 1);
          publish(publishKey, void 0);
        }
      });
    },
    subscribe: function(key, callback) {
      var id = Math.random().toString();
      subscriptions[id] = {
        key,
        callback
      };
      return function() {
        delete subscriptions[id];
      };
    }
  };
};
var tryParse = function(value) {
  try {
    return JSON.parse(value);
  } catch (e) {
    return value;
  }
};
var LocalStorageShim = (
  /** @class */
  function() {
    function LocalStorageShim2() {
      this.valuesMap = /* @__PURE__ */ new Map();
    }
    LocalStorageShim2.prototype.getItem = function(key) {
      if (this.valuesMap.has(key)) {
        return String(this.valuesMap.get(key));
      }
      return null;
    };
    LocalStorageShim2.prototype.setItem = function(key, value) {
      this.valuesMap.set(key, value);
    };
    LocalStorageShim2.prototype.removeItem = function(key) {
      this.valuesMap.delete(key);
    };
    LocalStorageShim2.prototype.removeItems = function(keyPrefix) {
      var _this = this;
      this.valuesMap.forEach(function(value, key) {
        if (key.startsWith(keyPrefix)) {
          _this.valuesMap.delete(key);
        }
      });
    };
    LocalStorageShim2.prototype.clear = function() {
      this.valuesMap.clear();
    };
    LocalStorageShim2.prototype.key = function(i) {
      if (arguments.length === 0) {
        throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");
      }
      var arr = Array.from(this.valuesMap.keys());
      return arr[i];
    };
    Object.defineProperty(LocalStorageShim2.prototype, "length", {
      get: function() {
        return this.valuesMap.size;
      },
      enumerable: false,
      configurable: true
    });
    return LocalStorageShim2;
  }()
);
var memoryStorage = new LocalStorageShim();
var getStorage = function() {
  return localStorageAvailable ? window.localStorage : memoryStorage;
};

// node_modules/ra-core/dist/esm/store/memoryStore.js
var import_set = __toESM(require_set());
var import_unset = __toESM(require_unset());
var import_get = __toESM(require_get());
var memoryStore = function(storage) {
  if (storage === void 0) {
    storage = {};
  }
  var subscriptions = {};
  var publish = function(key, value) {
    Object.keys(subscriptions).forEach(function(id) {
      if (!subscriptions[id])
        return;
      if (subscriptions[id].key === key) {
        subscriptions[id].callback(value);
      }
    });
  };
  return {
    setup: function() {
    },
    teardown: function() {
      Object.keys(storage).forEach(function(key) {
        return delete storage[key];
      });
    },
    getItem: function(key, defaultValue) {
      return (0, import_get.default)(storage, key, defaultValue);
    },
    setItem: function(key, value) {
      (0, import_set.default)(storage, key, value);
      publish(key, value);
    },
    removeItem: function(key) {
      (0, import_unset.default)(storage, key);
      publish(key, void 0);
    },
    removeItems: function(keyPrefix) {
      var flatStorage = flatten(storage);
      Object.keys(flatStorage).forEach(function(key) {
        if (!key.startsWith(keyPrefix)) {
          return;
        }
        (0, import_unset.default)(storage, key);
        publish(key, void 0);
      });
    },
    reset: function() {
      var flatStorage = flatten(storage);
      Object.keys(flatStorage).forEach(function(key) {
        (0, import_unset.default)(storage, key);
        publish(key, void 0);
      });
    },
    subscribe: function(key, callback) {
      var id = Math.random().toString();
      subscriptions[id] = {
        key,
        callback
      };
      return function() {
        delete subscriptions[id];
      };
    }
  };
};
var flatten = function(data) {
  var result = {};
  function doFlatten(current, prop) {
    if (Object(current) !== current) {
      result[prop] = current;
    } else if (Array.isArray(current)) {
      result[prop] = current;
    } else {
      var isEmpty3 = true;
      for (var p in current) {
        isEmpty3 = false;
        doFlatten(current[p], prop ? prop + "." + p : p);
      }
      if (isEmpty3 && prop)
        result[prop] = {};
    }
  }
  doFlatten(data, "");
  return result;
};

// node_modules/ra-core/dist/esm/store/StoreContext.js
var import_react3 = __toESM(require_react());
var defaultStore = memoryStore();
var StoreContext = (0, import_react3.createContext)(defaultStore);

// node_modules/ra-core/dist/esm/store/StoreContextProvider.js
var React = __toESM(require_react());
var import_react4 = __toESM(require_react());
var StoreContextProvider = function(_a) {
  var Store = _a.value, children = _a.children;
  (0, import_react4.useEffect)(function() {
    Store.setup();
    return function() {
      Store.teardown();
    };
  }, [Store]);
  return React.createElement(StoreContext.Provider, { value: Store }, children);
};

// node_modules/ra-core/dist/esm/store/StoreSetter.js
var React2 = __toESM(require_react());
var import_react6 = __toESM(require_react());

// node_modules/ra-core/dist/esm/store/useStoreContext.js
var import_react5 = __toESM(require_react());
var useStoreContext = function() {
  return (0, import_react5.useContext)(StoreContext);
};

// node_modules/ra-core/dist/esm/store/StoreSetter.js
var StoreSetter = function(_a) {
  var value = _a.value, name = _a.name, children = _a.children;
  var setItem = useStoreContext().setItem;
  (0, import_react6.useEffect)(function() {
    setItem(name, value);
  }, [name, setItem, value]);
  return React2.createElement(React2.Fragment, null, children);
};

// node_modules/ra-core/dist/esm/store/useStore.js
var import_react136 = __toESM(require_react());
var import_isEqual7 = __toESM(require_isEqual());

// node_modules/ra-core/dist/esm/util/escapePath.js
var escapePath_default = function(url) {
  return url.replace(/(\(|\))/g, "\\$1");
};

// node_modules/ra-core/dist/esm/util/FieldTitle.js
var React46 = __toESM(require_react());
var import_react131 = __toESM(require_react());

// node_modules/ra-core/dist/esm/i18n/substituteTokens.js
var substituteTokens = function(template, data) {
  return template && data ? String.prototype.replace.call(template, defaultTokenRegex, function(expression, argument) {
    if (!data.hasOwnProperty(argument) || data[argument] == null) {
      return expression;
    }
    return data[argument];
  }) : template;
};
var defaultTokenRegex = /%\{(.*?)\}/g;

// node_modules/ra-core/dist/esm/i18n/TestTranslationProvider.js
var React5 = __toESM(require_react());
var import_get2 = __toESM(require_get());

// node_modules/ra-core/dist/esm/i18n/I18nContextProvider.js
var React4 = __toESM(require_react());
var import_react14 = __toESM(require_react());

// node_modules/ra-core/dist/esm/i18n/I18nContext.js
var import_react7 = __toESM(require_react());
var defaultI18nProvider = {
  translate: function(key, options) {
    return (options === null || options === void 0 ? void 0 : options._) ? substituteTokens(options._, options) : substituteTokens(key, options);
  },
  changeLocale: function() {
    return Promise.resolve();
  },
  getLocale: function() {
    return "en";
  }
};
var I18nContext = (0, import_react7.createContext)(defaultI18nProvider);
I18nContext.displayName = "I18nContext";

// node_modules/ra-core/dist/esm/notification/AddNotificationContext.js
var import_react8 = __toESM(require_react());
var AddNotificationContext = (0, import_react8.createContext)(function() {
});

// node_modules/ra-core/dist/esm/notification/NotificationContext.js
var import_react9 = __toESM(require_react());
var NotificationContext = (0, import_react9.createContext)({
  notifications: [],
  addNotification: function() {
  },
  takeNotification: function() {
  },
  resetNotifications: function() {
  },
  setNotifications: function() {
  }
});

// node_modules/ra-core/dist/esm/notification/NotificationContextProvider.js
var React3 = __toESM(require_react());
var import_react10 = __toESM(require_react());
var __spreadArray = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var NotificationContextProvider = function(_a) {
  var children = _a.children;
  var _b = (0, import_react10.useState)([]), notifications = _b[0], setNotifications = _b[1];
  var addNotification = (0, import_react10.useCallback)(function(notification) {
    setNotifications(function(notifications2) {
      return __spreadArray(__spreadArray([], notifications2, true), [notification], false);
    });
  }, []);
  var takeNotification = (0, import_react10.useCallback)(function() {
    if (notifications.length === 0)
      return;
    var notification = notifications[0], rest = notifications.slice(1);
    setNotifications(rest);
    return notification;
  }, [notifications]);
  var resetNotifications = (0, import_react10.useCallback)(function() {
    setNotifications([]);
  }, []);
  var contextValue = (0, import_react10.useMemo)(
    function() {
      return {
        notifications,
        addNotification,
        takeNotification,
        resetNotifications,
        setNotifications
      };
    },
    [notifications]
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  return React3.createElement(
    NotificationContext.Provider,
    { value: contextValue },
    React3.createElement(AddNotificationContext.Provider, { value: addNotification }, children)
  );
};

// node_modules/ra-core/dist/esm/notification/useAddNotificationContext.js
var import_react11 = __toESM(require_react());
var useAddNotificationContext = function() {
  return (0, import_react11.useContext)(AddNotificationContext);
};

// node_modules/ra-core/dist/esm/notification/useNotificationContext.js
var import_react12 = __toESM(require_react());
var useNotificationContext = function() {
  return (0, import_react12.useContext)(NotificationContext);
};

// node_modules/ra-core/dist/esm/notification/useNotify.js
var import_react13 = __toESM(require_react());
var __rest = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useNotify = function() {
  var addNotification = useAddNotificationContext();
  return (0, import_react13.useCallback)(function(message, options) {
    if (options === void 0) {
      options = {};
    }
    var _a = options.type, messageType = _a === void 0 ? "info" : _a, notificationOptions = __rest(options, ["type"]);
    addNotification({
      message,
      type: messageType,
      notificationOptions
    });
  }, [addNotification]);
};

// node_modules/ra-core/dist/esm/i18n/I18nContextProvider.js
var I18nContextProvider = function(_a) {
  var _b = _a.value, value = _b === void 0 ? defaulti18nContext : _b, children = _a.children;
  var locale = useStore("locale")[0];
  var notify = useNotify();
  var _c = (0, import_react14.useState)(0), key = _c[0], setKey = _c[1];
  var _d = (0, import_react14.useState)(locale === value.getLocale()), isInitialized = _d[0], setInitialized = _d[1];
  (0, import_react14.useEffect)(function() {
    if (locale && value.getLocale() !== locale) {
      new Promise(function(resolve) {
        resolve(value.changeLocale(locale));
      }).then(function() {
        setKey(function(key2) {
          return key2 + 1;
        });
        setInitialized(true);
      }).catch(function(error) {
        setInitialized(true);
        notify("ra.notification.i18n_error", { type: "error" });
        console.error(error);
      });
    } else {
      setInitialized(true);
    }
  }, [value, locale, notify]);
  return isInitialized ? React4.createElement(I18nContext.Provider, { value, key }, children) : null;
};
var defaulti18nContext = {
  translate: function(x) {
    return x;
  },
  changeLocale: function() {
    return Promise.resolve();
  },
  getLocale: function() {
    return "en";
  }
};

// node_modules/ra-core/dist/esm/i18n/TestTranslationProvider.js
var TestTranslationProvider = function(_a) {
  var translate = _a.translate, messages = _a.messages, children = _a.children;
  return React5.createElement(I18nContextProvider, { value: testI18nProvider({ translate, messages }) }, children);
};
var testI18nProvider = function(_a) {
  var _b = _a === void 0 ? {} : _a, translate = _b.translate, messages = _b.messages;
  return {
    translate: messages ? function(key, options) {
      var message = (0, import_get2.default)(messages, key);
      return message ? typeof message === "function" ? message(options) : message : (options === null || options === void 0 ? void 0 : options._) || key;
    } : translate || function(key) {
      return key;
    },
    changeLocale: function() {
      return Promise.resolve();
    },
    getLocale: function() {
      return "en";
    }
  };
};

// node_modules/ra-core/dist/esm/i18n/TranslatableContext.js
var import_react15 = __toESM(require_react());
var TranslatableContext = (0, import_react15.createContext)(void 0);

// node_modules/ra-core/dist/esm/i18n/TranslatableContextProvider.js
var React6 = __toESM(require_react());
var TranslatableContextProvider = function(_a) {
  var children = _a.children, value = _a.value;
  return React6.createElement(TranslatableContext.Provider, { value }, children);
};

// node_modules/ra-core/dist/esm/i18n/TranslationUtils.js
var import_merge = __toESM(require_merge());
var __spreadArray2 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var resolveBrowserLocale = function(defaultLocale, options) {
  var _a = window.navigator, language = _a.language, browserLanguage = _a.browserLanguage, userLanguage = _a.userLanguage;
  var locale = language || browserLanguage || userLanguage || defaultLocale || DEFAULT_LOCALE;
  return (options === null || options === void 0 ? void 0 : options.fullLocale) ? locale : locale.split("-")[0];
};
var mergeTranslations = function() {
  var translationsModules = [];
  for (var _i = 0; _i < arguments.length; _i++) {
    translationsModules[_i] = arguments[_i];
  }
  return import_merge.default.apply(void 0, __spreadArray2([{}], translationsModules, false));
};

// node_modules/ra-core/dist/esm/i18n/useLocaleState.js
var import_react17 = __toESM(require_react());

// node_modules/ra-core/dist/esm/i18n/useI18nProvider.js
var import_react16 = __toESM(require_react());
var useI18nProvider = function() {
  return (0, import_react16.useContext)(I18nContext);
};

// node_modules/ra-core/dist/esm/i18n/useLocaleState.js
var useLocaleState = function() {
  var i18nProvider = useI18nProvider();
  var defaultLocale = (0, import_react17.useMemo)(function() {
    return i18nProvider.getLocale();
  }, [i18nProvider]);
  return useStore("locale", defaultLocale);
};

// node_modules/ra-core/dist/esm/i18n/useLocale.js
var useLocale = function() {
  var locale = useLocaleState()[0];
  return locale;
};

// node_modules/ra-core/dist/esm/i18n/useLocales.js
var import_react18 = __toESM(require_react());
var useLocales = function(options) {
  var _a;
  var i18nProvider = useI18nProvider();
  var locales = (0, import_react18.useMemo)(function() {
    return (i18nProvider === null || i18nProvider === void 0 ? void 0 : i18nProvider.getLocales) ? i18nProvider === null || i18nProvider === void 0 ? void 0 : i18nProvider.getLocales() : [];
  }, [i18nProvider]);
  return (_a = options === null || options === void 0 ? void 0 : options.locales) !== null && _a !== void 0 ? _a : locales;
};

// node_modules/ra-core/dist/esm/i18n/useSetLocale.js
var useSetLocale = function() {
  var _a = useLocaleState(), setLocale = _a[1];
  return setLocale;
};

// node_modules/ra-core/dist/esm/i18n/useTranslatable.js
var import_react19 = __toESM(require_react());
var import_set2 = __toESM(require_set());
var import_get3 = __toESM(require_get());
var import_cloneDeep = __toESM(require_cloneDeep());
var __spreadArray3 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useTranslatable = function(options) {
  var localeFromUI = useLocaleState()[0];
  var _a = options.defaultLocale, defaultLocale = _a === void 0 ? localeFromUI : _a, locales = options.locales;
  var _b = (0, import_react19.useState)(defaultLocale), selectedLocale = _b[0], setSelectedLocale = _b[1];
  var context = (0, import_react19.useMemo)(function() {
    return {
      locales,
      selectedLocale,
      selectLocale: setSelectedLocale,
      getRecordForLocale
    };
  }, [locales, selectedLocale]);
  return context;
};
var getRecordForLocale = function(record, locale) {
  if (!record) {
    return record;
  }
  var paths = getRecordPaths(record);
  var recordForLocale = paths.reduce(function(acc, path) {
    if (path.includes(locale)) {
      var pathWithoutLocale = path.slice(0, -1);
      var value = (0, import_get3.default)(record, path);
      return (0, import_set2.default)(acc, pathWithoutLocale, value);
    }
    return acc;
  }, (0, import_cloneDeep.default)(record));
  return recordForLocale;
};
var getRecordPaths = function(record, path) {
  if (record === void 0) {
    record = {};
  }
  if (path === void 0) {
    path = [];
  }
  return Object.entries(record).reduce(function(acc, _a) {
    var key = _a[0], value = _a[1];
    if (value !== null && typeof value === "object") {
      return __spreadArray3(__spreadArray3(__spreadArray3([], acc, true), [
        __spreadArray3(__spreadArray3([], path, true), [key], false)
      ], false), getRecordPaths(value, __spreadArray3(__spreadArray3([], path, true), [key], false)), true);
    }
    if (Array.isArray(value)) {
      return value.reduce(function(acc2, item, index) {
        return __spreadArray3(__spreadArray3([], acc2, true), getRecordPaths(item, __spreadArray3(__spreadArray3([], path, true), [key, "".concat(index)], false)), true);
      }, acc);
    }
    return __spreadArray3(__spreadArray3([], acc, true), [__spreadArray3(__spreadArray3([], path, true), [key], false)], false);
  }, []);
};

// node_modules/ra-core/dist/esm/i18n/useTranslatableContext.js
var import_react20 = __toESM(require_react());
var useTranslatableContext = function() {
  var context = (0, import_react20.useContext)(TranslatableContext);
  if (!context) {
    throw new Error("useTranslatableContext must be used inside a TranslatableContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/i18n/useTranslate.js
var import_react21 = __toESM(require_react());
var useTranslate = function() {
  var i18nProvider = useI18nProvider();
  var translate = (0, import_react21.useCallback)(
    function(key, options) {
      return i18nProvider.translate(key, options);
    },
    // update the hook each time the locale changes
    [i18nProvider]
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  return i18nProvider ? translate : identity;
};
var identity = function(key) {
  return key;
};

// node_modules/ra-core/dist/esm/i18n/useTranslateLabel.js
var import_react130 = __toESM(require_react());

// node_modules/ra-core/dist/esm/core/CoreAdmin.js
var React41 = __toESM(require_react());

// node_modules/ra-core/dist/esm/core/CoreAdminContext.js
var React37 = __toESM(require_react());
var import_react117 = __toESM(require_react());

// node_modules/ra-core/dist/esm/routing/AdminRouter.js
var React8 = __toESM(require_react());

// node_modules/ra-core/dist/esm/routing/BasenameContextProvider.js
var React7 = __toESM(require_react());

// node_modules/ra-core/dist/esm/routing/BasenameContext.js
var import_react22 = __toESM(require_react());
var BasenameContext = (0, import_react22.createContext)("");

// node_modules/ra-core/dist/esm/routing/BasenameContextProvider.js
var BasenameContextProvider = function(_a) {
  var children = _a.children, basename = _a.basename;
  return React7.createElement(BasenameContext.Provider, { value: basename }, children);
};

// node_modules/ra-core/dist/esm/routing/AdminRouter.js
var AdminRouter = function(_a) {
  var _b = _a.basename, basename = _b === void 0 ? "" : _b, children = _a.children;
  var isInRouter = useInRouterContext();
  var Router = isInRouter ? DummyRouter : InternalRouter;
  return React8.createElement(
    BasenameContextProvider,
    { basename: isInRouter ? basename : "" },
    React8.createElement(Router, { basename }, children)
  );
};
var DummyRouter = function(_a) {
  var children = _a.children;
  return React8.createElement(React8.Fragment, null, children);
};
var InternalRouter = function(_a) {
  var children = _a.children, basename = _a.basename;
  var router = createHashRouter([{ path: "*", element: React8.createElement(React8.Fragment, null, children) }], {
    basename
  });
  return React8.createElement(RouterProvider, { router });
};

// node_modules/ra-core/dist/esm/routing/useRestoreScrollPosition.js
var import_react23 = __toESM(require_react());
var import_debounce = __toESM(require_debounce());
var useRestoreScrollPosition = function(storeKey, debounceMs) {
  if (debounceMs === void 0) {
    debounceMs = 250;
  }
  var _a = useTrackScrollPosition(storeKey, debounceMs), position = _a[0], setPosition = _a[1];
  var location = useLocation();
  (0, import_react23.useEffect)(function() {
    var _a2;
    if (position != null && ((_a2 = location.state) === null || _a2 === void 0 ? void 0 : _a2._scrollToTop) !== true) {
      setPosition(void 0);
      window.scrollTo(0, position);
    }
  }, []);
};
var useTrackScrollPosition = function(storeKey, debounceMs) {
  if (debounceMs === void 0) {
    debounceMs = 250;
  }
  var _a = useStore(storeKey), position = _a[0], setPosition = _a[1];
  (0, import_react23.useEffect)(function() {
    if (typeof window === "undefined") {
      return;
    }
    var handleScroll = (0, import_debounce.default)(function() {
      setPosition(window.scrollY);
    }, debounceMs);
    window.addEventListener("scroll", handleScroll);
    return function() {
      window.removeEventListener("scroll", handleScroll);
    };
  }, [debounceMs, setPosition]);
  return [position, setPosition];
};

// node_modules/ra-core/dist/esm/routing/RestoreScrollPosition.js
var RestoreScrollPosition = function(_a) {
  var children = _a.children, storeKey = _a.storeKey, _b = _a.debounce, debounce4 = _b === void 0 ? 250 : _b;
  useRestoreScrollPosition(storeKey, debounce4);
  return children;
};

// node_modules/ra-core/dist/esm/routing/useBasename.js
var import_react24 = __toESM(require_react());
var useBasename = function() {
  return (0, import_react24.useContext)(BasenameContext);
};

// node_modules/ra-core/dist/esm/routing/useCreatePath.js
var import_react25 = __toESM(require_react());
var useCreatePath = function() {
  var basename = useBasename();
  return (0, import_react25.useCallback)(function(_a) {
    var resource = _a.resource, id = _a.id, type = _a.type;
    if (["list", "create", "edit", "show"].includes(type) && !resource) {
      throw new Error("Cannot create a link without a resource. You must provide the resource name.");
    }
    switch (type) {
      case "list":
        return removeDoubleSlashes("".concat(basename, "/").concat(resource));
      case "create":
        return removeDoubleSlashes("".concat(basename, "/").concat(resource, "/create"));
      case "edit": {
        if (id == null) {
          return removeDoubleSlashes("".concat(basename, "/").concat(resource));
        }
        return removeDoubleSlashes("".concat(basename, "/").concat(resource, "/").concat(encodeURIComponent(id)));
      }
      case "show": {
        if (id == null) {
          return removeDoubleSlashes("".concat(basename, "/").concat(resource));
        }
        return removeDoubleSlashes("".concat(basename, "/").concat(resource, "/").concat(encodeURIComponent(id), "/show"));
      }
      default:
        return type;
    }
  }, [basename]);
};
var removeDoubleSlashes = function(path) {
  return path.replace("//", "/");
};

// node_modules/ra-core/dist/esm/routing/useGetPathForRecord.js
var import_react110 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/useFilterState.js
var import_react26 = __toESM(require_react());
var import_debounce2 = __toESM(require_debounce());
var import_isEqual = __toESM(require_isEqual());
var __assign = function() {
  __assign = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign.apply(this, arguments);
};
var defaultFilter = {};
var defaultFilterToQuery = function(v) {
  return { q: v };
};
var useFilterState_default = function(_a) {
  var _b = _a.filterToQuery, filterToQuery = _b === void 0 ? defaultFilterToQuery : _b, _c = _a.permanentFilter, permanentFilter = _c === void 0 ? {} : _c, _d = _a.debounceTime, debounceTime = _d === void 0 ? 500 : _d;
  var permanentFilterProp = (0, import_react26.useRef)(permanentFilter);
  var latestValue = (0, import_react26.useRef)();
  var _e = useSafeSetState(__assign(__assign({}, permanentFilter), filterToQuery(""))), filter = _e[0], setFilterValue = _e[1];
  var permanentFilterSignature = JSON.stringify(permanentFilter);
  (0, import_react26.useEffect)(function() {
    if (!(0, import_isEqual.default)(permanentFilterProp.current, permanentFilter)) {
      permanentFilterProp.current = permanentFilter;
      setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(latestValue.current || "")));
    }
  }, [permanentFilterSignature, permanentFilterProp, filterToQuery]);
  var setFilter = (0, import_react26.useCallback)(
    (0, import_debounce2.default)(function(value) {
      setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(value)));
      latestValue.current = value;
    }, debounceTime),
    [permanentFilterSignature]
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  return {
    filter: filter !== null && filter !== void 0 ? filter : defaultFilter,
    setFilter
  };
};

// node_modules/ra-core/dist/esm/controller/useSortState.js
var import_react27 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/list/queryReducer.js
var import_set3 = __toESM(require_set());

// node_modules/ra-core/dist/esm/util/shallowEqual.js
function is(x, y) {
  if (x === y) {
    return x !== 0 || y !== 0 || 1 / x === 1 / y;
  } else {
    return x !== x && y !== y;
  }
}
var shallowEqual = function(objA, objB) {
  if (is(objA, objB))
    return true;
  if (typeof objA !== "object" || objA === null || typeof objB !== "object" || objB === null) {
    return false;
  }
  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);
  if (keysA.length !== keysB.length)
    return false;
  for (var i = 0; i < keysA.length; i++) {
    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }
  return true;
};

// node_modules/ra-core/dist/esm/util/removeEmpty.js
var __assign2 = function() {
  __assign2 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign2.apply(this, arguments);
};
var isObject = function(obj) {
  return obj && Object.prototype.toString.call(obj) === "[object Object]";
};
var isEmpty = function(obj) {
  return obj instanceof Date ? false : obj === "" || obj === null || obj === void 0 || shallowEqual(obj, {});
};
var removeEmpty = function(object) {
  return Object.keys(object).reduce(function(acc, key) {
    var _a;
    var child = object[key];
    if (isObject(object[key])) {
      child = removeEmpty(object[key]);
    }
    return isEmpty(child) ? acc : __assign2(__assign2({}, acc), (_a = {}, _a[key] = child, _a));
  }, {});
};
var removeEmpty_default = removeEmpty;

// node_modules/ra-core/dist/esm/util/removeKey.js
var removeKey = function(target, path) {
  return Object.keys(target).reduce(function(acc, key) {
    var _a;
    if (key !== path) {
      return Object.assign({}, acc, (_a = {}, _a[key] = target[key], _a));
    }
    return acc;
  }, {});
};
var deepRemoveKey = function(target, path) {
  var _a;
  var paths = path.split(".");
  if (paths.length === 1) {
    return removeKey(target, path);
  }
  var deepKey = paths[0];
  if (target[deepKey] === void 0) {
    return target;
  }
  var deep = deepRemoveKey(target[deepKey], paths.slice(1).join("."));
  if (Object.keys(deep).length === 0) {
    return removeKey(target, deepKey);
  }
  return Object.assign({}, target, (_a = {}, _a[deepKey] = deep, _a));
};
var removeKey_default = deepRemoveKey;

// node_modules/ra-core/dist/esm/controller/list/queryReducer.js
var __assign3 = function() {
  __assign3 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign3.apply(this, arguments);
};
var SET_SORT = "SET_SORT";
var SORT_ASC = "ASC";
var SORT_DESC = "DESC";
var SET_PAGE = "SET_PAGE";
var SET_PER_PAGE = "SET_PER_PAGE";
var SET_FILTER = "SET_FILTER";
var SHOW_FILTER = "SHOW_FILTER";
var HIDE_FILTER = "HIDE_FILTER";
var oppositeOrder = function(direction) {
  return direction === SORT_DESC ? SORT_ASC : SORT_DESC;
};
var queryReducer = function(previousState, action) {
  var _a;
  var _b;
  switch (action.type) {
    case SET_SORT:
      if (action.payload.field === previousState.sort) {
        return __assign3(__assign3({}, previousState), { order: (_b = action.payload.order) !== null && _b !== void 0 ? _b : oppositeOrder(previousState.order), page: 1 });
      }
      return __assign3(__assign3({}, previousState), { sort: action.payload.field, order: action.payload.order || SORT_ASC, page: 1 });
    case SET_PAGE:
      return __assign3(__assign3({}, previousState), { page: action.payload });
    case SET_PER_PAGE:
      return __assign3(__assign3({}, previousState), { page: 1, perPage: action.payload });
    case SET_FILTER: {
      return __assign3(__assign3({}, previousState), { page: 1, filter: action.payload.filter, displayedFilters: action.payload.displayedFilters ? action.payload.displayedFilters : previousState.displayedFilters });
    }
    case SHOW_FILTER: {
      if (previousState.displayedFilters && previousState.displayedFilters[action.payload.filterName]) {
        return previousState;
      }
      return __assign3(__assign3({}, previousState), {
        filter: typeof action.payload.defaultValue !== "undefined" ? (0, import_set3.default)(previousState.filter, action.payload.filterName, action.payload.defaultValue) : previousState.filter,
        // we don't use lodash.set() for displayed filters
        // to avoid problems with compound filter names (e.g. 'author.name')
        displayedFilters: __assign3(__assign3({}, previousState.displayedFilters), (_a = {}, _a[action.payload.filterName] = true, _a))
      });
    }
    case HIDE_FILTER: {
      return __assign3(__assign3({}, previousState), {
        filter: removeEmpty_default(removeKey_default(previousState.filter, action.payload)),
        // we don't use lodash.set() for displayed filters
        // to avoid problems with compound filter names (e.g. 'author.name')
        displayedFilters: previousState.displayedFilters ? Object.keys(previousState.displayedFilters).reduce(function(filters, filter) {
          var _a2;
          return filter !== action.payload ? __assign3(__assign3({}, filters), (_a2 = {}, _a2[filter] = true, _a2)) : filters;
        }, {}) : previousState.displayedFilters
      });
    }
    default:
      return previousState;
  }
};
var queryReducer_default = queryReducer;

// node_modules/ra-core/dist/esm/controller/useSortState.js
var sortReducer = function(state, action) {
  switch (action.type) {
    case "SET_SORT":
      return action.payload;
    case "SET_SORT_FIELD": {
      var field = action.payload;
      var order = state.field === field ? state.order === SORT_ASC ? SORT_DESC : SORT_ASC : SORT_ASC;
      return { field, order };
    }
    case "SET_SORT_ORDER": {
      var order = action.payload;
      if (!state.field) {
        throw new Error("cannot change the order on an undefined sort field");
      }
      return {
        field: state.field,
        order
      };
    }
    default:
      return state;
  }
};
var defaultSort = { field: "", order: "ASC" };
var useSortState = function(initialSort) {
  if (initialSort === void 0) {
    initialSort = defaultSort;
  }
  var _a = (0, import_react27.useReducer)(sortReducer, initialSort), sort = _a[0], dispatch = _a[1];
  var isFirstRender = (0, import_react27.useRef)(true);
  (0, import_react27.useEffect)(function() {
    if (isFirstRender.current) {
      isFirstRender.current = false;
      return;
    }
    dispatch({ type: "SET_SORT", payload: initialSort });
  }, [initialSort.field, initialSort.order]);
  return {
    setSort: (0, import_react27.useCallback)(function(sort2) {
      return dispatch({ type: "SET_SORT", payload: sort2 });
    }, [dispatch]),
    setSortField: (0, import_react27.useCallback)(function(field) {
      return dispatch({ type: "SET_SORT_FIELD", payload: field });
    }, [dispatch]),
    setSortOrder: (0, import_react27.useCallback)(function(order) {
      return dispatch({ type: "SET_SORT_ORDER", payload: order });
    }, [dispatch]),
    sort
  };
};
var useSortState_default = useSortState;

// node_modules/ra-core/dist/esm/controller/usePaginationState.js
var import_react28 = __toESM(require_react());
var __assign4 = function() {
  __assign4 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign4.apply(this, arguments);
};
var paginationReducer = function(prevState, nextState) {
  return __assign4(__assign4({}, prevState), nextState);
};
var defaultPagination = {
  page: 1,
  perPage: 25
};
var usePaginationState_default = function(initialPagination) {
  if (initialPagination === void 0) {
    initialPagination = {};
  }
  var _a = (0, import_react28.useReducer)(paginationReducer, __assign4(__assign4({}, defaultPagination), initialPagination)), pagination = _a[0], setPagination = _a[1];
  var isFirstRender = (0, import_react28.useRef)(true);
  var setPerPage = (0, import_react28.useCallback)(function(perPage) {
    return setPagination({ perPage, page: 1 });
  }, []);
  var setPage = (0, import_react28.useCallback)(function(page) {
    return setPagination({ page });
  }, []);
  (0, import_react28.useEffect)(function() {
    if (isFirstRender.current) {
      isFirstRender.current = false;
      return;
    }
    setPerPage(initialPagination.perPage || 25);
  }, [initialPagination.perPage, setPerPage]);
  return {
    page: pagination.page,
    perPage: pagination.perPage,
    pagination,
    setPage,
    setPerPage,
    setPagination
  };
};

// node_modules/ra-core/dist/esm/controller/checkMinimumRequiredProps.js
var React9 = __toESM(require_react());
var useCheckMinimumRequiredProps = function(displayName, requiredProps, props) {
  var propNames = Object.keys(props);
  var missingProps = requiredProps.filter(function(prop) {
    return !propNames.includes(prop);
  });
  if (missingProps.length > 0) {
    throw new Error("<".concat(displayName, "> component is not properly configured, some essential props are missing.\nBe sure to pass the props from the parent. Example:\n\nconst My").concat(displayName, " = props => (\n    <").concat(displayName, " {...props}></").concat(displayName, ">\n);\n\nThe missing props are: ").concat(missingProps.join(", ")));
  }
};

// node_modules/ra-core/dist/esm/controller/button/useDeleteWithUndoController.js
var import_react46 = __toESM(require_react());

// node_modules/ra-core/dist/esm/dataProvider/dataFetchActions.js
var __spreadArray4 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var GET_LIST = "GET_LIST";
var GET_ONE = "GET_ONE";
var GET_MANY = "GET_MANY";
var GET_MANY_REFERENCE = "GET_MANY_REFERENCE";
var CREATE = "CREATE";
var UPDATE = "UPDATE";
var UPDATE_MANY = "UPDATE_MANY";
var DELETE = "DELETE";
var DELETE_MANY = "DELETE_MANY";
var fetchActionsWithRecordResponse = ["getOne", "create", "update"];
var fetchActionsWithArrayOfIdentifiedRecordsResponse = [
  "getList",
  "getMany",
  "getManyReference"
];
var fetchActionsWithArrayOfRecordsResponse = __spreadArray4(__spreadArray4([], fetchActionsWithArrayOfIdentifiedRecordsResponse, true), [
  "updateMany",
  "deleteMany"
], false);
var fetchActionsWithTotalResponse = ["getList", "getManyReference"];
var reactAdminFetchActions = __spreadArray4(__spreadArray4([], fetchActionsWithRecordResponse, true), fetchActionsWithArrayOfRecordsResponse, true);
var sanitizeFetchType = function(fetchType) {
  switch (fetchType) {
    case GET_LIST:
      return "getList";
    case GET_ONE:
      return "getOne";
    case GET_MANY:
      return "getMany";
    case GET_MANY_REFERENCE:
      return "getManyReference";
    case CREATE:
      return "create";
    case UPDATE:
      return "update";
    case UPDATE_MANY:
      return "updateMany";
    case DELETE:
      return "delete";
    case DELETE_MANY:
      return "deleteMany";
    default:
      return fetchType;
  }
};

// node_modules/ra-core/dist/esm/dataProvider/defaultDataProvider.js
var defaultDataProvider = {
  create: function() {
    return Promise.resolve({ data: null });
  },
  delete: function() {
    return Promise.resolve({ data: null });
  },
  deleteMany: function() {
    return Promise.resolve({ data: [] });
  },
  getList: function() {
    return Promise.resolve({ data: [], total: 0 });
  },
  getMany: function() {
    return Promise.resolve({ data: [] });
  },
  getManyReference: function() {
    return Promise.resolve({ data: [], total: 0 });
  },
  getOne: function() {
    return Promise.resolve({ data: null });
  },
  update: function() {
    return Promise.resolve({ data: null });
  },
  updateMany: function() {
    return Promise.resolve({ data: [] });
  }
};

// node_modules/ra-core/dist/esm/dataProvider/convertLegacyDataProvider.js
var fetchMap = {
  create: CREATE,
  delete: DELETE,
  deleteMany: DELETE_MANY,
  getList: GET_LIST,
  getMany: GET_MANY,
  getManyReference: GET_MANY_REFERENCE,
  getOne: GET_ONE,
  update: UPDATE,
  updateMany: UPDATE_MANY
};
var convertLegacyDataProvider = function(legacyDataProvider) {
  var proxy = new Proxy(defaultDataProvider, {
    get: function(_, name) {
      return function(resource, params) {
        if (Object.keys(fetchMap).includes(name.toString())) {
          var fetchType = fetchMap[name.toString()];
          return legacyDataProvider(fetchType, resource, params);
        }
        return legacyDataProvider(name.toString(), resource, params);
      };
    },
    apply: function(_, __, args) {
      return legacyDataProvider.apply(legacyDataProvider, args);
    }
  });
  return proxy;
};
var convertLegacyDataProvider_default = convertLegacyDataProvider;

// node_modules/ra-core/dist/esm/dataProvider/DataProviderContext.js
var import_react29 = __toESM(require_react());
var DataProviderContext = (0, import_react29.createContext)(null);
DataProviderContext.displayName = "DataProviderContext";
var DataProviderContext_default = DataProviderContext;

// node_modules/ra-core/dist/esm/dataProvider/HttpError.js
var __extends = /* @__PURE__ */ function() {
  var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
      d2.__proto__ = b2;
    } || function(d2, b2) {
      for (var p in b2) if (Object.prototype.hasOwnProperty.call(b2, p)) d2[p] = b2[p];
    };
    return extendStatics(d, b);
  };
  return function(d, b) {
    if (typeof b !== "function" && b !== null)
      throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var HttpError = (
  /** @class */
  function(_super) {
    __extends(HttpError2, _super);
    function HttpError2(message, status, body) {
      if (body === void 0) {
        body = null;
      }
      var _this = _super.call(this, message) || this;
      _this.message = message;
      _this.status = status;
      _this.body = body;
      Object.setPrototypeOf(_this, HttpError2.prototype);
      _this.name = _this.constructor.name;
      if (typeof Error.captureStackTrace === "function") {
        Error.captureStackTrace(_this, _this.constructor);
      } else {
        _this.stack = new Error(message).stack;
      }
      _this.stack = new Error().stack;
      return _this;
    }
    return HttpError2;
  }(Error)
);
var HttpError_default = HttpError;

// node_modules/ra-core/dist/esm/dataProvider/fetch.js
var fetch_exports = {};
__export(fetch_exports, {
  createHeadersFromOptions: () => createHeadersFromOptions,
  fetchJson: () => fetchJson,
  flattenObject: () => flattenObject,
  queryParameters: () => queryParameters
});
var import_query_string = __toESM(require_query_string());
var __assign5 = function() {
  __assign5 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign5.apply(this, arguments);
};
var __spreadArray5 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var createHeadersFromOptions = function(options) {
  var requestHeaders = options.headers || new Headers({
    Accept: "application/json"
  });
  var hasBody = options && options.body;
  var isContentTypeSet = requestHeaders.has("Content-Type");
  var isGetMethod = !(options === null || options === void 0 ? void 0 : options.method) || (options === null || options === void 0 ? void 0 : options.method) === "GET";
  var isFormData = (options === null || options === void 0 ? void 0 : options.body) instanceof FormData;
  var shouldSetContentType = hasBody && !isContentTypeSet && !isGetMethod && !isFormData;
  if (shouldSetContentType) {
    requestHeaders.set("Content-Type", "application/json");
  }
  if (options.user && options.user.authenticated && options.user.token) {
    requestHeaders.set("Authorization", options.user.token);
  }
  return requestHeaders;
};
var fetchJson = function(url, options) {
  if (options === void 0) {
    options = {};
  }
  var requestHeaders = createHeadersFromOptions(options);
  return fetch(url, __assign5(__assign5({}, options), { headers: requestHeaders })).then(function(response) {
    return response.text().then(function(text) {
      return {
        status: response.status,
        statusText: response.statusText,
        headers: response.headers,
        body: text
      };
    });
  }).then(function(_a) {
    var status = _a.status, statusText = _a.statusText, headers = _a.headers, body = _a.body;
    var json;
    try {
      json = JSON.parse(body);
    } catch (e) {
    }
    if (status < 200 || status >= 300) {
      return Promise.reject(new HttpError_default(json && json.message || statusText, status, json));
    }
    return Promise.resolve({ status, headers, body, json });
  });
};
var queryParameters = import_query_string.stringify;
var isValidObject = function(value) {
  if (!value) {
    return false;
  }
  var isArray2 = Array.isArray(value);
  var isBuffer = typeof Buffer !== "undefined" && Buffer.isBuffer(value);
  var isObject3 = Object.prototype.toString.call(value) === "[object Object]";
  var hasKeys = !!Object.keys(value).length;
  return !isArray2 && !isBuffer && isObject3 && hasKeys;
};
var flattenObject = function(value, path) {
  var _a;
  if (path === void 0) {
    path = [];
  }
  if (isValidObject(value)) {
    return Object.assign.apply(Object, __spreadArray5([{}], Object.keys(value).map(function(key) {
      return flattenObject(value[key], path.concat([key]));
    }), false));
  } else {
    return path.length ? (_a = {}, _a[path.join(".")] = value, _a) : value;
  }
};

// node_modules/eventemitter3/index.mjs
var import_index2 = __toESM(require_eventemitter3(), 1);
var eventemitter3_default = import_index2.default;

// node_modules/ra-core/dist/esm/dataProvider/undoableEventEmitter.js
var undoableEventEmitter_default = new eventemitter3_default();

// node_modules/ra-core/dist/esm/dataProvider/combineDataProviders.js
var __spreadArray6 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var combineDataProviders = function(dataProviderMatcher) {
  return new Proxy(defaultDataProvider, {
    get: function(target, name) {
      if (name === "then") {
        return null;
      }
      return function(resource) {
        var _a;
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
          params[_i - 1] = arguments[_i];
        }
        if (typeof name === "symbol") {
          return;
        }
        return (_a = dataProviderMatcher(resource))[name].apply(_a, __spreadArray6([resource], params, false));
      };
    }
  });
};

// node_modules/ra-core/dist/esm/dataProvider/testDataProvider.js
var __assign6 = function() {
  __assign6 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign6.apply(this, arguments);
};
var __awaiter = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var defaultTestDataProvider = {
  create: function() {
    return __awaiter(void 0, void 0, void 0, function() {
      return __generator(this, function(_a) {
        throw new Error("create is not implemented");
      });
    });
  },
  delete: function() {
    return __awaiter(void 0, void 0, void 0, function() {
      return __generator(this, function(_a) {
        throw new Error("delete not implemented");
      });
    });
  },
  deleteMany: function() {
    return __awaiter(void 0, void 0, void 0, function() {
      return __generator(this, function(_a) {
        throw new Error("deleteMany is not implemented");
      });
    });
  },
  getList: function() {
    return __awaiter(void 0, void 0, void 0, function() {
      return __generator(this, function(_a) {
        throw new Error("getList is not implemented");
      });
    });
  },
  getMany: function() {
    return __awaiter(void 0, void 0, void 0, function() {
      return __generator(this, function(_a) {
        throw new Error("getMany is not implemented");
      });
    });
  },
  getManyReference: function() {
    return __awaiter(void 0, void 0, void 0, function() {
      return __generator(this, function(_a) {
        throw new Error("getManyReference is not implemented");
      });
    });
  },
  getOne: function() {
    return __awaiter(void 0, void 0, void 0, function() {
      return __generator(this, function(_a) {
        throw new Error("getOne is not implemented");
      });
    });
  },
  update: function() {
    return __awaiter(void 0, void 0, void 0, function() {
      return __generator(this, function(_a) {
        throw new Error("update not implemented");
      });
    });
  },
  updateMany: function() {
    return __awaiter(void 0, void 0, void 0, function() {
      return __generator(this, function(_a) {
        throw new Error("updateMany not implemented");
      });
    });
  }
};
var testDataProvider = function(overrides) {
  return __assign6(__assign6({}, defaultTestDataProvider), overrides);
};

// node_modules/ra-core/dist/esm/dataProvider/withLifecycleCallbacks.js
var __assign7 = function() {
  __assign7 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign7.apply(this, arguments);
};
var __awaiter2 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator2 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var withLifecycleCallbacks = function(dataProvider, handlers) {
  return __assign7(__assign7({}, dataProvider), { getList: function(resource, params) {
    return __awaiter2(this, void 0, void 0, function() {
      var newParams, result, _a;
      return __generator2(this, function(_b) {
        switch (_b.label) {
          case 0:
            newParams = params;
            return [4, applyCallbacks({
              name: "beforeGetList",
              params: newParams,
              dataProvider,
              handlers,
              resource
            })];
          case 1:
            newParams = _b.sent();
            return [4, dataProvider.getList(resource, newParams)];
          case 2:
            result = _b.sent();
            return [4, applyCallbacks({
              name: "afterGetList",
              params: result,
              dataProvider,
              handlers,
              resource
            })];
          case 3:
            result = _b.sent();
            _a = result;
            return [4, Promise.all(result.data.map(function(record) {
              return applyCallbacks({
                name: "afterRead",
                params: record,
                dataProvider,
                handlers,
                resource
              });
            }))];
          case 4:
            _a.data = _b.sent();
            return [2, result];
        }
      });
    });
  }, getOne: function(resource, params) {
    return __awaiter2(this, void 0, void 0, function() {
      var newParams, result, _a;
      return __generator2(this, function(_b) {
        switch (_b.label) {
          case 0:
            newParams = params;
            return [4, applyCallbacks({
              name: "beforeGetOne",
              params: newParams,
              dataProvider,
              handlers,
              resource
            })];
          case 1:
            newParams = _b.sent();
            return [4, dataProvider.getOne(resource, newParams)];
          case 2:
            result = _b.sent();
            return [4, applyCallbacks({
              name: "afterGetOne",
              params: result,
              dataProvider,
              handlers,
              resource
            })];
          case 3:
            result = _b.sent();
            _a = result;
            return [4, applyCallbacks({
              name: "afterRead",
              params: result.data,
              dataProvider,
              handlers,
              resource
            })];
          case 4:
            _a.data = _b.sent();
            return [2, result];
        }
      });
    });
  }, getMany: function(resource, params) {
    return __awaiter2(this, void 0, void 0, function() {
      var newParams, result, _a;
      return __generator2(this, function(_b) {
        switch (_b.label) {
          case 0:
            newParams = params;
            return [4, applyCallbacks({
              name: "beforeGetMany",
              params: newParams,
              dataProvider,
              handlers,
              resource
            })];
          case 1:
            newParams = _b.sent();
            return [4, dataProvider.getMany(resource, newParams)];
          case 2:
            result = _b.sent();
            return [4, applyCallbacks({
              name: "afterGetMany",
              params: result,
              dataProvider,
              handlers,
              resource
            })];
          case 3:
            result = _b.sent();
            _a = result;
            return [4, Promise.all(result.data.map(function(record) {
              return applyCallbacks({
                name: "afterRead",
                params: record,
                dataProvider,
                handlers,
                resource
              });
            }))];
          case 4:
            _a.data = _b.sent();
            return [2, result];
        }
      });
    });
  }, getManyReference: function(resource, params) {
    return __awaiter2(this, void 0, void 0, function() {
      var newParams, result, _a;
      return __generator2(this, function(_b) {
        switch (_b.label) {
          case 0:
            newParams = params;
            return [4, applyCallbacks({
              name: "beforeGetManyReference",
              params: newParams,
              dataProvider,
              handlers,
              resource
            })];
          case 1:
            newParams = _b.sent();
            return [4, dataProvider.getManyReference(resource, newParams)];
          case 2:
            result = _b.sent();
            return [4, applyCallbacks({
              name: "afterGetManyReference",
              params: result,
              dataProvider,
              handlers,
              resource
            })];
          case 3:
            result = _b.sent();
            _a = result;
            return [4, Promise.all(result.data.map(function(record) {
              return applyCallbacks({
                name: "afterRead",
                params: record,
                dataProvider,
                handlers,
                resource
              });
            }))];
          case 4:
            _a.data = _b.sent();
            return [2, result];
        }
      });
    });
  }, update: function(resource, params) {
    return __awaiter2(this, void 0, void 0, function() {
      var newParams, _a, result, _b;
      return __generator2(this, function(_c) {
        switch (_c.label) {
          case 0:
            newParams = params;
            return [4, applyCallbacks({
              name: "beforeUpdate",
              params: newParams,
              dataProvider,
              handlers,
              resource
            })];
          case 1:
            newParams = _c.sent();
            _a = newParams;
            return [4, applyCallbacks({
              name: "beforeSave",
              params: newParams.data,
              dataProvider,
              handlers,
              resource
            })];
          case 2:
            _a.data = _c.sent();
            return [4, dataProvider.update(resource, newParams)];
          case 3:
            result = _c.sent();
            return [4, applyCallbacks({
              name: "afterUpdate",
              params: result,
              dataProvider,
              handlers,
              resource
            })];
          case 4:
            result = _c.sent();
            _b = result;
            return [4, applyCallbacks({
              name: "afterSave",
              params: result.data,
              dataProvider,
              handlers,
              resource
            })];
          case 5:
            _b.data = _c.sent();
            return [2, result];
        }
      });
    });
  }, create: function(resource, params) {
    return __awaiter2(this, void 0, void 0, function() {
      var newParams, _a, result, _b;
      return __generator2(this, function(_c) {
        switch (_c.label) {
          case 0:
            newParams = params;
            return [4, applyCallbacks({
              name: "beforeCreate",
              params: newParams,
              dataProvider,
              handlers,
              resource
            })];
          case 1:
            newParams = _c.sent();
            _a = newParams;
            return [4, applyCallbacks({
              name: "beforeSave",
              params: newParams.data,
              dataProvider,
              handlers,
              resource
            })];
          case 2:
            _a.data = _c.sent();
            return [4, dataProvider.create(resource, newParams)];
          case 3:
            result = _c.sent();
            return [4, applyCallbacks({
              name: "afterCreate",
              params: result,
              dataProvider,
              handlers,
              resource
            })];
          case 4:
            result = _c.sent();
            _b = result;
            return [4, applyCallbacks({
              name: "afterSave",
              params: result.data,
              dataProvider,
              handlers,
              resource
            })];
          case 5:
            _b.data = _c.sent();
            return [2, result];
        }
      });
    });
  }, delete: function(resource, params) {
    return __awaiter2(this, void 0, void 0, function() {
      var newParams, result;
      return __generator2(this, function(_a) {
        switch (_a.label) {
          case 0:
            newParams = params;
            return [4, applyCallbacks({
              name: "beforeDelete",
              params: newParams,
              dataProvider,
              handlers,
              resource
            })];
          case 1:
            newParams = _a.sent();
            return [4, dataProvider.delete(resource, newParams)];
          case 2:
            result = _a.sent();
            return [4, applyCallbacks({
              name: "afterDelete",
              params: result,
              dataProvider,
              handlers,
              resource
            })];
          case 3:
            result = _a.sent();
            return [2, result];
        }
      });
    });
  }, updateMany: function(resource, params) {
    return __awaiter2(this, void 0, void 0, function() {
      var newParams, _a, result, afterSaveHandlers, records;
      return __generator2(this, function(_b) {
        switch (_b.label) {
          case 0:
            newParams = params;
            return [4, applyCallbacks({
              name: "beforeUpdateMany",
              params: newParams,
              dataProvider,
              handlers,
              resource
            })];
          case 1:
            newParams = _b.sent();
            _a = newParams;
            return [4, applyCallbacks({
              name: "beforeSave",
              params: newParams.data,
              dataProvider,
              handlers,
              resource
            })];
          case 2:
            _a.data = _b.sent();
            return [4, dataProvider.updateMany(resource, newParams)];
          case 3:
            result = _b.sent();
            return [4, applyCallbacks({
              name: "afterUpdateMany",
              params: result,
              dataProvider,
              handlers,
              resource
            })];
          case 4:
            result = _b.sent();
            afterSaveHandlers = handlers.filter(function(h) {
              return (h.resource === resource || h.resource === "*") && h.afterSave;
            });
            if (!(afterSaveHandlers.length > 0)) return [3, 7];
            return [4, dataProvider.getMany(resource, {
              //@ts-ignore
              ids: result.data
            })];
          case 5:
            records = _b.sent().data;
            return [4, Promise.all(records.map(function(record) {
              return applyCallbacks({
                name: "afterSave",
                params: record,
                dataProvider,
                handlers,
                resource
              });
            }))];
          case 6:
            _b.sent();
            _b.label = 7;
          case 7:
            return [2, result];
        }
      });
    });
  }, deleteMany: function(resource, params) {
    return __awaiter2(this, void 0, void 0, function() {
      var newParams, result;
      return __generator2(this, function(_a) {
        switch (_a.label) {
          case 0:
            newParams = params;
            return [4, applyCallbacks({
              name: "beforeDeleteMany",
              params: newParams,
              dataProvider,
              handlers,
              resource
            })];
          case 1:
            newParams = _a.sent();
            return [4, dataProvider.deleteMany(resource, newParams)];
          case 2:
            result = _a.sent();
            return [4, applyCallbacks({
              name: "afterDeleteMany",
              params: result,
              dataProvider,
              handlers,
              resource
            })];
          case 3:
            result = _a.sent();
            return [2, result];
        }
      });
    });
  } });
};
var applyCallbacks = function(_a) {
  var name = _a.name, params = _a.params, dataProvider = _a.dataProvider, handlers = _a.handlers, resource = _a.resource;
  return __awaiter2(this, void 0, void 0, function() {
    var newParams, handlersToApply, _i, handlersToApply_1, handler, callbacksValue, _b, _c, callback;
    return __generator2(this, function(_d) {
      switch (_d.label) {
        case 0:
          newParams = params;
          handlersToApply = handlers.filter(function(h) {
            return (h.resource === resource || h.resource === "*") && h[name];
          });
          _i = 0, handlersToApply_1 = handlersToApply;
          _d.label = 1;
        case 1:
          if (!(_i < handlersToApply_1.length)) return [3, 9];
          handler = handlersToApply_1[_i];
          callbacksValue = handler[name];
          if (!Array.isArray(callbacksValue)) return [3, 6];
          _b = 0, _c = callbacksValue !== null && callbacksValue !== void 0 ? callbacksValue : [];
          _d.label = 2;
        case 2:
          if (!(_b < _c.length)) return [3, 5];
          callback = _c[_b];
          return [4, callback(newParams, dataProvider, resource)];
        case 3:
          newParams = _d.sent();
          _d.label = 4;
        case 4:
          _b++;
          return [3, 2];
        case 5:
          return [3, 8];
        case 6:
          return [4, callbacksValue(newParams, dataProvider, resource)];
        case 7:
          newParams = _d.sent();
          _d.label = 8;
        case 8:
          _i++;
          return [3, 1];
        case 9:
          return [2, newParams];
      }
    });
  });
};

// node_modules/ra-core/dist/esm/dataProvider/useDataProvider.js
var import_react31 = __toESM(require_react());

// node_modules/ra-core/dist/esm/dataProvider/validateResponseFormat.js
function validateResponseFormat(response, type, logger) {
  if (logger === void 0) {
    logger = console.error;
  }
  if (!response) {
    logger("The dataProvider returned an empty response for '".concat(type, "'."));
    throw new Error("ra.notification.data_provider_error");
  }
  if (!response.hasOwnProperty("data")) {
    logger("The response to '".concat(type, "' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '").concat(type, "'."));
    throw new Error("ra.notification.data_provider_error");
  }
  if (fetchActionsWithArrayOfRecordsResponse.includes(type) && !Array.isArray(response.data)) {
    logger("The response to '".concat(type, "' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '").concat(type, "'"));
    throw new Error("ra.notification.data_provider_error");
  }
  if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) && Array.isArray(response.data) && response.data.length > 0 && !response.data[0].hasOwnProperty("id")) {
    logger("The response to '".concat(type, "' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '").concat(type, "'"));
    throw new Error("ra.notification.data_provider_error");
  }
  if (fetchActionsWithRecordResponse.includes(type) && !response.data.hasOwnProperty("id")) {
    logger("The response to '".concat(type, "' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '").concat(type, "'"));
    throw new Error("ra.notification.data_provider_error");
  }
  if (fetchActionsWithTotalResponse.includes(type) && !response.hasOwnProperty("total") && !response.hasOwnProperty("pageInfo")) {
    logger("The response to '".concat(type, "' must be like { data: [...], total: 123 } or { data: [...], pageInfo: {...} }, but the received response has neither a 'total' nor a 'pageInfo' key. The dataProvider is probably wrong for '").concat(type, "'"));
    throw new Error("ra.notification.data_provider_error");
  }
}
var validateResponseFormat_default = validateResponseFormat;

// node_modules/ra-core/dist/esm/auth/useLogoutIfAccessDenied.js
var import_react30 = __toESM(require_react());
var __awaiter3 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator3 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var timer;
var useLogoutIfAccessDenied = function() {
  var authProvider = useAuthProvider_default();
  var logout = useLogout_default();
  var notify = useNotify();
  var navigate = useNavigate();
  var logoutIfAccessDenied = (0, import_react30.useCallback)(function(error) {
    if (!authProvider) {
      return logoutIfAccessDeniedWithoutProvider();
    }
    return authProvider.checkError(error).then(function() {
      return false;
    }).catch(function(e) {
      return __awaiter3(void 0, void 0, void 0, function() {
        var logoutUser, redirectTo, shouldNotify;
        var _a;
        return __generator3(this, function(_b) {
          logoutUser = (_a = e === null || e === void 0 ? void 0 : e.logoutUser) !== null && _a !== void 0 ? _a : true;
          if (timer) {
            return [2, true];
          }
          timer = setTimeout(function() {
            timer = void 0;
          }, 0);
          redirectTo = e && e.redirectTo != null ? e.redirectTo : error && error.redirectTo ? error.redirectTo : void 0;
          shouldNotify = !(e && e.message === false || error && error.message === false || (redirectTo === null || redirectTo === void 0 ? void 0 : redirectTo.startsWith("http")));
          if (shouldNotify) {
            authProvider.checkAuth({}).then(function() {
              if (logoutUser) {
                notify(getErrorMessage(e, "ra.notification.logged_out"), { type: "error" });
              } else {
                notify(getErrorMessage(e, "ra.notification.not_authorized"), { type: "error" });
              }
            }).catch(function() {
            });
          }
          if (logoutUser) {
            logout({}, redirectTo);
          } else {
            if (redirectTo.startsWith("http")) {
              window.location.href = redirectTo;
            } else {
              navigate(redirectTo);
            }
          }
          return [2, true];
        });
      });
    });
  }, [authProvider, logout, notify, navigate]);
  return logoutIfAccessDenied;
};
var logoutIfAccessDeniedWithoutProvider = function() {
  return Promise.resolve(false);
};
var getErrorMessage = function(error, defaultMessage) {
  return typeof error === "string" ? error : typeof error === "undefined" || !error.message ? defaultMessage : error.message;
};
var useLogoutIfAccessDenied_default = useLogoutIfAccessDenied;

// node_modules/ra-core/dist/esm/dataProvider/useDataProvider.js
var arrayReturnTypes = ["getList", "getMany", "getManyReference"];
var useDataProvider = function() {
  var dataProvider = (0, import_react31.useContext)(DataProviderContext_default) || defaultDataProvider;
  var logoutIfAccessDenied = useLogoutIfAccessDenied_default();
  var dataProviderProxy = (0, import_react31.useMemo)(function() {
    return new Proxy(dataProvider, {
      get: function(_, name) {
        if (typeof name === "symbol" || name === "then") {
          return;
        }
        if (name === "supportAbortSignal") {
          return dataProvider.supportAbortSignal;
        }
        return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          var type = name.toString();
          if (typeof dataProvider[type] !== "function") {
            throw new Error("Unknown dataProvider function: ".concat(type));
          }
          try {
            return dataProvider[type].apply(dataProvider, args).then(function(response) {
              if (reactAdminFetchActions.includes(type)) {
                validateResponseFormat_default(response, type);
              }
              return response;
            }).catch(function(error) {
              if (
                // do not log AbortErrors
                !isAbortError(error)
              ) {
                console.error(error);
              }
              return logoutIfAccessDenied(error).then(function(loggedOut) {
                if (loggedOut)
                  return {
                    data: arrayReturnTypes.includes(type) ? [] : {}
                  };
                throw error;
              });
            });
          } catch (e) {
            if (true) {
              console.error(e);
            }
            throw new Error("The dataProvider threw an error. It should return a rejected Promise instead.");
          }
        };
      }
    });
  }, [dataProvider, logoutIfAccessDenied]);
  return dataProviderProxy;
};
var isAbortError = function(error) {
  return error instanceof DOMException && error.name === "AbortError";
};

// node_modules/ra-core/dist/esm/dataProvider/useIsDataLoaded.js
var import_react32 = __toESM(require_react());
var useIsDataLoaded = function(queryKey, options) {
  if (options === void 0) {
    options = {};
  }
  var _a = options.enabled, enabled = _a === void 0 ? true : _a;
  var queryClient = useQueryClient();
  var _b = (0, import_react32.useState)(function() {
    if (!enabled) {
      return false;
    }
    return queryClient.getQueryData(queryKey) !== void 0;
  }), isDataLoaded = _b[0], setDataLoaded = _b[1];
  (0, import_react32.useEffect)(function() {
    if (!enabled)
      return;
    if (queryClient.getQueryData(queryKey) === void 0) {
      var observer = new QueryObserver(queryClient, { queryKey });
      var unsubscribe_1 = observer.subscribe(function(result) {
        setDataLoaded(!result.isPending);
        unsubscribe_1();
      });
      return unsubscribe_1;
    }
  }, [enabled, queryKey, queryClient]);
  return isDataLoaded;
};

// node_modules/ra-core/dist/esm/dataProvider/useLoading.js
var import_react33 = __toESM(require_react());
var useLoading = function() {
  var client = useQueryClient();
  var mountedRef = import_react33.default.useRef(false);
  var isFetchingRef = import_react33.default.useRef(client.isFetching() > 0);
  var isMutatingRef = import_react33.default.useRef(client.isMutating() > 0);
  var _a = import_react33.default.useState(isFetchingRef.current || isMutatingRef.current), isLoading = _a[0], setIsLoading = _a[1];
  import_react33.default.useEffect(function() {
    mountedRef.current = true;
    var unsubscribeQueryCache = client.getQueryCache().subscribe(notifyManager.batchCalls(function() {
      if (mountedRef.current) {
        isFetchingRef.current = client.isFetching() > 0;
        setIsLoading(isFetchingRef.current || isMutatingRef.current);
      }
    }));
    var unsubscribeMutationCache = client.getMutationCache().subscribe(notifyManager.batchCalls(function() {
      if (mountedRef.current) {
        isMutatingRef.current = client.isMutating() > 0;
        setIsLoading(isFetchingRef.current || isMutatingRef.current);
      }
    }));
    return function() {
      mountedRef.current = false;
      unsubscribeQueryCache();
      unsubscribeMutationCache();
    };
  }, [client]);
  return isLoading;
};

// node_modules/ra-core/dist/esm/dataProvider/useRefresh.js
var import_react34 = __toESM(require_react());
var useRefresh = function() {
  var queryClient = useQueryClient();
  return (0, import_react34.useCallback)(function() {
    queryClient.invalidateQueries();
  }, [queryClient]);
};

// node_modules/ra-core/dist/esm/dataProvider/useGetOne.js
var import_react35 = __toESM(require_react());
var __assign8 = function() {
  __assign8 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign8.apply(this, arguments);
};
var __rest2 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useGetOne = function(resource, _a, options) {
  var id = _a.id, meta = _a.meta;
  if (options === void 0) {
    options = {};
  }
  var dataProvider = useDataProvider();
  var _b = options.onError, onError = _b === void 0 ? noop : _b, _c = options.onSuccess, onSuccess = _c === void 0 ? noop : _c, _d = options.onSettled, onSettled = _d === void 0 ? noop : _d, enabled = options.enabled, queryOptions = __rest2(options, ["onError", "onSuccess", "onSettled", "enabled"]);
  var onSuccessEvent = useEvent(onSuccess);
  var onErrorEvent = useEvent(onError);
  var onSettledEvent = useEvent(onSettled);
  var result = useQuery(__assign8({
    // Sometimes the id comes as a string (e.g. when read from the URL in a Show view).
    // Sometimes the id comes as a number (e.g. when read from a Record in useGetList response).
    // As the react-query cache is type-sensitive, we always stringify the identifier to get a match
    queryKey: [resource, "getOne", { id: String(id), meta }],
    queryFn: function(queryParams) {
      return id == null ? new Promise(function() {
      }) : dataProvider.getOne(resource, {
        id,
        meta,
        signal: dataProvider.supportAbortSignal === true ? queryParams.signal : void 0
      }).then(function(_a2) {
        var data = _a2.data;
        return data;
      });
    },
    enabled: enabled !== null && enabled !== void 0 ? enabled : id != null
  }, queryOptions));
  (0, import_react35.useEffect)(function() {
    if (result.data === void 0 || result.error != null || result.isFetching)
      return;
    onSuccessEvent(result.data);
  }, [onSuccessEvent, result.data, result.error, result.isFetching]);
  (0, import_react35.useEffect)(function() {
    if (result.error == null || result.isFetching)
      return;
    onErrorEvent(result.error);
  }, [onErrorEvent, result.error, result.isFetching]);
  (0, import_react35.useEffect)(function() {
    if (result.status === "pending" || result.isFetching)
      return;
    onSettledEvent(result.data, result.error);
  }, [
    onSettledEvent,
    result.data,
    result.error,
    result.status,
    result.isFetching
  ]);
  return result;
};
var noop = function() {
  return void 0;
};

// node_modules/ra-core/dist/esm/dataProvider/useGetList.js
var import_react36 = __toESM(require_react());
var __assign9 = function() {
  __assign9 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign9.apply(this, arguments);
};
var __rest3 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var MAX_DATA_LENGTH_TO_CACHE = 100;
var useGetList = function(resource, params, options) {
  if (params === void 0) {
    params = {};
  }
  if (options === void 0) {
    options = {};
  }
  var _a = params.pagination, pagination = _a === void 0 ? { page: 1, perPage: 25 } : _a, _b = params.sort, sort = _b === void 0 ? { field: "id", order: "DESC" } : _b, _c = params.filter, filter = _c === void 0 ? {} : _c, meta = params.meta;
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var _d = options.onError, onError = _d === void 0 ? noop2 : _d, _e = options.onSuccess, onSuccess = _e === void 0 ? noop2 : _e, _f = options.onSettled, onSettled = _f === void 0 ? noop2 : _f, queryOptions = __rest3(options, ["onError", "onSuccess", "onSettled"]);
  var onSuccessEvent = useEvent(onSuccess);
  var onErrorEvent = useEvent(onError);
  var onSettledEvent = useEvent(onSettled);
  var result = useQuery(__assign9({ queryKey: [resource, "getList", { pagination, sort, filter, meta }], queryFn: function(queryParams) {
    return dataProvider.getList(resource, {
      pagination,
      sort,
      filter,
      meta,
      signal: dataProvider.supportAbortSignal === true ? queryParams.signal : void 0
    }).then(function(_a2) {
      var data = _a2.data, total = _a2.total, pageInfo = _a2.pageInfo;
      return {
        data,
        total,
        pageInfo
      };
    });
  } }, queryOptions));
  var metaValue = (0, import_react36.useRef)(meta);
  var resourceValue = (0, import_react36.useRef)(resource);
  (0, import_react36.useEffect)(function() {
    metaValue.current = meta;
  }, [meta]);
  (0, import_react36.useEffect)(function() {
    resourceValue.current = resource;
  }, [resource]);
  (0, import_react36.useEffect)(function() {
    var _a2;
    if (result.data === void 0 || result.error != null || result.isFetching)
      return;
    if (((_a2 = result.data) === null || _a2 === void 0 ? void 0 : _a2.data) && result.data.data.length <= MAX_DATA_LENGTH_TO_CACHE) {
      result.data.data.forEach(function(record) {
        queryClient.setQueryData([
          resourceValue.current,
          "getOne",
          { id: String(record.id), meta: metaValue.current }
        ], function(oldRecord) {
          return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record;
        });
      });
    }
    onSuccessEvent(result.data);
  }, [
    onSuccessEvent,
    queryClient,
    result.data,
    result.error,
    result.isFetching
  ]);
  (0, import_react36.useEffect)(function() {
    if (result.error == null || result.isFetching)
      return;
    onErrorEvent(result.error);
  }, [onErrorEvent, result.error, result.isFetching]);
  (0, import_react36.useEffect)(function() {
    if (result.status === "pending" || result.isFetching)
      return;
    onSettledEvent(result.data, result.error);
  }, [
    onSettledEvent,
    result.data,
    result.error,
    result.status,
    result.isFetching
  ]);
  return (0, import_react36.useMemo)(function() {
    var _a2, _b2, _c2;
    return result.data ? __assign9(__assign9({}, result), { data: (_a2 = result.data) === null || _a2 === void 0 ? void 0 : _a2.data, total: (_b2 = result.data) === null || _b2 === void 0 ? void 0 : _b2.total, pageInfo: (_c2 = result.data) === null || _c2 === void 0 ? void 0 : _c2.pageInfo }) : result;
  }, [result]);
};
var noop2 = function() {
  return void 0;
};

// node_modules/ra-core/dist/esm/dataProvider/useGetMany.js
var import_react37 = __toESM(require_react());
var __assign10 = function() {
  __assign10 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign10.apply(this, arguments);
};
var __rest4 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useGetMany = function(resource, params, options) {
  if (options === void 0) {
    options = {};
  }
  var ids = params.ids, meta = params.meta;
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var queryCache = queryClient.getQueryCache();
  var _a = options.onError, onError = _a === void 0 ? noop3 : _a, _b = options.onSuccess, onSuccess = _b === void 0 ? noop3 : _b, _c = options.onSettled, onSettled = _c === void 0 ? noop3 : _c, enabled = options.enabled, queryOptions = __rest4(options, ["onError", "onSuccess", "onSettled", "enabled"]);
  var onSuccessEvent = useEvent(onSuccess);
  var onErrorEvent = useEvent(onError);
  var onSettledEvent = useEvent(onSettled);
  var result = useQuery(__assign10({ queryKey: [
    resource,
    "getMany",
    {
      ids: !ids || ids.length === 0 ? [] : ids.map(function(id) {
        return String(id);
      }),
      meta
    }
  ], queryFn: function(queryParams) {
    if (!ids || ids.length === 0) {
      return Promise.resolve([]);
    }
    return dataProvider.getMany(resource, {
      ids,
      meta,
      signal: dataProvider.supportAbortSignal === true ? queryParams.signal : void 0
    }).then(function(_a2) {
      var data = _a2.data;
      return data;
    });
  }, placeholderData: function() {
    var records = !ids || ids.length === 0 ? [] : ids.map(function(id) {
      var _a2, _b2;
      var queryHash = hashKey([
        resource,
        "getOne",
        { id: String(id), meta }
      ]);
      return (_b2 = (_a2 = queryCache.get(queryHash)) === null || _a2 === void 0 ? void 0 : _a2.state) === null || _b2 === void 0 ? void 0 : _b2.data;
    });
    if (records.some(function(record) {
      return record === void 0;
    })) {
      return void 0;
    } else {
      return records;
    }
  }, retry: false, enabled: enabled !== null && enabled !== void 0 ? enabled : ids != null }, queryOptions));
  var metaValue = (0, import_react37.useRef)(meta);
  var resourceValue = (0, import_react37.useRef)(resource);
  (0, import_react37.useEffect)(function() {
    metaValue.current = meta;
  }, [meta]);
  (0, import_react37.useEffect)(function() {
    resourceValue.current = resource;
  }, [resource]);
  (0, import_react37.useEffect)(function() {
    if (result.data === void 0 || result.error != null || result.isFetching)
      return;
    result.data.forEach(function(record) {
      queryClient.setQueryData([
        resourceValue.current,
        "getOne",
        { id: String(record.id), meta: metaValue.current }
      ], function(oldRecord) {
        return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record;
      });
    });
    onSuccessEvent(result.data);
  }, [
    queryClient,
    onSuccessEvent,
    result.data,
    result.error,
    result.isFetching
  ]);
  (0, import_react37.useEffect)(function() {
    if (result.error == null || result.isFetching)
      return;
    onErrorEvent(result.error);
  }, [onErrorEvent, result.error, result.isFetching]);
  (0, import_react37.useEffect)(function() {
    if (result.status === "pending" || result.isFetching)
      return;
    onSettledEvent(result.data, result.error);
  }, [
    onSettledEvent,
    result.data,
    result.error,
    result.status,
    result.isFetching
  ]);
  return result;
};
var noop3 = function() {
  return void 0;
};

// node_modules/ra-core/dist/esm/dataProvider/useGetManyAggregate.js
var import_react38 = __toESM(require_react());
var import_union = __toESM(require_union());
var __assign11 = function() {
  __assign11 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign11.apply(this, arguments);
};
var __rest5 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var __spreadArray7 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useGetManyAggregate = function(resource, params, options) {
  if (options === void 0) {
    options = {};
  }
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var queryCache = queryClient.getQueryCache();
  var _a = options.onError, onError = _a === void 0 ? noop4 : _a, _b = options.onSuccess, onSuccess = _b === void 0 ? noop4 : _b, _c = options.onSettled, onSettled = _c === void 0 ? noop4 : _c, enabled = options.enabled, queryOptions = __rest5(options, ["onError", "onSuccess", "onSettled", "enabled"]);
  var onSuccessEvent = useEvent(onSuccess);
  var onErrorEvent = useEvent(onError);
  var onSettledEvent = useEvent(onSettled);
  var ids = params.ids, meta = params.meta;
  var placeholderData = (0, import_react38.useMemo)(function() {
    var records = (Array.isArray(ids) ? ids : [ids]).map(function(id) {
      var _a2, _b2;
      var queryHash = hashKey([
        resource,
        "getOne",
        { id: String(id), meta }
      ]);
      return (_b2 = (_a2 = queryCache.get(queryHash)) === null || _a2 === void 0 ? void 0 : _a2.state) === null || _b2 === void 0 ? void 0 : _b2.data;
    });
    if (records.some(function(record) {
      return record === void 0;
    })) {
      return void 0;
    } else {
      return records;
    }
  }, [ids, queryCache, resource, meta]);
  var result = useQuery(__assign11({ queryKey: [
    resource,
    "getMany",
    {
      ids: (Array.isArray(ids) ? ids : [ids]).map(function(id) {
        return String(id);
      }),
      meta
    }
  ], queryFn: function(queryParams) {
    return new Promise(function(resolve, reject) {
      if (!ids || ids.length === 0) {
        return resolve([]);
      }
      return callGetManyQueries({
        resource,
        ids,
        meta,
        resolve,
        reject,
        dataProvider,
        queryClient,
        signal: dataProvider.supportAbortSignal === true ? queryParams.signal : void 0
      });
    });
  }, placeholderData, enabled: enabled !== null && enabled !== void 0 ? enabled : ids != null, retry: false }, queryOptions));
  var metaValue = (0, import_react38.useRef)(meta);
  var resourceValue = (0, import_react38.useRef)(resource);
  (0, import_react38.useEffect)(function() {
    metaValue.current = meta;
  }, [meta]);
  (0, import_react38.useEffect)(function() {
    resourceValue.current = resource;
  }, [resource]);
  (0, import_react38.useEffect)(function() {
    var _a2;
    if (result.data === void 0 || result.error != null || result.isFetching)
      return;
    ((_a2 = result.data) !== null && _a2 !== void 0 ? _a2 : []).forEach(function(record) {
      queryClient.setQueryData([
        resourceValue.current,
        "getOne",
        { id: String(record.id), meta: metaValue.current }
      ], function(oldRecord) {
        return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record;
      });
    });
    onSuccessEvent(result.data);
  }, [
    queryClient,
    onSuccessEvent,
    result.data,
    result.error,
    result.isFetching
  ]);
  (0, import_react38.useEffect)(function() {
    if (result.error == null || result.isFetching)
      return;
    onErrorEvent(result.error);
  }, [onErrorEvent, result.error, result.isFetching]);
  (0, import_react38.useEffect)(function() {
    if (result.status === "pending" || result.isFetching)
      return;
    onSettledEvent(result.data, result.error);
  }, [
    onSettledEvent,
    result.data,
    result.error,
    result.status,
    result.isFetching
  ]);
  return result;
};
var batch = function(fn) {
  var capturedArgs = [];
  var timeout = null;
  return function(arg) {
    capturedArgs.push(arg);
    if (timeout)
      clearTimeout(timeout);
    timeout = setTimeout(function() {
      timeout = null;
      fn(__spreadArray7([], capturedArgs, true));
      capturedArgs = [];
    }, 0);
  };
};
var callGetManyQueries = batch(function(calls) {
  var dataProvider = calls[0].dataProvider;
  var queryClient = calls[0].queryClient;
  var callsByResource = calls.reduce(function(acc, callArgs) {
    if (!acc[callArgs.resource]) {
      acc[callArgs.resource] = [];
    }
    acc[callArgs.resource].push(callArgs);
    return acc;
  }, {});
  Object.keys(callsByResource).forEach(function(resource) {
    var callsForResource = callsByResource[resource];
    var aggregatedIds = callsForResource.reduce(function(acc, _a) {
      var ids2 = _a.ids;
      return (0, import_union.default)(acc, ids2);
    }, []).filter(function(v) {
      return v != null && v !== "";
    });
    var uniqueMeta = callsForResource.reduce(function(acc, _a) {
      var meta2 = _a.meta;
      return meta2 || acc;
    }, void 0);
    if (aggregatedIds.length === 0) {
      callsForResource.forEach(function(_a) {
        var resolve = _a.resolve;
        resolve([]);
      });
      return;
    }
    var callThatHasAllAggregatedIds = callsForResource.find(function(_a) {
      var ids2 = _a.ids, signal2 = _a.signal;
      return JSON.stringify(ids2) === JSON.stringify(aggregatedIds) && !(signal2 === null || signal2 === void 0 ? void 0 : signal2.aborted);
    });
    if (callThatHasAllAggregatedIds) {
      var dataProvider_1 = callThatHasAllAggregatedIds.dataProvider, resource_1 = callThatHasAllAggregatedIds.resource, ids = callThatHasAllAggregatedIds.ids, meta = callThatHasAllAggregatedIds.meta, signal = callThatHasAllAggregatedIds.signal;
      dataProvider_1.getMany(resource_1, { ids, meta, signal }).then(function(_a) {
        var data = _a.data;
        return data;
      }).then(function(data) {
        callsForResource.forEach(function(_a) {
          var ids2 = _a.ids, resolve = _a.resolve;
          resolve(data.filter(function(record) {
            return ids2.map(function(id) {
              return String(id);
            }).includes(String(record.id));
          }));
        });
      }, function(error) {
        callsForResource.forEach(function(_a) {
          var reject = _a.reject;
          reject(error);
        });
      });
      return;
    }
    queryClient.fetchQuery({
      queryKey: [
        resource,
        "getMany",
        {
          ids: aggregatedIds.map(function(id) {
            return String(id);
          }),
          meta: uniqueMeta
        }
      ],
      queryFn: function(queryParams) {
        return dataProvider.getMany(resource, {
          ids: aggregatedIds,
          meta: uniqueMeta,
          signal: dataProvider.supportAbortSignal === true ? queryParams.signal : void 0
        }).then(function(_a) {
          var data = _a.data;
          return data;
        });
      }
    }).then(function(data) {
      callsForResource.forEach(function(_a) {
        var ids2 = _a.ids, resolve = _a.resolve;
        resolve(data.filter(function(record) {
          return ids2.map(function(id) {
            return String(id);
          }).includes(String(record.id));
        }));
      });
    }).catch(function(error) {
      return callsForResource.forEach(function(_a) {
        var reject = _a.reject;
        return reject(error);
      });
    });
  });
});
var noop4 = function() {
  return void 0;
};

// node_modules/ra-core/dist/esm/dataProvider/useGetManyReference.js
var import_react39 = __toESM(require_react());
var __assign12 = function() {
  __assign12 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign12.apply(this, arguments);
};
var __rest6 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useGetManyReference = function(resource, params, options) {
  if (params === void 0) {
    params = {};
  }
  if (options === void 0) {
    options = {};
  }
  var target = params.target, id = params.id, _a = params.pagination, pagination = _a === void 0 ? { page: 1, perPage: 25 } : _a, _b = params.sort, sort = _b === void 0 ? { field: "id", order: "DESC" } : _b, _c = params.filter, filter = _c === void 0 ? {} : _c, meta = params.meta;
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var _d = options.onError, onError = _d === void 0 ? noop5 : _d, _e = options.onSuccess, onSuccess = _e === void 0 ? noop5 : _e, _f = options.onSettled, onSettled = _f === void 0 ? noop5 : _f, queryOptions = __rest6(options, ["onError", "onSuccess", "onSettled"]);
  var onSuccessEvent = useEvent(onSuccess);
  var onErrorEvent = useEvent(onError);
  var onSettledEvent = useEvent(onSettled);
  var result = useQuery(__assign12({ queryKey: [
    resource,
    "getManyReference",
    { target, id, pagination, sort, filter, meta }
  ], queryFn: function(queryParams) {
    if (!target || id == null) {
      return Promise.reject(new Error("target and id are required"));
    }
    return dataProvider.getManyReference(resource, {
      target,
      id,
      pagination,
      sort,
      filter,
      meta,
      signal: dataProvider.supportAbortSignal === true ? queryParams.signal : void 0
    }).then(function(_a2) {
      var data = _a2.data, total = _a2.total, pageInfo = _a2.pageInfo;
      return {
        data,
        total,
        pageInfo
      };
    });
  } }, queryOptions));
  (0, import_react39.useEffect)(function() {
    var _a2, _b2;
    if (result.data === void 0)
      return;
    (_b2 = (_a2 = result.data) === null || _a2 === void 0 ? void 0 : _a2.data) === null || _b2 === void 0 ? void 0 : _b2.forEach(function(record) {
      queryClient.setQueryData([resource, "getOne", { id: String(record.id), meta }], function(oldRecord) {
        return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record;
      });
    });
    onSuccessEvent(result.data);
  }, [queryClient, meta, onSuccessEvent, resource, result.data]);
  (0, import_react39.useEffect)(function() {
    if (result.error == null)
      return;
    onErrorEvent(result.error);
  }, [onErrorEvent, result.error]);
  (0, import_react39.useEffect)(function() {
    if (result.status === "pending")
      return;
    onSettledEvent(result.data, result.error);
  }, [onSettledEvent, result.data, result.error, result.status]);
  return (0, import_react39.useMemo)(function() {
    var _a2, _b2, _c2;
    return result.data ? __assign12(__assign12({}, result), { data: (_a2 = result.data) === null || _a2 === void 0 ? void 0 : _a2.data, total: (_b2 = result.data) === null || _b2 === void 0 ? void 0 : _b2.total, pageInfo: (_c2 = result.data) === null || _c2 === void 0 ? void 0 : _c2.pageInfo }) : result;
  }, [result]);
};
var noop5 = function() {
  return void 0;
};

// node_modules/ra-core/dist/esm/dataProvider/useGetRecordId.js
function useGetRecordId(recordId) {
  var _a;
  var contextRecord = useRecordContext();
  var routeId = useParams().id;
  var actualRecordId = (_a = recordId !== null && recordId !== void 0 ? recordId : contextRecord === null || contextRecord === void 0 ? void 0 : contextRecord.id) !== null && _a !== void 0 ? _a : routeId;
  if (actualRecordId == null)
    throw new Error("useGetRecordId could not find the current record id. You need to use it inside a RecordContextProvider, or inside a supported route, or provide the record id to the hook yourself.");
  return actualRecordId;
}

// node_modules/ra-core/dist/esm/dataProvider/useCreate.js
var import_react40 = __toESM(require_react());
var __assign13 = function() {
  __assign13 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign13.apply(this, arguments);
};
var __rest7 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useCreate = function(resource, params, options) {
  if (params === void 0) {
    params = {};
  }
  if (options === void 0) {
    options = {};
  }
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var paramsRef = (0, import_react40.useRef)(params);
  var hasCallTimeOnError = (0, import_react40.useRef)(false);
  var hasCallTimeOnSuccess = (0, import_react40.useRef)(false);
  var hasCallTimeOnSettled = (0, import_react40.useRef)(false);
  var getMutateWithMiddlewares = options.getMutateWithMiddlewares, mutationOptions = __rest7(options, ["getMutateWithMiddlewares"]);
  var mutation = useMutation(__assign13(__assign13({ mutationFn: function(_a) {
    var _b = _a === void 0 ? {} : _a, _c = _b.resource, callTimeResource = _c === void 0 ? resource : _c, _d = _b.data, callTimeData = _d === void 0 ? paramsRef.current.data : _d, _e = _b.meta, callTimeMeta = _e === void 0 ? paramsRef.current.meta : _e;
    if (!callTimeResource) {
      throw new Error("useCreate mutation requires a non-empty resource");
    }
    if (!callTimeData) {
      throw new Error("useCreate mutation requires a non-empty data object");
    }
    if (getMutateWithMiddlewares) {
      var createWithMiddlewares = getMutateWithMiddlewares(dataProvider.create.bind(dataProvider));
      return createWithMiddlewares(callTimeResource, {
        data: callTimeData,
        meta: callTimeMeta
      }).then(function(_a2) {
        var data = _a2.data;
        return data;
      });
    }
    return dataProvider.create(callTimeResource, {
      data: callTimeData,
      meta: callTimeMeta
    }).then(function(_a2) {
      var data = _a2.data;
      return data;
    });
  } }, mutationOptions), { onError: function(error, variables, context) {
    if (options.onError && !hasCallTimeOnError.current) {
      return options.onError(error, variables, context);
    }
  }, onSuccess: function(data, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    var _a = variables.resource, callTimeResource = _a === void 0 ? resource : _a;
    queryClient.setQueryData([callTimeResource, "getOne", { id: String(data.id) }], data);
    queryClient.invalidateQueries({
      queryKey: [callTimeResource, "getList"]
    });
    queryClient.invalidateQueries({
      queryKey: [callTimeResource, "getInfiniteList"]
    });
    queryClient.invalidateQueries({
      queryKey: [callTimeResource, "getMany"]
    });
    queryClient.invalidateQueries({
      queryKey: [callTimeResource, "getManyReference"]
    });
    if (options.onSuccess && !hasCallTimeOnSuccess.current) {
      options.onSuccess(data, variables, context);
    }
  }, onSettled: function(data, error, variables, context) {
    if (options.onSettled && !hasCallTimeOnSettled.current) {
      return options.onSettled(data, error, variables, context);
    }
  } }));
  var create = function(callTimeResource, callTimeParams, callTimeOptions) {
    if (callTimeResource === void 0) {
      callTimeResource = resource;
    }
    if (callTimeParams === void 0) {
      callTimeParams = {};
    }
    if (callTimeOptions === void 0) {
      callTimeOptions = {};
    }
    var _a = callTimeOptions.returnPromise, returnPromise = _a === void 0 ? options.returnPromise : _a, otherCallTimeOptions = __rest7(callTimeOptions, ["returnPromise"]);
    hasCallTimeOnError.current = !!otherCallTimeOptions.onError;
    hasCallTimeOnSuccess.current = !!otherCallTimeOptions.onSuccess;
    hasCallTimeOnSettled.current = !!otherCallTimeOptions.onSettled;
    if (returnPromise) {
      return mutation.mutateAsync(__assign13({ resource: callTimeResource }, callTimeParams), otherCallTimeOptions);
    }
    return mutation.mutate(__assign13({ resource: callTimeResource }, callTimeParams), otherCallTimeOptions);
  };
  var mutationResult = (0, import_react40.useMemo)(function() {
    return __assign13({ isLoading: mutation.isPending }, mutation);
  }, [mutation]);
  return [useEvent(create), mutationResult];
};

// node_modules/ra-core/dist/esm/dataProvider/useUpdate.js
var import_react41 = __toESM(require_react());
var __assign14 = function() {
  __assign14 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign14.apply(this, arguments);
};
var __awaiter4 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator4 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest8 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var __spreadArray8 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useUpdate = function(resource, params, options) {
  if (params === void 0) {
    params = {};
  }
  if (options === void 0) {
    options = {};
  }
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var id = params.id, data = params.data, meta = params.meta;
  var _a = options.mutationMode, mutationMode = _a === void 0 ? "pessimistic" : _a, getMutateWithMiddlewares = options.getMutateWithMiddlewares, mutationOptions = __rest8(options, ["mutationMode", "getMutateWithMiddlewares"]);
  var mode = (0, import_react41.useRef)(mutationMode);
  var paramsRef = (0, import_react41.useRef)(params);
  var snapshot = (0, import_react41.useRef)([]);
  var mutateWithMiddlewares = (0, import_react41.useRef)(dataProvider.update);
  var callTimeOnError = (0, import_react41.useRef)();
  var callTimeOnSettled = (0, import_react41.useRef)();
  var hasCallTimeOnSuccess = (0, import_react41.useRef)(false);
  var updateCache = function(_a2) {
    var resource2 = _a2.resource, id2 = _a2.id, data2 = _a2.data;
    var now = Date.now();
    var updatedAt = mode.current === "undoable" ? now + 5 * 1e3 : now;
    var updateColl = function(old) {
      if (!old)
        return old;
      var index = old.findIndex(
        // eslint-disable-next-line eqeqeq
        function(record) {
          return record.id == id2;
        }
      );
      if (index === -1) {
        return old;
      }
      return __spreadArray8(__spreadArray8(__spreadArray8([], old.slice(0, index), true), [
        __assign14(__assign14({}, old[index]), data2)
      ], false), old.slice(index + 1), true);
    };
    queryClient.setQueryData([resource2, "getOne", { id: String(id2), meta }], function(record) {
      return __assign14(__assign14({}, record), data2);
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getList"] }, function(res) {
      return res && res.data ? __assign14(__assign14({}, res), { data: updateColl(res.data) }) : res;
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getInfiniteList"] }, function(res) {
      return res && res.pages ? __assign14(__assign14({}, res), { pages: res.pages.map(function(page) {
        return __assign14(__assign14({}, page), { data: updateColl(page.data) });
      }) }) : res;
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getMany"] }, function(coll) {
      return coll && coll.length > 0 ? updateColl(coll) : coll;
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getManyReference"] }, function(res) {
      return res && res.data ? { data: updateColl(res.data), total: res.total } : res;
    }, { updatedAt });
  };
  var mutation = useMutation(__assign14(__assign14({ mutationFn: function(_a2) {
    var _b = _a2 === void 0 ? {} : _a2, _c = _b.resource, callTimeResource = _c === void 0 ? resource : _c, _d = _b.id, callTimeId = _d === void 0 ? paramsRef.current.id : _d, _e = _b.data, callTimeData = _e === void 0 ? paramsRef.current.data : _e, _f = _b.meta, callTimeMeta = _f === void 0 ? paramsRef.current.meta : _f, _g = _b.previousData, callTimePreviousData = _g === void 0 ? paramsRef.current.previousData : _g;
    if (!callTimeResource) {
      throw new Error("useUpdate mutation requires a non-empty resource");
    }
    if (callTimeId == null) {
      throw new Error("useUpdate mutation requires a non-empty id");
    }
    if (!callTimeData) {
      throw new Error("useUpdate mutation requires a non-empty data object");
    }
    return mutateWithMiddlewares.current(callTimeResource, {
      id: callTimeId,
      data: callTimeData,
      previousData: callTimePreviousData,
      meta: callTimeMeta
    }).then(function(_a3) {
      var data2 = _a3.data;
      return data2;
    });
  } }, mutationOptions), { onMutate: function(variables) {
    return __awaiter4(void 0, void 0, void 0, function() {
      var userContext;
      return __generator4(this, function(_a2) {
        switch (_a2.label) {
          case 0:
            if (!mutationOptions.onMutate) return [3, 2];
            return [4, mutationOptions.onMutate(variables)];
          case 1:
            userContext = _a2.sent() || {};
            return [2, __assign14({ snapshot: snapshot.current }, userContext)];
          case 2:
            return [2, { snapshot: snapshot.current }];
        }
      });
    });
  }, onError: function(error, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "optimistic" || mode.current === "undoable") {
      context.snapshot.forEach(function(_a2) {
        var key = _a2[0], value = _a2[1];
        queryClient.setQueryData(key, value);
      });
    }
    if (callTimeOnError.current) {
      return callTimeOnError.current(error, variables, context);
    }
    if (mutationOptions.onError) {
      return mutationOptions.onError(error, variables, context);
    }
  }, onSuccess: function(data2, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "pessimistic") {
      var _a2 = variables.resource, callTimeResource = _a2 === void 0 ? resource : _a2, _b = variables.id, callTimeId = _b === void 0 ? id : _b;
      updateCache({
        resource: callTimeResource,
        id: callTimeId,
        data: data2
      });
      if (mutationOptions.onSuccess && !hasCallTimeOnSuccess.current) {
        mutationOptions.onSuccess(data2, variables, context);
      }
    }
  }, onSettled: function(data2, error, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "optimistic" || mode.current === "undoable") {
      context.snapshot.forEach(function(_a2) {
        var queryKey = _a2[0];
        queryClient.invalidateQueries({ queryKey });
      });
    }
    if (callTimeOnSettled.current) {
      return callTimeOnSettled.current(data2, error, variables, context);
    }
    if (mutationOptions.onSettled) {
      return mutationOptions.onSettled(data2, error, variables, context);
    }
  } }));
  var update = function(callTimeResource, callTimeParams, callTimeOptions) {
    if (callTimeResource === void 0) {
      callTimeResource = resource;
    }
    if (callTimeParams === void 0) {
      callTimeParams = {};
    }
    if (callTimeOptions === void 0) {
      callTimeOptions = {};
    }
    return __awaiter4(void 0, void 0, void 0, function() {
      var mutationMode2, _a2, returnPromise, onError, onSettled, onSuccess, otherCallTimeOptions, _b, callTimeId, _c, callTimeData, _d, callTimeMeta, previousRecord, queryKeys;
      return __generator4(this, function(_e) {
        switch (_e.label) {
          case 0:
            mutationMode2 = callTimeOptions.mutationMode, _a2 = callTimeOptions.returnPromise, returnPromise = _a2 === void 0 ? mutationOptions.returnPromise : _a2, onError = callTimeOptions.onError, onSettled = callTimeOptions.onSettled, onSuccess = callTimeOptions.onSuccess, otherCallTimeOptions = __rest8(callTimeOptions, ["mutationMode", "returnPromise", "onError", "onSettled", "onSuccess"]);
            if (getMutateWithMiddlewares) {
              mutateWithMiddlewares.current = getMutateWithMiddlewares(dataProvider.update.bind(dataProvider));
            } else {
              mutateWithMiddlewares.current = dataProvider.update;
            }
            hasCallTimeOnSuccess.current = !!onSuccess;
            callTimeOnError.current = onError;
            callTimeOnSettled.current = onSettled;
            paramsRef.current = params;
            if (mutationMode2) {
              mode.current = mutationMode2;
            }
            if (returnPromise && mode.current !== "pessimistic") {
              console.warn("The returnPromise parameter can only be used if the mutationMode is set to pessimistic");
            }
            if (mode.current === "pessimistic") {
              if (returnPromise) {
                return [2, mutation.mutateAsync(__assign14({ resource: callTimeResource }, callTimeParams), __assign14({ onSuccess }, otherCallTimeOptions))];
              }
              return [2, mutation.mutate(__assign14({ resource: callTimeResource }, callTimeParams), __assign14({ onSuccess }, otherCallTimeOptions))];
            }
            _b = callTimeParams.id, callTimeId = _b === void 0 ? id : _b, _c = callTimeParams.data, callTimeData = _c === void 0 ? data : _c, _d = callTimeParams.meta, callTimeMeta = _d === void 0 ? meta : _d;
            previousRecord = queryClient.getQueryData([
              callTimeResource,
              "getOne",
              { id: String(callTimeId), meta: callTimeMeta }
            ]);
            queryKeys = [
              [
                callTimeResource,
                "getOne",
                { id: String(callTimeId), meta: callTimeMeta }
              ],
              [callTimeResource, "getList"],
              [callTimeResource, "getInfiniteList"],
              [callTimeResource, "getMany"],
              [callTimeResource, "getManyReference"]
            ];
            snapshot.current = queryKeys.reduce(function(prev, queryKey) {
              return prev.concat(queryClient.getQueriesData({ queryKey }));
            }, []);
            return [4, Promise.all(snapshot.current.map(function(_a3) {
              var queryKey = _a3[0];
              return queryClient.cancelQueries({ queryKey });
            }))];
          case 1:
            _e.sent();
            updateCache({
              resource: callTimeResource,
              id: callTimeId,
              data: callTimeData
            });
            setTimeout(function() {
              if (onSuccess) {
                onSuccess(__assign14(__assign14({}, previousRecord), callTimeData), __assign14({ resource: callTimeResource }, callTimeParams), { snapshot: snapshot.current });
              } else if (mutationOptions.onSuccess && !hasCallTimeOnSuccess.current) {
                mutationOptions.onSuccess(__assign14(__assign14({}, previousRecord), callTimeData), __assign14({ resource: callTimeResource }, callTimeParams), { snapshot: snapshot.current });
              }
            }, 0);
            if (mode.current === "optimistic") {
              return [2, mutation.mutate(__assign14({ resource: callTimeResource }, callTimeParams))];
            } else {
              undoableEventEmitter_default.once("end", function(_a3) {
                var isUndo = _a3.isUndo;
                if (isUndo) {
                  snapshot.current.forEach(function(_a4) {
                    var key = _a4[0], value = _a4[1];
                    queryClient.setQueryData(key, value);
                  });
                } else {
                  mutation.mutate(__assign14({ resource: callTimeResource }, callTimeParams));
                }
              });
            }
            return [
              2
              /*return*/
            ];
        }
      });
    });
  };
  var mutationResult = (0, import_react41.useMemo)(function() {
    return __assign14({ isLoading: mutation.isPending }, mutation);
  }, [mutation]);
  return [useEvent(update), mutationResult];
};

// node_modules/ra-core/dist/esm/dataProvider/useUpdateMany.js
var import_react42 = __toESM(require_react());
var __assign15 = function() {
  __assign15 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign15.apply(this, arguments);
};
var __awaiter5 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator5 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest9 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var __spreadArray9 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useUpdateMany = function(resource, params, options) {
  if (params === void 0) {
    params = {};
  }
  if (options === void 0) {
    options = {};
  }
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var ids = params.ids, data = params.data, meta = params.meta;
  var _a = options.mutationMode, mutationMode = _a === void 0 ? "pessimistic" : _a, mutationOptions = __rest9(options, ["mutationMode"]);
  var mode = (0, import_react42.useRef)(mutationMode);
  var paramsRef = (0, import_react42.useRef)(params);
  var snapshot = (0, import_react42.useRef)([]);
  var hasCallTimeOnError = (0, import_react42.useRef)(false);
  var hasCallTimeOnSuccess = (0, import_react42.useRef)(false);
  var hasCallTimeOnSettled = (0, import_react42.useRef)(false);
  var updateCache = function(_a2) {
    var resource2 = _a2.resource, ids2 = _a2.ids, data2 = _a2.data, meta2 = _a2.meta;
    return __awaiter5(void 0, void 0, void 0, function() {
      var updatedAt, updateColl;
      return __generator5(this, function(_b) {
        updatedAt = mode.current === "undoable" ? Date.now() + 1e3 * 5 : Date.now();
        updateColl = function(old) {
          if (!old)
            return old;
          var newCollection = __spreadArray9([], old, true);
          ids2.forEach(function(id) {
            var index = old.findIndex(function(record) {
              return record.id == id;
            });
            if (index === -1) {
              return;
            }
            newCollection = __spreadArray9(__spreadArray9(__spreadArray9([], newCollection.slice(0, index), true), [
              __assign15(__assign15({}, newCollection[index]), data2)
            ], false), newCollection.slice(index + 1), true);
          });
          return newCollection;
        };
        ids2.forEach(function(id) {
          queryClient.setQueryData([resource2, "getOne", { id: String(id), meta: meta2 }], function(record) {
            return __assign15(__assign15({}, record), data2);
          }, { updatedAt });
        });
        queryClient.setQueriesData({ queryKey: [resource2, "getList"] }, function(res) {
          return res && res.data ? __assign15(__assign15({}, res), { data: updateColl(res.data) }) : res;
        }, { updatedAt });
        queryClient.setQueriesData({ queryKey: [resource2, "getInfiniteList"] }, function(res) {
          return res && res.pages ? __assign15(__assign15({}, res), { pages: res.pages.map(function(page) {
            return __assign15(__assign15({}, page), { data: updateColl(page.data) });
          }) }) : res;
        }, { updatedAt });
        queryClient.setQueriesData({ queryKey: [resource2, "getMany"] }, function(coll) {
          return coll && coll.length > 0 ? updateColl(coll) : coll;
        }, { updatedAt });
        queryClient.setQueriesData({ queryKey: [resource2, "getManyReference"] }, function(res) {
          return res && res.data ? { data: updateColl(res.data), total: res.total } : res;
        }, { updatedAt });
        return [
          2
          /*return*/
        ];
      });
    });
  };
  var mutation = useMutation(__assign15(__assign15({ mutationFn: function(_a2) {
    var _b = _a2 === void 0 ? {} : _a2, _c = _b.resource, callTimeResource = _c === void 0 ? resource : _c, _d = _b.ids, callTimeIds = _d === void 0 ? paramsRef.current.ids : _d, _e = _b.data, callTimeData = _e === void 0 ? paramsRef.current.data : _e, _f = _b.meta, callTimeMeta = _f === void 0 ? paramsRef.current.meta : _f;
    if (!callTimeResource) {
      throw new Error("useUpdateMany mutation requires a non-empty resource");
    }
    if (!callTimeIds) {
      throw new Error("useUpdateMany mutation requires an array of ids");
    }
    if (!callTimeData) {
      throw new Error("useUpdateMany mutation requires a non-empty data object");
    }
    return dataProvider.updateMany(callTimeResource, {
      ids: callTimeIds,
      data: callTimeData,
      meta: callTimeMeta
    }).then(function(_a3) {
      var data2 = _a3.data;
      return data2 || [];
    });
  } }, mutationOptions), { onMutate: function(variables) {
    return __awaiter5(void 0, void 0, void 0, function() {
      var userContext;
      return __generator5(this, function(_a2) {
        switch (_a2.label) {
          case 0:
            if (!mutationOptions.onMutate) return [3, 2];
            return [4, mutationOptions.onMutate(variables)];
          case 1:
            userContext = _a2.sent() || {};
            return [2, __assign15({ snapshot: snapshot.current }, userContext)];
          case 2:
            return [2, { snapshot: snapshot.current }];
        }
      });
    });
  }, onError: function(error, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "optimistic" || mode.current === "undoable") {
      context.snapshot.forEach(function(_a2) {
        var key = _a2[0], value = _a2[1];
        queryClient.setQueryData(key, value);
      });
    }
    if (mutationOptions.onError && !hasCallTimeOnError.current) {
      return mutationOptions.onError(error, variables, context);
    }
  }, onSuccess: function(dataFromResponse, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "pessimistic") {
      var _a2 = variables.resource, callTimeResource = _a2 === void 0 ? resource : _a2, _b = variables.ids, callTimeIds = _b === void 0 ? ids : _b, _c = variables.data, callTimeData = _c === void 0 ? data : _c, _d = variables.meta, callTimeMeta = _d === void 0 ? meta : _d;
      if (!callTimeResource) {
        throw new Error("useUpdateMany mutation requires a non-empty resource");
      }
      if (!callTimeIds) {
        throw new Error("useUpdateMany mutation requires an array of ids");
      }
      updateCache({
        resource: callTimeResource,
        ids: callTimeIds,
        data: callTimeData,
        meta: callTimeMeta
      });
      if (mutationOptions.onSuccess && !hasCallTimeOnSuccess.current) {
        mutationOptions.onSuccess(dataFromResponse, variables, context);
      }
    }
  }, onSettled: function(data2, error, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "optimistic" || mode.current === "undoable") {
      context.snapshot.forEach(function(_a2) {
        var queryKey = _a2[0];
        queryClient.invalidateQueries({ queryKey });
      });
    }
    if (mutationOptions.onSettled && !hasCallTimeOnSettled.current) {
      return mutationOptions.onSettled(data2, error, variables, context);
    }
  } }));
  var updateMany = function(callTimeResource, callTimeParams, callTimeOptions) {
    if (callTimeResource === void 0) {
      callTimeResource = resource;
    }
    if (callTimeParams === void 0) {
      callTimeParams = {};
    }
    if (callTimeOptions === void 0) {
      callTimeOptions = {};
    }
    return __awaiter5(void 0, void 0, void 0, function() {
      var mutationMode2, _a2, returnPromise, otherCallTimeOptions, _b, callTimeIds, _c, callTimeData, _d, callTimeMeta, queryKeys;
      return __generator5(this, function(_e) {
        switch (_e.label) {
          case 0:
            if (!callTimeResource) {
              throw new Error("useUpdateMany mutation requires a non-empty resource");
            }
            mutationMode2 = callTimeOptions.mutationMode, _a2 = callTimeOptions.returnPromise, returnPromise = _a2 === void 0 ? mutationOptions.returnPromise : _a2, otherCallTimeOptions = __rest9(callTimeOptions, ["mutationMode", "returnPromise"]);
            hasCallTimeOnError.current = !!otherCallTimeOptions.onError;
            hasCallTimeOnSuccess.current = !!otherCallTimeOptions.onSuccess;
            hasCallTimeOnSettled.current = !!otherCallTimeOptions.onSettled;
            paramsRef.current = params;
            if (mutationMode2) {
              mode.current = mutationMode2;
            }
            if (returnPromise && mode.current !== "pessimistic") {
              console.warn("The returnPromise parameter can only be used if the mutationMode is set to pessimistic");
            }
            if (mode.current === "pessimistic") {
              if (returnPromise) {
                return [2, mutation.mutateAsync(__assign15({ resource: callTimeResource }, callTimeParams), otherCallTimeOptions)];
              }
              return [2, mutation.mutate(__assign15({ resource: callTimeResource }, callTimeParams), otherCallTimeOptions)];
            }
            _b = callTimeParams.ids, callTimeIds = _b === void 0 ? ids : _b, _c = callTimeParams.data, callTimeData = _c === void 0 ? data : _c, _d = callTimeParams.meta, callTimeMeta = _d === void 0 ? meta : _d;
            if (!callTimeIds) {
              throw new Error("useUpdateMany mutation requires an array of ids");
            }
            queryKeys = [
              [callTimeResource, "getOne"],
              [callTimeResource, "getList"],
              [callTimeResource, "getInfiniteList"],
              [callTimeResource, "getMany"],
              [callTimeResource, "getManyReference"]
            ];
            snapshot.current = queryKeys.reduce(function(prev, queryKey) {
              return prev.concat(queryClient.getQueriesData({ queryKey }));
            }, []);
            return [4, Promise.all(snapshot.current.map(function(_a3) {
              var queryKey = _a3[0];
              return queryClient.cancelQueries({ queryKey });
            }))];
          case 1:
            _e.sent();
            return [4, updateCache({
              resource: callTimeResource,
              ids: callTimeIds,
              data: callTimeData,
              meta: callTimeMeta
            })];
          case 2:
            _e.sent();
            setTimeout(function() {
              if (otherCallTimeOptions.onSuccess) {
                otherCallTimeOptions.onSuccess(callTimeIds, __assign15({ resource: callTimeResource }, callTimeParams), { snapshot: snapshot.current });
              } else if (mutationOptions.onSuccess) {
                mutationOptions.onSuccess(callTimeIds, __assign15({ resource: callTimeResource }, callTimeParams), { snapshot: snapshot.current });
              }
            }, 0);
            if (mode.current === "optimistic") {
              return [2, mutation.mutate(__assign15({ resource: callTimeResource }, callTimeParams), {
                onSettled: otherCallTimeOptions.onSettled,
                onError: otherCallTimeOptions.onError
              })];
            } else {
              undoableEventEmitter_default.once("end", function(_a3) {
                var isUndo = _a3.isUndo;
                if (isUndo) {
                  snapshot.current.forEach(function(_a4) {
                    var key = _a4[0], value = _a4[1];
                    queryClient.setQueryData(key, value);
                  });
                } else {
                  mutation.mutate(__assign15({ resource: callTimeResource }, callTimeParams), {
                    onSettled: otherCallTimeOptions.onSettled,
                    onError: otherCallTimeOptions.onError
                  });
                }
              });
            }
            return [
              2
              /*return*/
            ];
        }
      });
    });
  };
  var mutationResult = (0, import_react42.useMemo)(function() {
    return __assign15({ isLoading: mutation.isPending }, mutation);
  }, [mutation]);
  return [useEvent(updateMany), mutationResult];
};

// node_modules/ra-core/dist/esm/dataProvider/useDelete.js
var import_react43 = __toESM(require_react());
var __assign16 = function() {
  __assign16 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign16.apply(this, arguments);
};
var __awaiter6 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator6 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest10 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var __spreadArray10 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useDelete = function(resource, params, options) {
  if (params === void 0) {
    params = {};
  }
  if (options === void 0) {
    options = {};
  }
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var id = params.id, previousData = params.previousData;
  var _a = options.mutationMode, mutationMode = _a === void 0 ? "pessimistic" : _a, mutationOptions = __rest10(options, ["mutationMode"]);
  var mode = (0, import_react43.useRef)(mutationMode);
  var paramsRef = (0, import_react43.useRef)(params);
  var snapshot = (0, import_react43.useRef)([]);
  var hasCallTimeOnError = (0, import_react43.useRef)(false);
  var hasCallTimeOnSuccess = (0, import_react43.useRef)(false);
  var hasCallTimeOnSettled = (0, import_react43.useRef)(false);
  var updateCache = function(_a2) {
    var resource2 = _a2.resource, id2 = _a2.id;
    var now = Date.now();
    var updatedAt = mode.current === "undoable" ? now + 5 * 1e3 : now;
    var updateColl = function(old) {
      if (!old)
        return old;
      var index = old.findIndex(
        // eslint-disable-next-line eqeqeq
        function(record) {
          return record.id == id2;
        }
      );
      if (index === -1) {
        return old;
      }
      return __spreadArray10(__spreadArray10([], old.slice(0, index), true), old.slice(index + 1), true);
    };
    queryClient.setQueriesData({ queryKey: [resource2, "getList"] }, function(res) {
      if (!res || !res.data)
        return res;
      var newCollection = updateColl(res.data);
      var recordWasFound = newCollection.length < res.data.length;
      return recordWasFound ? {
        data: newCollection,
        total: res.total ? res.total - 1 : void 0,
        pageInfo: res.pageInfo
      } : res;
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getInfiniteList"] }, function(res) {
      if (!res || !res.pages)
        return res;
      return __assign16(__assign16({}, res), { pages: res.pages.map(function(page) {
        var newCollection = updateColl(page.data);
        var recordWasFound = newCollection.length < page.data.length;
        return recordWasFound ? __assign16(__assign16({}, page), { data: newCollection, total: page.total ? page.total - 1 : void 0, pageInfo: page.pageInfo }) : page;
      }) });
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getMany"] }, function(coll) {
      return coll && coll.length > 0 ? updateColl(coll) : coll;
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getManyReference"] }, function(res) {
      if (!res || !res.data)
        return res;
      var newCollection = updateColl(res.data);
      var recordWasFound = newCollection.length < res.data.length;
      return recordWasFound ? {
        data: newCollection,
        total: res.total - 1
      } : res;
    }, { updatedAt });
  };
  var mutation = useMutation(__assign16(__assign16({ mutationFn: function(_a2) {
    var _b = _a2 === void 0 ? {} : _a2, _c = _b.resource, callTimeResource = _c === void 0 ? resource : _c, _d = _b.id, callTimeId = _d === void 0 ? paramsRef.current.id : _d, _e = _b.previousData, callTimePreviousData = _e === void 0 ? paramsRef.current.previousData : _e, _f = _b.meta, callTimeMeta = _f === void 0 ? paramsRef.current.meta : _f;
    if (!callTimeResource) {
      throw new Error("useDelete mutation requires a non-empty resource");
    }
    if (callTimeId == null) {
      throw new Error("useDelete mutation requires a non-empty id");
    }
    return dataProvider.delete(callTimeResource, {
      id: callTimeId,
      previousData: callTimePreviousData,
      meta: callTimeMeta
    }).then(function(_a3) {
      var data = _a3.data;
      return data;
    });
  } }, mutationOptions), { onMutate: function(variables) {
    return __awaiter6(void 0, void 0, void 0, function() {
      var userContext;
      return __generator6(this, function(_a2) {
        switch (_a2.label) {
          case 0:
            if (!mutationOptions.onMutate) return [3, 2];
            return [4, mutationOptions.onMutate(variables)];
          case 1:
            userContext = _a2.sent() || {};
            return [2, __assign16({ snapshot: snapshot.current }, userContext)];
          case 2:
            return [2, { snapshot: snapshot.current }];
        }
      });
    });
  }, onError: function(error, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "optimistic" || mode.current === "undoable") {
      context.snapshot.forEach(function(_a2) {
        var key = _a2[0], value = _a2[1];
        queryClient.setQueryData(key, value);
      });
    }
    if (mutationOptions.onError && !hasCallTimeOnError.current) {
      return mutationOptions.onError(error, variables, context);
    }
  }, onSuccess: function(data, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "pessimistic") {
      var _a2 = variables.resource, callTimeResource = _a2 === void 0 ? resource : _a2, _b = variables.id, callTimeId = _b === void 0 ? id : _b;
      updateCache({
        resource: callTimeResource,
        id: callTimeId
      });
      if (mutationOptions.onSuccess && !hasCallTimeOnSuccess.current) {
        mutationOptions.onSuccess(data, variables, context);
      }
    }
  }, onSettled: function(data, error, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "optimistic" || mode.current === "undoable") {
      context.snapshot.forEach(function(_a2) {
        var queryKey = _a2[0];
        queryClient.invalidateQueries({ queryKey });
      });
    }
    if (mutationOptions.onSettled && !hasCallTimeOnSettled.current) {
      return mutationOptions.onSettled(data, error, variables, context);
    }
  } }));
  var mutate = function(callTimeResource, callTimeParams, callTimeOptions) {
    if (callTimeResource === void 0) {
      callTimeResource = resource;
    }
    if (callTimeParams === void 0) {
      callTimeParams = {};
    }
    if (callTimeOptions === void 0) {
      callTimeOptions = {};
    }
    return __awaiter6(void 0, void 0, void 0, function() {
      var mutationMode2, otherCallTimeOptions, _a2, callTimeId, _b, callTimePreviousData, queryKeys;
      return __generator6(this, function(_c) {
        switch (_c.label) {
          case 0:
            mutationMode2 = callTimeOptions.mutationMode, otherCallTimeOptions = __rest10(callTimeOptions, ["mutationMode"]);
            hasCallTimeOnError.current = !!callTimeOptions.onError;
            hasCallTimeOnSuccess.current = !!callTimeOptions.onSuccess;
            hasCallTimeOnSettled.current = !!callTimeOptions.onSettled;
            paramsRef.current = params;
            if (mutationMode2) {
              mode.current = mutationMode2;
            }
            if (mode.current === "pessimistic") {
              return [2, mutation.mutate(__assign16({ resource: callTimeResource }, callTimeParams), otherCallTimeOptions)];
            }
            _a2 = callTimeParams.id, callTimeId = _a2 === void 0 ? id : _a2, _b = callTimeParams.previousData, callTimePreviousData = _b === void 0 ? previousData : _b;
            queryKeys = [
              [callTimeResource, "getList"],
              [callTimeResource, "getInfiniteList"],
              [callTimeResource, "getMany"],
              [callTimeResource, "getManyReference"]
            ];
            snapshot.current = queryKeys.reduce(function(prev, queryKey) {
              return prev.concat(queryClient.getQueriesData({ queryKey }));
            }, []);
            return [4, Promise.all(snapshot.current.map(function(_a3) {
              var queryKey = _a3[0];
              return queryClient.cancelQueries({ queryKey });
            }))];
          case 1:
            _c.sent();
            updateCache({
              resource: callTimeResource,
              id: callTimeId
            });
            setTimeout(function() {
              if (callTimeOptions.onSuccess) {
                callTimeOptions.onSuccess(callTimePreviousData, __assign16({ resource: callTimeResource }, callTimeParams), { snapshot: snapshot.current });
              } else if (mutationOptions.onSuccess) {
                mutationOptions.onSuccess(callTimePreviousData, __assign16({ resource: callTimeResource }, callTimeParams), { snapshot: snapshot.current });
              }
            }, 0);
            if (mode.current === "optimistic") {
              return [2, mutation.mutate(__assign16({ resource: callTimeResource }, callTimeParams), {
                onSettled: callTimeOptions.onSettled,
                onError: callTimeOptions.onError
              })];
            } else {
              undoableEventEmitter_default.once("end", function(_a3) {
                var isUndo = _a3.isUndo;
                if (isUndo) {
                  snapshot.current.forEach(function(_a4) {
                    var key = _a4[0], value = _a4[1];
                    queryClient.setQueryData(key, value);
                  });
                } else {
                  mutation.mutate(__assign16({ resource: callTimeResource }, callTimeParams), {
                    onSettled: callTimeOptions.onSettled,
                    onError: callTimeOptions.onError
                  });
                }
              });
            }
            return [
              2
              /*return*/
            ];
        }
      });
    });
  };
  var mutationResult = (0, import_react43.useMemo)(function() {
    return __assign16({ isLoading: mutation.isPending }, mutation);
  }, [mutation]);
  return [useEvent(mutate), mutationResult];
};

// node_modules/ra-core/dist/esm/dataProvider/useDeleteMany.js
var import_react44 = __toESM(require_react());
var __assign17 = function() {
  __assign17 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign17.apply(this, arguments);
};
var __awaiter7 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator7 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest11 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var __spreadArray11 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useDeleteMany = function(resource, params, options) {
  if (params === void 0) {
    params = {};
  }
  if (options === void 0) {
    options = {};
  }
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var ids = params.ids;
  var _a = options.mutationMode, mutationMode = _a === void 0 ? "pessimistic" : _a, mutationOptions = __rest11(options, ["mutationMode"]);
  var mode = (0, import_react44.useRef)(mutationMode);
  var paramsRef = (0, import_react44.useRef)({});
  var snapshot = (0, import_react44.useRef)([]);
  var hasCallTimeOnError = (0, import_react44.useRef)(false);
  var hasCallTimeOnSuccess = (0, import_react44.useRef)(false);
  var hasCallTimeOnSettled = (0, import_react44.useRef)(false);
  var updateCache = function(_a2) {
    var resource2 = _a2.resource, ids2 = _a2.ids;
    var now = Date.now();
    var updatedAt = mode.current === "undoable" ? now + 5 * 1e3 : now;
    var updateColl = function(old) {
      if (!old)
        return old;
      var newCollection = __spreadArray11([], old, true);
      ids2.forEach(function(id) {
        var index = newCollection.findIndex(
          // eslint-disable-next-line eqeqeq
          function(record) {
            return record.id == id;
          }
        );
        if (index === -1) {
          return;
        }
        newCollection = __spreadArray11(__spreadArray11([], newCollection.slice(0, index), true), newCollection.slice(index + 1), true);
      });
      return newCollection;
    };
    queryClient.setQueriesData({ queryKey: [resource2, "getList"] }, function(res) {
      if (!res || !res.data)
        return res;
      var newCollection = updateColl(res.data);
      var recordWasFound = newCollection.length < res.data.length;
      return recordWasFound ? {
        data: newCollection,
        total: res.total ? res.total - (res.data.length - newCollection.length) : void 0,
        pageInfo: res.pageInfo
      } : res;
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getInfiniteList"] }, function(res) {
      if (!res || !res.pages)
        return res;
      return __assign17(__assign17({}, res), { pages: res.pages.map(function(page) {
        var newCollection = updateColl(page.data);
        var recordWasFound = newCollection.length < page.data.length;
        return recordWasFound ? __assign17(__assign17({}, page), { data: newCollection, total: page.total ? page.total - (page.data.length - newCollection.length) : void 0, pageInfo: page.pageInfo }) : page;
      }) });
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getMany"] }, function(coll) {
      return coll && coll.length > 0 ? updateColl(coll) : coll;
    }, { updatedAt });
    queryClient.setQueriesData({ queryKey: [resource2, "getManyReference"] }, function(res) {
      if (!res || !res.data)
        return res;
      var newCollection = updateColl(res.data);
      var recordWasFound = newCollection.length < res.data.length;
      if (!recordWasFound) {
        return res;
      }
      if (res.total) {
        return {
          data: newCollection,
          total: res.total - (res.data.length - newCollection.length)
        };
      }
      if (res.pageInfo) {
        return {
          data: newCollection,
          pageInfo: res.pageInfo
        };
      }
      throw new Error("Found getList result in cache without total or pageInfo");
    }, { updatedAt });
  };
  var mutation = useMutation(__assign17(__assign17({ mutationFn: function(_a2) {
    var _b = _a2 === void 0 ? {} : _a2, _c = _b.resource, callTimeResource = _c === void 0 ? resource : _c, _d = _b.ids, callTimeIds = _d === void 0 ? paramsRef.current.ids : _d, _e = _b.meta, callTimeMeta = _e === void 0 ? paramsRef.current.meta : _e;
    if (!callTimeResource) {
      throw new Error("useDeleteMany mutation requires a non-empty resource");
    }
    if (!callTimeIds) {
      throw new Error("useDeleteMany mutation requires an array of ids");
    }
    if (callTimeIds.length === 0) {
      return Promise.resolve([]);
    }
    return dataProvider.deleteMany(callTimeResource, {
      ids: callTimeIds,
      meta: callTimeMeta
    }).then(function(_a3) {
      var data = _a3.data;
      return data || [];
    });
  } }, mutationOptions), { onMutate: function(variables) {
    return __awaiter7(void 0, void 0, void 0, function() {
      var userContext;
      return __generator7(this, function(_a2) {
        switch (_a2.label) {
          case 0:
            if (!mutationOptions.onMutate) return [3, 2];
            return [4, mutationOptions.onMutate(variables)];
          case 1:
            userContext = _a2.sent() || {};
            return [2, __assign17({ snapshot: snapshot.current }, userContext)];
          case 2:
            return [2, { snapshot: snapshot.current }];
        }
      });
    });
  }, onError: function(error, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "optimistic" || mode.current === "undoable") {
      context.snapshot.forEach(function(_a2) {
        var key = _a2[0], value = _a2[1];
        queryClient.setQueryData(key, value);
      });
    }
    if (mutationOptions.onError && !hasCallTimeOnError.current) {
      return mutationOptions.onError(error, variables, context);
    }
  }, onSuccess: function(data, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "pessimistic") {
      var _a2 = variables.resource, callTimeResource = _a2 === void 0 ? resource : _a2, _b = variables.ids, callTimeIds = _b === void 0 ? ids : _b;
      updateCache({
        resource: callTimeResource,
        ids: callTimeIds
      });
      if (mutationOptions.onSuccess && !hasCallTimeOnSuccess.current) {
        mutationOptions.onSuccess(data, variables, context);
      }
    }
  }, onSettled: function(data, error, variables, context) {
    if (variables === void 0) {
      variables = {};
    }
    if (mode.current === "optimistic" || mode.current === "undoable") {
      context.snapshot.forEach(function(_a2) {
        var queryKey = _a2[0];
        queryClient.invalidateQueries({ queryKey });
      });
    }
    if (mutationOptions.onSettled && !hasCallTimeOnSettled.current) {
      return mutationOptions.onSettled(data, error, variables, context);
    }
  } }));
  var mutate = function(callTimeResource, callTimeParams, callTimeOptions) {
    if (callTimeResource === void 0) {
      callTimeResource = resource;
    }
    if (callTimeParams === void 0) {
      callTimeParams = {};
    }
    if (callTimeOptions === void 0) {
      callTimeOptions = {};
    }
    return __awaiter7(void 0, void 0, void 0, function() {
      var mutationMode2, otherCallTimeOptions, _a2, callTimeIds, queryKeys;
      return __generator7(this, function(_b) {
        switch (_b.label) {
          case 0:
            mutationMode2 = callTimeOptions.mutationMode, otherCallTimeOptions = __rest11(callTimeOptions, ["mutationMode"]);
            hasCallTimeOnError.current = !!callTimeOptions.onError;
            hasCallTimeOnSuccess.current = !!callTimeOptions.onSuccess;
            hasCallTimeOnSettled.current = !!callTimeOptions.onSettled;
            paramsRef.current = params;
            if (mutationMode2) {
              mode.current = mutationMode2;
            }
            if (mode.current === "pessimistic") {
              return [2, mutation.mutate(__assign17({ resource: callTimeResource }, callTimeParams), {
                onSuccess: otherCallTimeOptions.onSuccess,
                onSettled: otherCallTimeOptions.onSettled,
                onError: otherCallTimeOptions.onError
              })];
            }
            _a2 = callTimeParams.ids, callTimeIds = _a2 === void 0 ? ids : _a2;
            if (!callTimeIds) {
              throw new Error("useDeleteMany mutation requires an array of ids");
            }
            queryKeys = [
              [callTimeResource, "getList"],
              [callTimeResource, "getInfiniteList"],
              [callTimeResource, "getMany"],
              [callTimeResource, "getManyReference"]
            ];
            snapshot.current = queryKeys.reduce(function(prev, queryKey) {
              return prev.concat(queryClient.getQueriesData({ queryKey }));
            }, []);
            return [4, Promise.all(snapshot.current.map(function(_a3) {
              var queryKey = _a3[0];
              return queryClient.cancelQueries({ queryKey });
            }))];
          case 1:
            _b.sent();
            updateCache({
              resource: callTimeResource,
              ids: callTimeIds
            });
            setTimeout(function() {
              if (otherCallTimeOptions.onSuccess) {
                otherCallTimeOptions.onSuccess(callTimeIds, __assign17({ resource: callTimeResource }, callTimeParams), { snapshot: snapshot.current });
              } else if (mutationOptions.onSuccess) {
                mutationOptions.onSuccess(callTimeIds, __assign17({ resource: callTimeResource }, callTimeParams), { snapshot: snapshot.current });
              }
            }, 0);
            if (mode.current === "optimistic") {
              return [2, mutation.mutate(__assign17({ resource: callTimeResource }, callTimeParams), {
                onSettled: otherCallTimeOptions.onSettled,
                onError: otherCallTimeOptions.onError
              })];
            } else {
              undoableEventEmitter_default.once("end", function(_a3) {
                var isUndo = _a3.isUndo;
                if (isUndo) {
                  snapshot.current.forEach(function(_a4) {
                    var key = _a4[0], value = _a4[1];
                    queryClient.setQueryData(key, value);
                  });
                } else {
                  mutation.mutate(__assign17({ resource: callTimeResource }, callTimeParams), {
                    onSettled: otherCallTimeOptions.onSettled,
                    onError: otherCallTimeOptions.onError
                  });
                }
              });
            }
            return [
              2
              /*return*/
            ];
        }
      });
    });
  };
  var mutationResult = (0, import_react44.useMemo)(function() {
    return __assign17({ isLoading: mutation.isPending }, mutation);
  }, [mutation]);
  return [useEvent(mutate), mutationResult];
};

// node_modules/ra-core/dist/esm/dataProvider/useInfiniteGetList.js
var import_react45 = __toESM(require_react());
var __assign18 = function() {
  __assign18 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign18.apply(this, arguments);
};
var __rest12 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var MAX_DATA_LENGTH_TO_CACHE2 = 100;
var useInfiniteGetList = function(resource, params, options) {
  var _a, _b, _c;
  if (params === void 0) {
    params = {};
  }
  if (options === void 0) {
    options = {};
  }
  var _d = params.pagination, pagination = _d === void 0 ? { page: 1, perPage: 25 } : _d, _e = params.sort, sort = _e === void 0 ? { field: "id", order: "DESC" } : _e, _f = params.filter, filter = _f === void 0 ? {} : _f, meta = params.meta;
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var _g = options.onSuccess, onSuccess = _g === void 0 ? noop6 : _g, _h = options.onError, onError = _h === void 0 ? noop6 : _h, _j = options.onSettled, onSettled = _j === void 0 ? noop6 : _j, queryOptions = __rest12(options, ["onSuccess", "onError", "onSettled"]);
  var onSuccessEvent = useEvent(onSuccess);
  var onErrorEvent = useEvent(onError);
  var onSettledEvent = useEvent(onSettled);
  var result = useInfiniteQuery(__assign18(__assign18({ queryKey: [
    resource,
    "getInfiniteList",
    { pagination, sort, filter, meta }
  ], queryFn: function(queryParams) {
    var _a2 = queryParams.pageParam, pageParam = _a2 === void 0 ? pagination.page : _a2;
    return dataProvider.getList(resource, {
      pagination: {
        page: pageParam,
        perPage: pagination.perPage
      },
      sort,
      filter,
      meta,
      signal: dataProvider.supportAbortSignal === true ? queryParams.signal : void 0
    }).then(function(_a3) {
      var data = _a3.data, pageInfo = _a3.pageInfo, total = _a3.total;
      return {
        data,
        total,
        pageParam,
        pageInfo
      };
    });
  }, initialPageParam: pagination.page }, queryOptions), { getNextPageParam: function(lastLoadedPage) {
    if (lastLoadedPage.pageInfo) {
      return lastLoadedPage.pageInfo.hasNextPage ? lastLoadedPage.pageParam + 1 : void 0;
    }
    var totalPages = Math.ceil((lastLoadedPage.total || 0) / pagination.perPage);
    return lastLoadedPage.pageParam < totalPages ? Number(lastLoadedPage.pageParam) + 1 : void 0;
  }, getPreviousPageParam: function(lastLoadedPage) {
    if (lastLoadedPage.pageInfo) {
      return lastLoadedPage.pageInfo.hasPreviousPage ? lastLoadedPage.pageParam - 1 : void 0;
    }
    return lastLoadedPage.pageParam === 1 ? void 0 : lastLoadedPage.pageParam - 1;
  } }));
  var metaValue = (0, import_react45.useRef)(meta);
  var resourceValue = (0, import_react45.useRef)(resource);
  (0, import_react45.useEffect)(function() {
    metaValue.current = meta;
  }, [meta]);
  (0, import_react45.useEffect)(function() {
    resourceValue.current = resource;
  }, [resource]);
  (0, import_react45.useEffect)(function() {
    if (result.data === void 0 || result.error != null || result.isFetching)
      return;
    var allPagesDataLength = result.data.pages.reduce(function(acc, page) {
      return acc + page.data.length;
    }, 0);
    if (allPagesDataLength <= MAX_DATA_LENGTH_TO_CACHE2) {
      result.data.pages.forEach(function(page) {
        page.data.forEach(function(record) {
          queryClient.setQueryData([
            resourceValue.current,
            "getOne",
            { id: String(record.id), meta: metaValue.current }
          ], function(oldRecord) {
            return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record;
          });
        });
      });
    }
    onSuccessEvent(result.data);
  }, [
    onSuccessEvent,
    queryClient,
    result.data,
    result.error,
    result.isFetching
  ]);
  (0, import_react45.useEffect)(function() {
    if (result.error == null || result.isFetching)
      return;
    onErrorEvent(result.error);
  }, [onErrorEvent, result.error, result.isFetching]);
  (0, import_react45.useEffect)(function() {
    if (result.status === "pending" || result.isFetching)
      return;
    onSettledEvent(result.data, result.error);
  }, [
    onSettledEvent,
    result.data,
    result.error,
    result.status,
    result.isFetching
  ]);
  return result.data ? __assign18(__assign18({}, result), { data: result.data, total: (_c = (_b = (_a = result.data) === null || _a === void 0 ? void 0 : _a.pages[0]) === null || _b === void 0 ? void 0 : _b.total) !== null && _c !== void 0 ? _c : void 0 }) : result;
};
var noop6 = function() {
  return void 0;
};

// node_modules/ra-core/dist/esm/controller/button/useDeleteWithUndoController.js
var __assign19 = function() {
  __assign19 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign19.apply(this, arguments);
};
var __rest13 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useDeleteWithUndoController = function(props) {
  var record = props.record, _a = props.redirect, redirectTo = _a === void 0 ? "list" : _a, onClick = props.onClick, _b = props.mutationOptions, mutationOptions = _b === void 0 ? {} : _b, _c = props.successMessage, successMessage = _c === void 0 ? "ra.notification.deleted" : _c;
  var mutationMeta = mutationOptions.meta, otherMutationOptions = __rest13(mutationOptions, ["meta"]);
  var resource = useResourceContext(props);
  var notify = useNotify();
  var unselect = useUnselect(resource);
  var redirect = useRedirect();
  var _d = useDelete(resource, void 0, {
    onSuccess: function() {
      notify(successMessage, {
        type: "info",
        messageArgs: { smart_count: 1 },
        undoable: true
      });
      record && unselect([record.id]);
      redirect(redirectTo, resource);
    },
    onError: function(error) {
      notify(typeof error === "string" ? error : error.message || "ra.notification.http_error", {
        type: "error",
        messageArgs: {
          _: typeof error === "string" ? error : error && error.message ? error.message : void 0
        }
      });
    }
  }), deleteOne = _d[0], isPending = _d[1].isPending;
  var handleDelete = (0, import_react46.useCallback)(function(event) {
    event.stopPropagation();
    if (!record) {
      throw new Error("The record cannot be deleted because no record has been passed");
    }
    deleteOne(resource, {
      id: record.id,
      previousData: record,
      meta: mutationMeta
    }, __assign19({ mutationMode: "undoable" }, otherMutationOptions));
    if (typeof onClick === "function") {
      onClick(event);
    }
  }, [
    deleteOne,
    mutationMeta,
    otherMutationOptions,
    onClick,
    record,
    resource
  ]);
  return { isPending, isLoading: isPending, handleDelete };
};
var useDeleteWithUndoController_default = useDeleteWithUndoController;

// node_modules/ra-core/dist/esm/controller/button/useDeleteWithConfirmController.js
var import_react47 = __toESM(require_react());
var __assign20 = function() {
  __assign20 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign20.apply(this, arguments);
};
var __rest14 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useDeleteWithConfirmController = function(props) {
  var record = props.record, _a = props.redirect, redirectTo = _a === void 0 ? "list" : _a, mutationMode = props.mutationMode, onClick = props.onClick, _b = props.mutationOptions, mutationOptions = _b === void 0 ? {} : _b, _c = props.successMessage, successMessage = _c === void 0 ? "ra.notification.deleted" : _c;
  var mutationMeta = mutationOptions.meta, otherMutationOptions = __rest14(mutationOptions, ["meta"]);
  var resource = useResourceContext(props);
  var _d = (0, import_react47.useState)(false), open = _d[0], setOpen = _d[1];
  var notify = useNotify();
  var unselect = useUnselect(resource);
  var redirect = useRedirect();
  var _e = useDelete(resource, void 0, {
    onSuccess: function() {
      setOpen(false);
      notify(successMessage, {
        type: "info",
        messageArgs: { smart_count: 1 },
        undoable: mutationMode === "undoable"
      });
      record && unselect([record.id]);
      redirect(redirectTo, resource);
    },
    onError: function(error) {
      setOpen(false);
      notify(typeof error === "string" ? error : error.message || "ra.notification.http_error", {
        type: "error",
        messageArgs: {
          _: typeof error === "string" ? error : error && error.message ? error.message : void 0
        }
      });
    }
  }), deleteOne = _e[0], isPending = _e[1].isPending;
  var handleDialogOpen = function(e) {
    setOpen(true);
    e.stopPropagation();
  };
  var handleDialogClose = function(e) {
    setOpen(false);
    e.stopPropagation();
  };
  var handleDelete = (0, import_react47.useCallback)(function(event) {
    event.stopPropagation();
    if (!record) {
      throw new Error("The record cannot be deleted because no record has been passed");
    }
    deleteOne(resource, {
      id: record.id,
      previousData: record,
      meta: mutationMeta
    }, __assign20({ mutationMode }, otherMutationOptions));
    if (typeof onClick === "function") {
      onClick(event);
    }
  }, [
    deleteOne,
    mutationMeta,
    mutationMode,
    otherMutationOptions,
    onClick,
    record,
    resource
  ]);
  return {
    open,
    isPending,
    isLoading: isPending,
    handleDialogOpen,
    handleDialogClose,
    handleDelete
  };
};
var useDeleteWithConfirmController_default = useDeleteWithConfirmController;

// node_modules/ra-core/dist/esm/controller/create/CreateBase.js
var React14 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/create/useCreateController.js
var import_react53 = __toESM(require_react());
var import_query_string2 = __toESM(require_query_string());

// node_modules/ra-core/dist/esm/controller/saveContext/SaveContext.js
var import_react48 = __toESM(require_react());
var SaveContext = (0, import_react48.createContext)({});

// node_modules/ra-core/dist/esm/controller/saveContext/SaveContextProvider.js
var React11 = __toESM(require_react());
var SaveContextProvider = function(_a) {
  var children = _a.children, value = _a.value;
  return React11.createElement(SaveContext.Provider, { value }, children);
};

// node_modules/ra-core/dist/esm/controller/saveContext/usePickSaveContext.js
var import_react49 = __toESM(require_react());
var import_pick = __toESM(require_pick());
var usePickSaveContext = function(context) {
  var value = (0, import_react49.useMemo)(
    function() {
      return (0, import_pick.default)(context, [
        "save",
        "saving",
        "mutationMode",
        "registerMutationMiddleware",
        "unregisterMutationMiddleware"
      ]);
    },
    /* eslint-disable react-hooks/exhaustive-deps */
    [
      context.save,
      context.saving,
      context.mutationMode,
      context.registerMutationMiddleware,
      context.unregisterMutationMiddleware
    ]
    /* eslint-enable react-hooks/exhaustive-deps */
  );
  return value;
};

// node_modules/ra-core/dist/esm/controller/saveContext/useSaveContext.js
var import_react50 = __toESM(require_react());
var useSaveContext = function(_props) {
  return (0, import_react50.useContext)(SaveContext);
};

// node_modules/ra-core/dist/esm/controller/saveContext/useMutationMiddlewares.js
var import_react51 = __toESM(require_react());
var __spreadArray12 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useMutationMiddlewares = function() {
  var callbacks = (0, import_react51.useRef)([]);
  var registerMutationMiddleware = (0, import_react51.useCallback)(function(callback) {
    callbacks.current.push(callback);
  }, []);
  var unregisterMutationMiddleware = (0, import_react51.useCallback)(function(callback) {
    callbacks.current = callbacks.current.filter(function(cb) {
      return cb !== callback;
    });
  }, []);
  var getMutateWithMiddlewares = (0, import_react51.useCallback)(function(fn) {
    var currentCallbacks = __spreadArray12([], callbacks.current, true);
    return function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      var index = currentCallbacks.length - 1;
      var next = function() {
        var newArgs = [];
        for (var _i2 = 0; _i2 < arguments.length; _i2++) {
          newArgs[_i2] = arguments[_i2];
        }
        index--;
        if (index >= 0) {
          return currentCallbacks[index].apply(currentCallbacks, __spreadArray12(__spreadArray12([], newArgs, false), [next], false));
        } else {
          return fn.apply(void 0, newArgs);
        }
      };
      if (currentCallbacks.length > 0) {
        return currentCallbacks[index].apply(currentCallbacks, __spreadArray12(__spreadArray12([], args, false), [next], false));
      }
      return fn.apply(void 0, args);
    };
  }, []);
  var functions = (0, import_react51.useMemo)(function() {
    return {
      registerMutationMiddleware,
      getMutateWithMiddlewares,
      unregisterMutationMiddleware
    };
  }, [
    registerMutationMiddleware,
    getMutateWithMiddlewares,
    unregisterMutationMiddleware
  ]);
  return functions;
};

// node_modules/ra-core/dist/esm/controller/saveContext/useRegisterMutationMiddleware.js
var import_react52 = __toESM(require_react());
var useRegisterMutationMiddleware = function(callback) {
  var _a = useSaveContext(), registerMutationMiddleware = _a.registerMutationMiddleware, unregisterMutationMiddleware = _a.unregisterMutationMiddleware;
  (0, import_react52.useEffect)(function() {
    if (!registerMutationMiddleware || !unregisterMutationMiddleware) {
      return;
    }
    registerMutationMiddleware(callback);
    return function() {
      unregisterMutationMiddleware(callback);
    };
  }, [callback, registerMutationMiddleware, unregisterMutationMiddleware]);
};

// node_modules/ra-core/dist/esm/controller/create/useCreateController.js
var __assign21 = function() {
  __assign21 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign21.apply(this, arguments);
};
var __awaiter8 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator8 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest15 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useCreateController = function(props) {
  var _a;
  if (props === void 0) {
    props = {};
  }
  var disableAuthentication = props.disableAuthentication, record = props.record, redirectTo = props.redirect, transform2 = props.transform, _b = props.mutationOptions, mutationOptions = _b === void 0 ? {} : _b;
  useAuthenticated({ enabled: !disableAuthentication });
  var resource = useResourceContext(props);
  if (!resource) {
    throw new Error("useCreateController requires a non-empty resource prop or context");
  }
  var _c = useResourceDefinition(props), hasEdit = _c.hasEdit, hasShow = _c.hasShow;
  var finalRedirectTo = redirectTo !== null && redirectTo !== void 0 ? redirectTo : getDefaultRedirectRoute(hasShow, hasEdit);
  var location = useLocation();
  var translate = useTranslate();
  var notify = useNotify();
  var redirect = useRedirect();
  var recordToUse = (_a = record !== null && record !== void 0 ? record : getRecordFromLocation(location)) !== null && _a !== void 0 ? _a : void 0;
  var onSuccess = mutationOptions.onSuccess, onError = mutationOptions.onError, meta = mutationOptions.meta, otherMutationOptions = __rest15(mutationOptions, ["onSuccess", "onError", "meta"]);
  var _d = useMutationMiddlewares(), registerMutationMiddleware = _d.registerMutationMiddleware, getMutateWithMiddlewares = _d.getMutateWithMiddlewares, unregisterMutationMiddleware = _d.unregisterMutationMiddleware;
  var _e = useCreate(resource, void 0, __assign21(__assign21({ onSuccess: function(data, variables, context) {
    return __awaiter8(void 0, void 0, void 0, function() {
      return __generator8(this, function(_a2) {
        if (onSuccess) {
          return [2, onSuccess(data, variables, context)];
        }
        notify("ra.notification.created", {
          type: "info",
          messageArgs: { smart_count: 1 }
        });
        redirect(finalRedirectTo, resource, data.id, data);
        return [
          2
          /*return*/
        ];
      });
    });
  }, onError: function(error, variables, context) {
    var _a2;
    if (onError) {
      return onError(error, variables, context);
    }
    var validationErrors = (_a2 = error === null || error === void 0 ? void 0 : error.body) === null || _a2 === void 0 ? void 0 : _a2.errors;
    var hasValidationErrors = !!validationErrors && Object.keys(validationErrors).length > 0;
    if (!hasValidationErrors) {
      notify(typeof error === "string" ? error : error.message || "ra.notification.http_error", {
        type: "error",
        messageArgs: {
          _: typeof error === "string" ? error : error instanceof Error || typeof error === "object" && error !== null && error.hasOwnProperty("message") ? (
            // @ts-ignore
            error.message
          ) : void 0
        }
      });
    }
  } }, otherMutationOptions), { returnPromise: true, getMutateWithMiddlewares })), create = _e[0], saving = _e[1].isPending;
  var save = (0, import_react53.useCallback)(function(data, _a2) {
    if (_a2 === void 0) {
      _a2 = {};
    }
    var transformFromSave = _a2.transform, metaFromSave = _a2.meta, callTimeOptions = __rest15(_a2, ["transform", "meta"]);
    return Promise.resolve(transformFromSave ? transformFromSave(data) : transform2 ? transform2(data) : data).then(function(data2) {
      return __awaiter8(void 0, void 0, void 0, function() {
        var error_1;
        var _a3;
        return __generator8(this, function(_b2) {
          switch (_b2.label) {
            case 0:
              _b2.trys.push([0, 2, , 3]);
              return [4, create(resource, { data: data2, meta: metaFromSave !== null && metaFromSave !== void 0 ? metaFromSave : meta }, callTimeOptions)];
            case 1:
              _b2.sent();
              return [3, 3];
            case 2:
              error_1 = _b2.sent();
              if ((error_1 instanceof HttpError_default || typeof error_1 === "object" && error_1 !== null && error_1.hasOwnProperty("body")) && ((_a3 = error_1.body) === null || _a3 === void 0 ? void 0 : _a3.errors) != null) {
                return [2, error_1.body.errors];
              }
              return [3, 3];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    });
  }, [create, meta, resource, transform2]);
  var getResourceLabel = useGetResourceLabel();
  var defaultTitle = translate("ra.page.create", {
    name: getResourceLabel(resource, 1)
  });
  return {
    isFetching: false,
    isLoading: false,
    isPending: saving,
    saving,
    defaultTitle,
    save,
    resource,
    record: recordToUse,
    redirect: finalRedirectTo,
    registerMutationMiddleware,
    unregisterMutationMiddleware
  };
};
var getRecordFromLocation = function(_a) {
  var state = _a.state, search = _a.search;
  if (state && state.record) {
    return state.record;
  }
  if (search) {
    try {
      var searchParams = (0, import_query_string2.parse)(search);
      if (searchParams.source) {
        if (Array.isArray(searchParams.source)) {
          console.error("Failed to parse location search parameter '".concat(search, `'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`));
          return;
        }
        return JSON.parse(searchParams.source);
      }
    } catch (e) {
      console.error("Failed to parse location search parameter '".concat(search, `'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`));
    }
  }
  return null;
};
var getDefaultRedirectRoute = function(hasShow, hasEdit) {
  if (hasEdit) {
    return "edit";
  }
  if (hasShow) {
    return "show";
  }
  return "list";
};

// node_modules/ra-core/dist/esm/controller/create/CreateContextProvider.js
var React13 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/record/RecordContext.js
var React12 = __toESM(require_react());
var import_react54 = __toESM(require_react());
var RecordContext = (0, import_react54.createContext)(void 0);
RecordContext.displayName = "RecordContext";
var RecordContextProvider = function(_a) {
  var children = _a.children, value = _a.value;
  return React12.createElement(RecordContext.Provider, { value }, children);
};

// node_modules/ra-core/dist/esm/controller/create/CreateContext.js
var import_react55 = __toESM(require_react());
var CreateContext = (0, import_react55.createContext)(null);
CreateContext.displayName = "CreateContext";

// node_modules/ra-core/dist/esm/controller/create/CreateContextProvider.js
var __assign22 = function() {
  __assign22 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign22.apply(this, arguments);
};
var CreateContextProvider = function(_a) {
  var children = _a.children, value = _a.value;
  return React13.createElement(
    CreateContext.Provider,
    { value },
    React13.createElement(
      SaveContextProvider,
      { value: __assign22(__assign22({}, usePickSaveContext(value)), { mutationMode: "pessimistic" }) },
      React13.createElement(RecordContextProvider, { value: value && value.record }, children)
    )
  );
};

// node_modules/ra-core/dist/esm/controller/create/CreateBase.js
var __rest16 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var CreateBase = function(_a) {
  var children = _a.children, props = __rest16(_a, ["children"]);
  var controllerProps = useCreateController(props);
  var body = React14.createElement(CreateContextProvider, { value: controllerProps }, children);
  return props.resource ? (
    // support resource override via props
    React14.createElement(ResourceContextProvider, { value: props.resource }, body)
  ) : body;
};

// node_modules/ra-core/dist/esm/controller/create/CreateController.js
var __rest17 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var CreateController = function(_a) {
  var children = _a.children, props = __rest17(_a, ["children"]);
  var controllerProps = useCreateController(props);
  return children(controllerProps);
};

// node_modules/ra-core/dist/esm/controller/create/useCreateContext.js
var import_react56 = __toESM(require_react());
var useCreateContext = function() {
  var context = (0, import_react56.useContext)(CreateContext);
  if (!context) {
    throw new Error("useCreateContext must be used inside a CreateContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/controller/edit/EditBase.js
var React19 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/edit/useEditController.js
var import_react57 = __toESM(require_react());
var __assign23 = function() {
  __assign23 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign23.apply(this, arguments);
};
var __awaiter9 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator9 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest18 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useEditController = function(props) {
  if (props === void 0) {
    props = {};
  }
  var disableAuthentication = props.disableAuthentication, propsId = props.id, _a = props.mutationMode, mutationMode = _a === void 0 ? "undoable" : _a, _b = props.mutationOptions, mutationOptions = _b === void 0 ? {} : _b, _c = props.queryOptions, queryOptions = _c === void 0 ? {} : _c, _d = props.redirect, redirectTo = _d === void 0 ? DefaultRedirect : _d, transform2 = props.transform;
  useAuthenticated({ enabled: !disableAuthentication });
  var resource = useResourceContext(props);
  if (!resource) {
    throw new Error("useEditController requires a non-empty resource prop or context");
  }
  var getRecordRepresentation = useGetRecordRepresentation(resource);
  var translate = useTranslate();
  var notify = useNotify();
  var redirect = useRedirect();
  var refresh = useRefresh();
  var routeId = useParams().id;
  if (!routeId && !propsId) {
    throw new Error("useEditController requires an id prop or a route with an /:id? parameter.");
  }
  var id = propsId !== null && propsId !== void 0 ? propsId : decodeURIComponent(routeId);
  var queryMeta = queryOptions.meta, otherQueryOptions = __rest18(queryOptions, ["meta"]);
  var mutationMeta = mutationOptions.meta, onSuccess = mutationOptions.onSuccess, onError = mutationOptions.onError, otherMutationOptions = __rest18(mutationOptions, ["meta", "onSuccess", "onError"]);
  var _e = useMutationMiddlewares(), registerMutationMiddleware = _e.registerMutationMiddleware, getMutateWithMiddlewares = _e.getMutateWithMiddlewares, unregisterMutationMiddleware = _e.unregisterMutationMiddleware;
  var _f = useGetOne(resource, { id, meta: queryMeta }, __assign23({ onError: function() {
    notify("ra.notification.item_doesnt_exist", {
      type: "error"
    });
    redirect("list", resource);
    refresh();
  }, refetchOnReconnect: false, refetchOnWindowFocus: false, retry: false }, otherQueryOptions)), record = _f.data, error = _f.error, isLoading = _f.isLoading, isFetching = _f.isFetching, isPending = _f.isPending, refetch2 = _f.refetch;
  if (record && record.id && record.id != id) {
    throw new Error("useEditController: Fetched record's id attribute (".concat(record.id, ") must match the requested 'id' (").concat(id, ")"));
  }
  var getResourceLabel = useGetResourceLabel();
  var recordRepresentation = getRecordRepresentation(record);
  var defaultTitle = translate("ra.page.edit", {
    name: getResourceLabel(resource, 1),
    id,
    record,
    recordRepresentation: typeof recordRepresentation === "string" ? recordRepresentation : ""
  });
  var recordCached = { id, previousData: record };
  var _g = useUpdate(resource, recordCached, __assign23(__assign23({ onSuccess: function(data, variables, context) {
    return __awaiter9(void 0, void 0, void 0, function() {
      return __generator9(this, function(_a2) {
        if (onSuccess) {
          return [2, onSuccess(data, variables, context)];
        }
        notify("ra.notification.updated", {
          type: "info",
          messageArgs: { smart_count: 1 },
          undoable: mutationMode === "undoable"
        });
        redirect(redirectTo, resource, data.id, data);
        return [
          2
          /*return*/
        ];
      });
    });
  }, onError: function(error2, variables, context) {
    var _a2;
    if (onError) {
      return onError(error2, variables, context);
    }
    var validationErrors = (_a2 = error2 === null || error2 === void 0 ? void 0 : error2.body) === null || _a2 === void 0 ? void 0 : _a2.errors;
    var hasValidationErrors = !!validationErrors && Object.keys(validationErrors).length > 0;
    if (!hasValidationErrors || mutationMode !== "pessimistic") {
      notify(typeof error2 === "string" ? error2 : error2.message || "ra.notification.http_error", {
        type: "error",
        messageArgs: {
          _: typeof error2 === "string" ? error2 : error2 instanceof Error || typeof error2 === "object" && error2 !== null && error2.hasOwnProperty("message") ? (
            // @ts-ignore
            error2.message
          ) : void 0
        }
      });
    }
  } }, otherMutationOptions), { mutationMode, returnPromise: mutationMode === "pessimistic", getMutateWithMiddlewares })), update = _g[0], saving = _g[1].isPending;
  var save = (0, import_react57.useCallback)(function(data, _a2) {
    var _b2 = _a2 === void 0 ? {} : _a2, onSuccessFromSave = _b2.onSuccess, onErrorFromSave = _b2.onError, transformFromSave = _b2.transform, metaFromSave = _b2.meta;
    return Promise.resolve(transformFromSave ? transformFromSave(data, {
      previousData: recordCached.previousData
    }) : transform2 ? transform2(data, {
      previousData: recordCached.previousData
    }) : data).then(function(data2) {
      return __awaiter9(void 0, void 0, void 0, function() {
        var error_1;
        var _a3;
        return __generator9(this, function(_b3) {
          switch (_b3.label) {
            case 0:
              _b3.trys.push([0, 2, , 3]);
              return [4, update(resource, {
                id,
                data: data2,
                meta: metaFromSave !== null && metaFromSave !== void 0 ? metaFromSave : mutationMeta
              }, {
                onError: onErrorFromSave,
                onSuccess: onSuccessFromSave
              })];
            case 1:
              _b3.sent();
              return [3, 3];
            case 2:
              error_1 = _b3.sent();
              if (((_a3 = error_1.body) === null || _a3 === void 0 ? void 0 : _a3.errors) != null) {
                return [2, error_1.body.errors];
              }
              return [3, 3];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    });
  }, [
    id,
    mutationMeta,
    resource,
    transform2,
    update,
    recordCached.previousData
  ]);
  return {
    defaultTitle,
    error,
    isFetching,
    isLoading,
    isPending,
    mutationMode,
    record,
    redirect: redirectTo,
    refetch: refetch2,
    registerMutationMiddleware,
    resource,
    save,
    saving,
    unregisterMutationMiddleware
  };
};
var DefaultRedirect = "list";

// node_modules/ra-core/dist/esm/controller/edit/EditContextProvider.js
var React18 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/record/useRecordContext.js
var import_react58 = __toESM(require_react());
var useRecordContext = function(props) {
  var context = (0, import_react58.useContext)(RecordContext);
  return props && props.record || context;
};

// node_modules/ra-core/dist/esm/controller/record/WithRecord.js
var React15 = __toESM(require_react());
var WithRecord = function(_a) {
  var render = _a.render;
  var record = useRecordContext();
  return record ? React15.createElement(React15.Fragment, null, render(record)) : null;
};

// node_modules/ra-core/dist/esm/controller/record/OptionalRecordContextProvider.js
var React16 = __toESM(require_react());
var OptionalRecordContextProvider = function(_a) {
  var value = _a.value, children = _a.children;
  return value ? React16.createElement(RecordContextProvider, { value }, children) : children;
};

// node_modules/ra-core/dist/esm/controller/record/RecordRepresentation.js
var React17 = __toESM(require_react());
var RecordRepresentation = function(props) {
  var record = useRecordContext(props);
  var resource = useResourceContext(props);
  var getRecordRepresentation = useGetRecordRepresentation(resource);
  return React17.createElement(React17.Fragment, null, getRecordRepresentation(record));
};

// node_modules/ra-core/dist/esm/controller/edit/EditContext.js
var import_react59 = __toESM(require_react());
var EditContext = (0, import_react59.createContext)(null);
EditContext.displayName = "EditContext";

// node_modules/ra-core/dist/esm/controller/edit/EditContextProvider.js
var EditContextProvider = function(_a) {
  var children = _a.children, value = _a.value;
  return React18.createElement(
    EditContext.Provider,
    { value },
    React18.createElement(
      SaveContextProvider,
      { value: usePickSaveContext(value) },
      React18.createElement(RecordContextProvider, { value: value && value.record }, children)
    )
  );
};

// node_modules/ra-core/dist/esm/controller/edit/EditBase.js
var __rest19 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var EditBase = function(_a) {
  var children = _a.children, props = __rest19(_a, ["children"]);
  var controllerProps = useEditController(props);
  var body = React19.createElement(EditContextProvider, { value: controllerProps }, children);
  return props.resource ? (
    // support resource override via props
    React19.createElement(ResourceContextProvider, { value: props.resource }, body)
  ) : body;
};

// node_modules/ra-core/dist/esm/controller/edit/EditController.js
var __rest20 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var EditController = function(_a) {
  var children = _a.children, props = __rest20(_a, ["children"]);
  var controllerProps = useEditController(props);
  return children(controllerProps);
};

// node_modules/ra-core/dist/esm/controller/edit/useEditContext.js
var import_react60 = __toESM(require_react());
var useEditContext = function() {
  var context = (0, import_react60.useContext)(EditContext);
  if (!context) {
    throw new Error("useEditContext must be used inside an EditContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/controller/field/ReferenceFieldBase.js
var React20 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/field/ReferenceFieldContext.js
var import_react61 = __toESM(require_react());
var ReferenceFieldContext = (0, import_react61.createContext)(null);
var ReferenceFieldContextProvider = ReferenceFieldContext.Provider;
var useReferenceFieldContext = function() {
  var context = (0, import_react61.useContext)(ReferenceFieldContext);
  if (!context) {
    throw new Error("useReferenceFieldContext must be used inside a ReferenceFieldContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/controller/field/useReferenceFieldController.js
var import_react62 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/useReference.js
var __rest21 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useReference = function(_a) {
  var reference = _a.reference, id = _a.id, _b = _a.options, options = _b === void 0 ? {} : _b;
  var meta = options.meta, otherQueryOptions = __rest21(options, ["meta"]);
  var _c = useGetManyAggregate(reference, { ids: [id], meta }, otherQueryOptions), data = _c.data, error = _c.error, isLoading = _c.isLoading, isFetching = _c.isFetching, isPending = _c.isPending, refetch2 = _c.refetch;
  return {
    referenceRecord: error ? void 0 : data ? data[0] : void 0,
    refetch: refetch2,
    error,
    isLoading,
    isFetching,
    isPending
  };
};

// node_modules/ra-core/dist/esm/controller/field/useReferenceFieldController.js
var __assign24 = function() {
  __assign24 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign24.apply(this, arguments);
};
var useReferenceFieldController = function(options) {
  var link = options.link, reference = options.reference, queryOptions = options.queryOptions;
  if (!reference) {
    throw new Error('useReferenceFieldController: missing reference prop. You must provide a reference, e.g. reference="posts".');
  }
  var id = useFieldValue(options);
  var referenceRecordQuery = useReference({
    reference,
    id,
    options: __assign24(__assign24({}, queryOptions), { enabled: ((queryOptions === null || queryOptions === void 0 ? void 0 : queryOptions.enabled) == null || (queryOptions === null || queryOptions === void 0 ? void 0 : queryOptions.enabled) === true) && id != null })
  });
  var path = useGetPathForRecord({
    record: referenceRecordQuery.referenceRecord,
    resource: reference,
    link
  });
  var result = (0, import_react62.useMemo)(function() {
    return __assign24(__assign24({}, referenceRecordQuery), { link: path });
  }, [path, referenceRecordQuery]);
  return result;
};

// node_modules/ra-core/dist/esm/controller/field/ReferenceFieldBase.js
var ReferenceFieldBase = function(props) {
  var children = props.children;
  var controllerProps = useReferenceFieldController(props);
  return React20.createElement(
    ResourceContextProvider,
    { value: props.reference },
    React20.createElement(
      ReferenceFieldContextProvider,
      { value: controllerProps },
      React20.createElement(RecordContextProvider, { value: controllerProps.referenceRecord }, children)
    )
  );
};

// node_modules/ra-core/dist/esm/controller/field/useReferenceArrayFieldController.js
var import_get5 = __toESM(require_get());

// node_modules/ra-core/dist/esm/controller/list/InfiniteListBase.js
var React22 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/list/useInfiniteListController.js
var import_react67 = __toESM(require_react());

// node_modules/ra-core/dist/esm/export/defaultExporter.js
var import_dist = __toESM(require_dist());

// node_modules/ra-core/dist/esm/export/downloadCSV.js
var downloadCSV = function(csv, filename) {
  if (filename === void 0) {
    filename = "export";
  }
  var fakeLink = document.createElement("a");
  fakeLink.style.display = "none";
  document.body.appendChild(fakeLink);
  var blob = new Blob([csv], { type: "text/csv;charset=utf-8" });
  if (window.navigator && window.navigator.msSaveOrOpenBlob) {
    window.navigator.msSaveOrOpenBlob(blob, "".concat(filename, ".csv"));
  } else {
    fakeLink.setAttribute("href", URL.createObjectURL(blob));
    fakeLink.setAttribute("download", "".concat(filename, ".csv"));
    fakeLink.click();
  }
};

// node_modules/ra-core/dist/esm/export/defaultExporter.js
var defaultExporter = function(data, _, __, resource) {
  return (0, import_dist.default)(data, function(err, csv) {
    return downloadCSV(csv, resource);
  });
};

// node_modules/ra-core/dist/esm/export/ExporterContext.js
var import_react63 = __toESM(require_react());
var ExporterContext = (0, import_react63.createContext)(defaultExporter);
ExporterContext.displayName = "ExporterContext";

// node_modules/ra-core/dist/esm/export/getRelatedIds.js
var getRelatedIds = function(records, field) {
  return Array.from(new Set(records.filter(function(record) {
    return record[field] != null;
  }).map(function(record) {
    return record[field];
  }).reduce(function(ids, value) {
    return ids.concat(value);
  }, [])));
};

// node_modules/ra-core/dist/esm/export/fetchRelatedRecords.js
var fetchRelatedRecords = function(dataProvider) {
  return function(data, field, resource) {
    return dataProvider.getMany(resource, { ids: getRelatedIds(data, field) }).then(function(_a) {
      var data2 = _a.data;
      return data2.reduce(function(acc, post) {
        acc[post.id] = post;
        return acc;
      }, {});
    });
  };
};

// node_modules/ra-core/dist/esm/controller/list/useRecordSelection.js
var import_react64 = __toESM(require_react());
var __spreadArray13 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useRecordSelection = function(args) {
  var _a = args.resource, resource = _a === void 0 ? "" : _a, _b = args.disableSyncWithStore, disableSyncWithStore = _b === void 0 ? false : _b;
  var storeKey = "".concat(resource, ".selectedIds");
  var _c = (0, import_react64.useState)(defaultSelection), localIds = _c[0], setLocalIds = _c[1];
  var _d = useStore(storeKey, defaultSelection), storeIds = _d[0], setStoreIds = _d[1];
  var resetStore = useRemoveFromStore(storeKey);
  var ids = disableSyncWithStore ? localIds : storeIds;
  var setIds = disableSyncWithStore ? setLocalIds : setStoreIds;
  var reset = (0, import_react64.useCallback)(function() {
    if (disableSyncWithStore) {
      setLocalIds(defaultSelection);
    } else {
      resetStore();
    }
  }, [disableSyncWithStore, resetStore]);
  var selectionModifiers = (0, import_react64.useMemo)(function() {
    return {
      select: function(idsToAdd) {
        if (!idsToAdd)
          return;
        setIds(__spreadArray13([], idsToAdd, true));
      },
      unselect: function(idsToRemove) {
        if (!idsToRemove || idsToRemove.length === 0)
          return;
        setIds(function(ids2) {
          if (!Array.isArray(ids2))
            return [];
          return ids2.filter(function(id) {
            return !idsToRemove.includes(id);
          });
        });
      },
      toggle: function(id) {
        if (typeof id === "undefined")
          return;
        setIds(function(ids2) {
          if (!Array.isArray(ids2))
            return __spreadArray13([], ids2, true);
          var index = ids2.indexOf(id);
          return index > -1 ? __spreadArray13(__spreadArray13([], ids2.slice(0, index), true), ids2.slice(index + 1), true) : __spreadArray13(__spreadArray13([], ids2, true), [id], false);
        });
      },
      clearSelection: function() {
        reset();
      }
    };
  }, [setIds, reset]);
  return [ids, selectionModifiers];
};
var defaultSelection = [];

// node_modules/ra-core/dist/esm/controller/list/useListParams.js
var import_react66 = __toESM(require_react());
var import_query_string3 = __toESM(require_query_string());
var import_debounce3 = __toESM(require_debounce());

// node_modules/ra-core/dist/esm/util/hooks.js
var import_react65 = __toESM(require_react());
var import_isEqual2 = __toESM(require_isEqual());
function useSafeSetState(initialState) {
  var _a = (0, import_react65.useState)(initialState), state = _a[0], setState = _a[1];
  var mountedRef = (0, import_react65.useRef)(false);
  (0, import_react65.useEffect)(function() {
    mountedRef.current = true;
    return function() {
      mountedRef.current = false;
    };
  }, []);
  var safeSetState = (0, import_react65.useCallback)(function(args) {
    if (mountedRef.current) {
      return setState(args);
    }
  }, [mountedRef, setState]);
  return [state, safeSetState];
}
function usePrevious(value) {
  var ref = (0, import_react65.useRef)();
  (0, import_react65.useEffect)(function() {
    ref.current = value;
  });
  return ref.current;
}
function useDeepCompareEffect(callback, inputs) {
  var cleanupRef = (0, import_react65.useRef)();
  (0, import_react65.useEffect)(function() {
    if (!(0, import_isEqual2.default)(previousInputs, inputs)) {
      cleanupRef.current = callback();
    }
    return cleanupRef.current;
  });
  var previousInputs = usePrevious(inputs);
}
function useTimeout(ms, key) {
  if (ms === void 0) {
    ms = 0;
  }
  if (key === void 0) {
    key = "";
  }
  var _a = useSafeSetState(false), ready = _a[0], setReady = _a[1];
  (0, import_react65.useEffect)(function() {
    setReady(false);
    var timer2 = setTimeout(function() {
      setReady(true);
    }, ms);
    return function() {
      clearTimeout(timer2);
    };
  }, [key, ms, setReady]);
  return ready;
}
function useIsMounted() {
  var isMounted = (0, import_react65.useRef)(true);
  (0, import_react65.useEffect)(function() {
    isMounted.current = true;
    return function() {
      isMounted.current = false;
    };
  }, []);
  return isMounted;
}

// node_modules/ra-core/dist/esm/controller/list/useListParams.js
var __assign25 = function() {
  __assign25 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign25.apply(this, arguments);
};
var __spreadArray14 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useListParams = function(_a) {
  var _b = _a.debounce, debounce4 = _b === void 0 ? 500 : _b, _c = _a.disableSyncWithLocation, disableSyncWithLocation = _c === void 0 ? false : _c, filterDefaultValues = _a.filterDefaultValues, _d = _a.perPage, perPage = _d === void 0 ? 10 : _d, resource = _a.resource, _e = _a.sort, sort = _e === void 0 ? defaultSort2 : _e, _f = _a.storeKey, storeKey = _f === void 0 ? "".concat(resource, ".listParams") : _f;
  var location = useLocation();
  var navigate = useNavigate();
  var _g = (0, import_react66.useState)(defaultParams), localParams = _g[0], setLocalParams = _g[1];
  var _h = useStore(storeKey || "".concat(resource, ".listParams"), defaultParams), params = _h[0], setParams = _h[1];
  var tempParams = (0, import_react66.useRef)();
  var isMounted = useIsMounted();
  var disableSyncWithStore = storeKey === false;
  var requestSignature = [
    location.search,
    resource,
    storeKey,
    JSON.stringify(disableSyncWithLocation || disableSyncWithStore ? localParams : params),
    JSON.stringify(filterDefaultValues),
    JSON.stringify(sort),
    perPage,
    disableSyncWithLocation
  ];
  var queryFromLocation = disableSyncWithLocation ? {} : parseQueryFromLocation(location);
  var query = (0, import_react66.useMemo)(
    function() {
      return getQuery({
        queryFromLocation,
        params: disableSyncWithLocation || disableSyncWithStore ? localParams : params,
        filterDefaultValues,
        sort,
        perPage
      });
    },
    requestSignature
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  (0, import_react66.useEffect)(function() {
    if (Object.keys(queryFromLocation).length > 0 && !disableSyncWithStore) {
      setParams(query);
    }
  }, [location.search]);
  var changeParams = (0, import_react66.useCallback)(function(action) {
    if (!isMounted.current)
      return;
    if (!tempParams.current) {
      tempParams.current = queryReducer_default(query, action);
      setTimeout(function() {
        if (!tempParams.current) {
          return;
        }
        if (disableSyncWithLocation) {
          setLocalParams(tempParams.current);
        } else {
          navigate({
            search: "?".concat((0, import_query_string3.stringify)(__assign25(__assign25({}, tempParams.current), { filter: JSON.stringify(tempParams.current.filter), displayedFilters: JSON.stringify(tempParams.current.displayedFilters) })))
          }, {
            state: {
              _scrollToTop: action.type === SET_PAGE
            }
          });
        }
        tempParams.current = void 0;
      }, 0);
    } else {
      tempParams.current = queryReducer_default(tempParams.current, action);
    }
  }, __spreadArray14(__spreadArray14([], requestSignature, true), [navigate], false));
  var setSort = (0, import_react66.useCallback)(function(sort2) {
    return changeParams({
      type: SET_SORT,
      payload: sort2
    });
  }, [changeParams]);
  var setPage = (0, import_react66.useCallback)(function(newPage) {
    return changeParams({ type: SET_PAGE, payload: newPage });
  }, [changeParams]);
  var setPerPage = (0, import_react66.useCallback)(function(newPerPage) {
    return changeParams({ type: SET_PER_PAGE, payload: newPerPage });
  }, [changeParams]);
  var filterValues = query.filter || emptyObject;
  var displayedFilterValues = query.displayedFilters || emptyObject;
  var debouncedSetFilters = (0, import_debounce3.default)(function(filter, displayedFilters) {
    changeParams({
      type: SET_FILTER,
      payload: {
        filter: removeEmpty_default(filter),
        displayedFilters
      }
    });
  }, debounce4);
  var setFilters = (0, import_react66.useCallback)(
    function(filter, displayedFilters, debounce5) {
      if (displayedFilters === void 0) {
        displayedFilters = void 0;
      }
      if (debounce5 === void 0) {
        debounce5 = false;
      }
      return debounce5 ? debouncedSetFilters(filter, displayedFilters) : changeParams({
        type: SET_FILTER,
        payload: {
          filter: removeEmpty_default(filter),
          displayedFilters
        }
      });
    },
    [changeParams]
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  var hideFilter = (0, import_react66.useCallback)(function(filterName) {
    changeParams({
      type: HIDE_FILTER,
      payload: filterName
    });
  }, [changeParams]);
  var showFilter = (0, import_react66.useCallback)(function(filterName, defaultValue) {
    changeParams({
      type: SHOW_FILTER,
      payload: {
        filterName,
        defaultValue
      }
    });
  }, [changeParams]);
  return [
    __assign25(__assign25({ filterValues, requestSignature }, query), { displayedFilters: displayedFilterValues }),
    {
      changeParams,
      setPage,
      setPerPage,
      setSort,
      setFilters,
      hideFilter,
      showFilter
    }
  ];
};
var parseObject = function(query, field) {
  if (query[field] && typeof query[field] === "string") {
    try {
      query[field] = JSON.parse(query[field]);
    } catch (err) {
      delete query[field];
    }
  }
};
var parseQueryFromLocation = function(_a) {
  var search = _a.search;
  var query = (0, import_query_string3.parse)(search);
  parseObject(query, "filter");
  parseObject(query, "displayedFilters");
  return query;
};
var hasCustomParams = function(params) {
  return params && params.filter && (Object.keys(params.filter).length > 0 || params.order != null || params.page !== 1 || params.perPage != null || params.sort != null);
};
var getQuery = function(_a) {
  var queryFromLocation = _a.queryFromLocation, params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, perPage = _a.perPage;
  var query = Object.keys(queryFromLocation).length > 0 ? queryFromLocation : hasCustomParams(params) ? __assign25({}, params) : { filter: filterDefaultValues || {} };
  if (!query.sort) {
    query.sort = sort.field;
    query.order = sort.order;
  }
  if (query.perPage == null) {
    query.perPage = perPage;
  }
  if (query.page == null) {
    query.page = 1;
  }
  return __assign25(__assign25({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });
};
var getNumberOrDefault = function(possibleNumber, defaultValue) {
  if (typeof possibleNumber === "undefined") {
    return defaultValue;
  }
  var parsedNumber = typeof possibleNumber === "string" ? parseInt(possibleNumber, 10) : possibleNumber;
  return isNaN(parsedNumber) ? defaultValue : parsedNumber;
};
var emptyObject = {};
var defaultSort2 = {
  field: "id",
  order: SORT_ASC
};
var defaultParams = {};

// node_modules/ra-core/dist/esm/controller/list/useInfiniteListController.js
var __assign26 = function() {
  __assign26 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign26.apply(this, arguments);
};
var __rest22 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var __spreadArray15 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useInfiniteListController = function(props) {
  if (props === void 0) {
    props = {};
  }
  var _a = props.debounce, debounce4 = _a === void 0 ? 500 : _a, disableAuthentication = props.disableAuthentication, disableSyncWithLocation = props.disableSyncWithLocation, _b = props.exporter, exporter = _b === void 0 ? defaultExporter : _b, filter = props.filter, filterDefaultValues = props.filterDefaultValues, _c = props.perPage, perPage = _c === void 0 ? 10 : _c, queryOptions = props.queryOptions, sort = props.sort, storeKey = props.storeKey;
  useAuthenticated({ enabled: !disableAuthentication });
  var resource = useResourceContext(props);
  var _d = queryOptions !== null && queryOptions !== void 0 ? queryOptions : {}, meta = _d.meta, otherQueryOptions = __rest22(_d, ["meta"]);
  if (!resource) {
    throw new Error("<InfiniteList> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.");
  }
  if (filter && (0, import_react67.isValidElement)(filter)) {
    throw new Error("<InfiniteList> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.");
  }
  var translate = useTranslate();
  var notify = useNotify();
  var _e = useListParams({
    debounce: debounce4,
    disableSyncWithLocation,
    filterDefaultValues,
    perPage,
    resource,
    sort,
    storeKey
  }), query = _e[0], queryModifiers = _e[1];
  var _f = useRecordSelection({ resource }), selectedIds = _f[0], selectionModifiers = _f[1];
  var _g = useInfiniteGetList(resource, {
    pagination: {
      page: query.page,
      perPage: query.perPage
    },
    sort: { field: query.sort, order: query.order },
    filter: __assign26(__assign26({}, query.filter), filter),
    meta
  }, __assign26({ placeholderData: function(previousData) {
    return previousData;
  }, retry: false, onError: function(error2) {
    return notify((error2 === null || error2 === void 0 ? void 0 : error2.message) || "ra.notification.http_error", {
      type: "error",
      messageArgs: {
        _: error2 === null || error2 === void 0 ? void 0 : error2.message
      }
    });
  } }, otherQueryOptions)), data = _g.data, total = _g.total, error = _g.error, isLoading = _g.isLoading, isPending = _g.isPending, isFetching = _g.isFetching, hasNextPage = _g.hasNextPage, hasPreviousPage = _g.hasPreviousPage, fetchNextPage = _g.fetchNextPage, isFetchingNextPage = _g.isFetchingNextPage, fetchPreviousPage = _g.fetchPreviousPage, isFetchingPreviousPage = _g.isFetchingPreviousPage, refetch2 = _g.refetch;
  (0, import_react67.useEffect)(function() {
    if (query.page <= 0 || !isFetching && query.page > 1 && (data == null || (data === null || data === void 0 ? void 0 : data.pages.length) === 0)) {
      queryModifiers.setPage(1);
      return;
    }
    if (total == null) {
      return;
    }
    var totalPages = Math.ceil(total / query.perPage) || 1;
    if (!isFetching && query.page > totalPages) {
      queryModifiers.setPage(totalPages);
    }
  }, [isFetching, query.page, query.perPage, data, queryModifiers, total]);
  var currentSort = (0, import_react67.useMemo)(function() {
    return {
      field: query.sort,
      order: query.order
    };
  }, [query.sort, query.order]);
  var getResourceLabel = useGetResourceLabel();
  var defaultTitle = translate("ra.page.list", {
    name: getResourceLabel(resource, 2)
  });
  var unwrappedData = (0, import_react67.useMemo)(function() {
    var _a2;
    return (_a2 = data === null || data === void 0 ? void 0 : data.pages) === null || _a2 === void 0 ? void 0 : _a2.reduce(function(acc, page) {
      return __spreadArray15(__spreadArray15([], acc, true), page.data, true);
    }, []);
  }, [data]);
  return {
    sort: currentSort,
    data: unwrappedData,
    defaultTitle,
    displayedFilters: query.displayedFilters,
    error,
    exporter,
    filter,
    filterValues: query.filterValues,
    hideFilter: queryModifiers.hideFilter,
    isFetching,
    isLoading,
    isPending,
    onSelect: selectionModifiers.select,
    onToggleItem: selectionModifiers.toggle,
    onUnselectItems: selectionModifiers.clearSelection,
    page: query.page,
    perPage: query.perPage,
    refetch: refetch2,
    resource,
    selectedIds,
    setFilters: queryModifiers.setFilters,
    setPage: queryModifiers.setPage,
    setPerPage: queryModifiers.setPerPage,
    setSort: queryModifiers.setSort,
    showFilter: queryModifiers.showFilter,
    total,
    hasNextPage,
    hasPreviousPage,
    fetchNextPage,
    isFetchingNextPage,
    fetchPreviousPage,
    isFetchingPreviousPage
  };
};

// node_modules/ra-core/dist/esm/controller/list/ListContextProvider.js
var React21 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/list/ListContext.js
var import_react68 = __toESM(require_react());
var ListContext = (0, import_react68.createContext)(null);
ListContext.displayName = "ListContext";

// node_modules/ra-core/dist/esm/controller/list/ListFilterContext.js
var import_react69 = __toESM(require_react());
var import_pick2 = __toESM(require_pick());
var ListFilterContext = (0, import_react69.createContext)(void 0);
var usePickFilterContext = function(context) {
  return (0, import_react69.useMemo)(
    function() {
      return (0, import_pick2.default)(context, [
        "displayedFilters",
        "filterValues",
        "hideFilter",
        "setFilters",
        "showFilter",
        "resource"
      ]);
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [
      context.displayedFilters,
      context.filterValues,
      context.hideFilter,
      context.setFilters,
      context.showFilter
    ]
  );
};
ListFilterContext.displayName = "ListFilterContext";

// node_modules/ra-core/dist/esm/controller/list/ListSortContext.js
var import_react70 = __toESM(require_react());
var import_pick3 = __toESM(require_pick());
var ListSortContext = (0, import_react70.createContext)(void 0);
var usePickSortContext = function(context) {
  return (0, import_react70.useMemo)(
    function() {
      return (0, import_pick3.default)(context, ["sort", "setSort", "resource"]);
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [context.sort, context.setSort]
  );
};
ListSortContext.displayName = "ListSortContext";

// node_modules/ra-core/dist/esm/controller/list/ListPaginationContext.js
var import_react71 = __toESM(require_react());
var import_pick4 = __toESM(require_pick());
var ListPaginationContext = (0, import_react71.createContext)(void 0);
ListPaginationContext.displayName = "ListPaginationContext";
var usePickPaginationContext = function(context) {
  return (0, import_react71.useMemo)(
    function() {
      return (0, import_pick4.default)(context, [
        "isLoading",
        "isPending",
        "hasPreviousPage",
        "hasNextPage",
        "page",
        "perPage",
        "setPage",
        "setPerPage",
        "total",
        "resource"
      ]);
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [
      context.isLoading,
      context.isPending,
      context.hasPreviousPage,
      context.hasNextPage,
      context.page,
      context.perPage,
      context.setPage,
      context.setPerPage,
      context.total
    ]
  );
};

// node_modules/ra-core/dist/esm/controller/list/ListContextProvider.js
var ListContextProvider = function(_a) {
  var value = _a.value, children = _a.children;
  return React21.createElement(
    ListContext.Provider,
    { value },
    React21.createElement(
      ListFilterContext.Provider,
      { value: usePickFilterContext(value) },
      React21.createElement(
        ListSortContext.Provider,
        { value: usePickSortContext(value) },
        React21.createElement(ListPaginationContext.Provider, { value: usePickPaginationContext(value) }, children)
      )
    )
  );
};

// node_modules/ra-core/dist/esm/controller/list/InfinitePaginationContext.js
var import_react72 = __toESM(require_react());
var InfinitePaginationContext = (0, import_react72.createContext)({
  hasNextPage: false,
  fetchNextPage: function() {
    return Promise.reject("not implemented");
  },
  isFetchingNextPage: false,
  hasPreviousPage: false,
  fetchPreviousPage: function() {
    return Promise.reject("not implemented");
  },
  isFetchingPreviousPage: false
});
InfinitePaginationContext.displayName = "InfinitePaginationContext";

// node_modules/ra-core/dist/esm/controller/list/InfiniteListBase.js
var __rest23 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var InfiniteListBase = function(_a) {
  var children = _a.children, props = __rest23(_a, ["children"]);
  var controllerProps = useInfiniteListController(props);
  return React22.createElement(
    ResourceContextProvider,
    { value: props.resource },
    React22.createElement(
      ListContextProvider,
      { value: controllerProps },
      React22.createElement(InfinitePaginationContext.Provider, { value: {
        hasNextPage: controllerProps.hasNextPage,
        fetchNextPage: controllerProps.fetchNextPage,
        isFetchingNextPage: controllerProps.isFetchingNextPage,
        hasPreviousPage: controllerProps.hasPreviousPage,
        fetchPreviousPage: controllerProps.fetchPreviousPage,
        isFetchingPreviousPage: controllerProps.isFetchingPreviousPage
      } }, children)
    )
  );
};

// node_modules/ra-core/dist/esm/controller/list/ListBase.js
var React23 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/list/useListController.js
var import_react73 = __toESM(require_react());
var __assign27 = function() {
  __assign27 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign27.apply(this, arguments);
};
var __rest24 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useListController = function(props) {
  if (props === void 0) {
    props = {};
  }
  var _a = props.debounce, debounce4 = _a === void 0 ? 500 : _a, disableAuthentication = props.disableAuthentication, disableSyncWithLocation = props.disableSyncWithLocation, _b = props.exporter, exporter = _b === void 0 ? defaultExporter : _b, filter = props.filter, filterDefaultValues = props.filterDefaultValues, _c = props.perPage, perPage = _c === void 0 ? 10 : _c, _d = props.queryOptions, queryOptions = _d === void 0 ? {} : _d, _e = props.sort, sort = _e === void 0 ? defaultSort3 : _e, storeKey = props.storeKey;
  useAuthenticated({ enabled: !disableAuthentication });
  var resource = useResourceContext(props);
  var meta = queryOptions.meta, otherQueryOptions = __rest24(queryOptions, ["meta"]);
  if (!resource) {
    throw new Error("useListController requires a non-empty resource prop or context");
  }
  if (filter && ((0, import_react73.isValidElement)(filter) || Array.isArray(filter) && filter.some(import_react73.isValidElement))) {
    throw new Error("useListController received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.");
  }
  var translate = useTranslate();
  var notify = useNotify();
  var _f = useListParams({
    debounce: debounce4,
    disableSyncWithLocation,
    filterDefaultValues,
    perPage,
    resource,
    sort,
    storeKey
  }), query = _f[0], queryModifiers = _f[1];
  var _g = useRecordSelection({
    resource,
    disableSyncWithStore: storeKey === false
  }), selectedIds = _g[0], selectionModifiers = _g[1];
  var _h = useGetList(resource, {
    pagination: {
      page: query.page,
      perPage: query.perPage
    },
    sort: { field: query.sort, order: query.order },
    filter: __assign27(__assign27({}, query.filter), filter),
    meta
  }, __assign27({ placeholderData: function(previousData) {
    return previousData;
  }, retry: false, onError: function(error2) {
    return notify((error2 === null || error2 === void 0 ? void 0 : error2.message) || "ra.notification.http_error", {
      type: "error",
      messageArgs: {
        _: error2 === null || error2 === void 0 ? void 0 : error2.message
      }
    });
  } }, otherQueryOptions)), data = _h.data, pageInfo = _h.pageInfo, total = _h.total, error = _h.error, isLoading = _h.isLoading, isFetching = _h.isFetching, isPending = _h.isPending, refetch2 = _h.refetch;
  (0, import_react73.useEffect)(function() {
    if (query.page <= 0 || !isFetching && query.page > 1 && (data == null || (data === null || data === void 0 ? void 0 : data.length) === 0)) {
      queryModifiers.setPage(1);
      return;
    }
    if (total == null) {
      return;
    }
    var totalPages = Math.ceil(total / query.perPage) || 1;
    if (!isFetching && query.page > totalPages) {
      queryModifiers.setPage(totalPages);
    }
  }, [isFetching, query.page, query.perPage, data, queryModifiers, total]);
  var currentSort = (0, import_react73.useMemo)(function() {
    return {
      field: query.sort,
      order: query.order
    };
  }, [query.sort, query.order]);
  var getResourceLabel = useGetResourceLabel();
  var defaultTitle = translate("ra.page.list", {
    name: getResourceLabel(resource, 2)
  });
  return {
    sort: currentSort,
    data,
    defaultTitle,
    displayedFilters: query.displayedFilters,
    error,
    exporter,
    filter,
    filterValues: query.filterValues,
    hideFilter: queryModifiers.hideFilter,
    isFetching,
    isLoading,
    isPending,
    onSelect: selectionModifiers.select,
    onToggleItem: selectionModifiers.toggle,
    onUnselectItems: selectionModifiers.clearSelection,
    page: query.page,
    perPage: query.perPage,
    refetch: refetch2,
    resource,
    selectedIds,
    setFilters: queryModifiers.setFilters,
    setPage: queryModifiers.setPage,
    setPerPage: queryModifiers.setPerPage,
    setSort: queryModifiers.setSort,
    showFilter: queryModifiers.showFilter,
    total,
    hasNextPage: pageInfo ? pageInfo.hasNextPage : total != null ? query.page * query.perPage < total : void 0,
    hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : query.page > 1
  };
};
var defaultSort3 = {
  field: "id",
  order: SORT_ASC
};
var injectedProps = [
  "sort",
  "data",
  "defaultTitle",
  "displayedFilters",
  "error",
  "exporter",
  "filterValues",
  "hasNextPage",
  "hasPreviousPage",
  "hideFilter",
  "isFetching",
  "isLoading",
  "isPending",
  "onSelect",
  "onToggleItem",
  "onUnselectItems",
  "page",
  "perPage",
  "refetch",
  "refresh",
  "resource",
  "selectedIds",
  "setFilters",
  "setPage",
  "setPerPage",
  "setSort",
  "showFilter",
  "total",
  "totalPages"
];
var getListControllerProps = function(props) {
  return injectedProps.reduce(function(acc, key) {
    var _a;
    return __assign27(__assign27({}, acc), (_a = {}, _a[key] = props[key], _a));
  }, {});
};
var sanitizeListRestProps = function(props) {
  return Object.keys(props).filter(function(propName) {
    return !injectedProps.includes(propName);
  }).reduce(function(acc, key) {
    var _a;
    return __assign27(__assign27({}, acc), (_a = {}, _a[key] = props[key], _a));
  }, {});
};

// node_modules/ra-core/dist/esm/controller/list/ListBase.js
var __rest25 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var ListBase = function(_a) {
  var children = _a.children, props = __rest25(_a, ["children"]);
  return React23.createElement(
    ResourceContextProvider,
    { value: props.resource },
    React23.createElement(ListContextProvider, { value: useListController(props) }, children)
  );
};

// node_modules/ra-core/dist/esm/controller/list/ListController.js
var __rest26 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var ListController = function(_a) {
  var children = _a.children, props = __rest26(_a, ["children"]);
  var controllerProps = useListController(props);
  return children(controllerProps);
};

// node_modules/ra-core/dist/esm/controller/list/useExpanded.js
var import_react74 = __toESM(require_react());
var __spreadArray16 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useExpanded = function(resource, id, single) {
  if (single === void 0) {
    single = false;
  }
  var _a = useStore("".concat(resource, ".datagrid.expanded"), []), expandedIds = _a[0], setExpandedIds = _a[1];
  var expanded = Array.isArray(expandedIds) ? (
    // eslint-disable-next-line eqeqeq
    expandedIds.map(function(el) {
      return el == id;
    }).indexOf(true) !== -1
  ) : false;
  var toggleExpanded = (0, import_react74.useCallback)(function() {
    setExpandedIds(function(ids) {
      if (!Array.isArray(ids)) {
        return [id];
      }
      var index = ids.findIndex(function(el) {
        return el == id;
      });
      return index > -1 ? single ? [] : __spreadArray16(__spreadArray16([], ids.slice(0, index), true), ids.slice(index + 1), true) : single ? [id] : __spreadArray16(__spreadArray16([], ids, true), [id], false);
    });
  }, [setExpandedIds, id, single]);
  return [expanded, toggleExpanded];
};
var useExpandAll = function(resource, ids) {
  var _a = useStore("".concat(resource, ".datagrid.expanded"), []), expandedIds = _a[0], setExpandedIds = _a[1];
  var isExpanded = Array.isArray(expandedIds) ? (
    // eslint-disable-next-line eqeqeq
    expandedIds.some(function(id) {
      return ids.some(function(id2) {
        return id2 == id;
      });
    })
  ) : false;
  var toggleExpandedAll = (0, import_react74.useCallback)(function() {
    var unaffectedExpandedIds = expandedIds.filter(
      // eslint-disable-next-line eqeqeq
      function(expanded_id) {
        return !ids.some(function(id) {
          return id == expanded_id;
        });
      }
    );
    setExpandedIds(isExpanded ? unaffectedExpandedIds : unaffectedExpandedIds.concat(ids));
  }, [expandedIds, setExpandedIds, isExpanded, ids]);
  return [isExpanded, toggleExpandedAll];
};

// node_modules/ra-core/dist/esm/controller/list/useInfinitePaginationContext.js
var import_react75 = __toESM(require_react());
var useInfinitePaginationContext = function() {
  return (0, import_react75.useContext)(InfinitePaginationContext);
};

// node_modules/ra-core/dist/esm/controller/list/useList.js
var import_react76 = __toESM(require_react());
var import_get4 = __toESM(require_get());
var import_isEqual3 = __toESM(require_isEqual());
var __assign28 = function() {
  __assign28 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign28.apply(this, arguments);
};
var __rest27 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var refetch = function() {
  throw new Error("refetch is not available for a ListContext built from useList based on local data");
};
var useList = function(props) {
  var _a;
  var data = props.data, error = props.error, _b = props.filter, filter = _b === void 0 ? defaultFilter2 : _b, _c = props.isFetching, isFetching = _c === void 0 ? false : _c, _d = props.isLoading, isLoading = _d === void 0 ? false : _d, _e = props.isPending, isPending = _e === void 0 ? false : _e, _f = props.page, initialPage = _f === void 0 ? 1 : _f, _g = props.perPage, initialPerPage = _g === void 0 ? 1e3 : _g, initialSort = props.sort, _h = props.filterCallback, filterCallback = _h === void 0 ? function(record) {
    return Boolean(record);
  } : _h;
  var resource = useResourceContext(props);
  var _j = useSafeSetState(isFetching), fetchingState = _j[0], setFetchingState = _j[1];
  var _k = useSafeSetState(isLoading), loadingState = _k[0], setLoadingState = _k[1];
  var _l = useSafeSetState(isPending), pendingState = _l[0], setPendingState = _l[1];
  var _m = useSafeSetState(function() {
    return {
      data,
      total: data ? data.length : void 0
    };
  }), finalItems = _m[0], setFinalItems = _m[1];
  var _o = usePaginationState_default({
    page: initialPage,
    perPage: initialPerPage
  }), page = _o.page, setPage = _o.setPage, perPage = _o.perPage, setPerPage = _o.setPerPage;
  var _p = useSortState_default(initialSort), sort = _p.sort, setSortState = _p.setSort;
  var setSort = (0, import_react76.useCallback)(function(sort2) {
    setSortState(sort2);
    setPage(1);
  }, [setPage, setSortState]);
  var _q = useRecordSelection(resource ? {
    resource
  } : { disableSyncWithStore: true }), selectedIds = _q[0], selectionModifiers = _q[1];
  var filterRef = (0, import_react76.useRef)(filter);
  var _r = useSafeSetState({}), displayedFilters = _r[0], setDisplayedFilters = _r[1];
  var _s = useSafeSetState(filter), filterValues = _s[0], setFilterValues = _s[1];
  var hideFilter = (0, import_react76.useCallback)(function(filterName) {
    setDisplayedFilters(function(previousState) {
      var _a2 = previousState, _b2 = filterName, _ = _a2[_b2], newState = __rest27(_a2, [typeof _b2 === "symbol" ? _b2 : _b2 + ""]);
      return newState;
    });
    setFilterValues(function(previousState) {
      var _a2 = previousState, _b2 = filterName, _ = _a2[_b2], newState = __rest27(_a2, [typeof _b2 === "symbol" ? _b2 : _b2 + ""]);
      return newState;
    });
  }, [setDisplayedFilters, setFilterValues]);
  var showFilter = (0, import_react76.useCallback)(function(filterName, defaultValue) {
    setDisplayedFilters(function(previousState) {
      var _a2;
      return __assign28(__assign28({}, previousState), (_a2 = {}, _a2[filterName] = true, _a2));
    });
    setFilterValues(function(previousState) {
      var _a2;
      return removeEmpty_default(__assign28(__assign28({}, previousState), (_a2 = {}, _a2[filterName] = defaultValue, _a2)));
    });
  }, [setDisplayedFilters, setFilterValues]);
  var setFilters = (0, import_react76.useCallback)(function(filters, displayedFilters2) {
    if (displayedFilters2 === void 0) {
      displayedFilters2 = void 0;
    }
    setFilterValues(removeEmpty_default(filters));
    if (displayedFilters2) {
      setDisplayedFilters(displayedFilters2);
    }
    setPage(1);
  }, [setDisplayedFilters, setFilterValues, setPage]);
  (0, import_react76.useEffect)(function() {
    if (!(0, import_isEqual3.default)(filter, filterRef.current)) {
      filterRef.current = filter;
      setFilterValues(filter);
    }
  });
  (0, import_react76.useEffect)(
    function() {
      if (isLoading || !data)
        return;
      var tempData = data;
      if (filterValues) {
        var flattenFilterValues_1 = flattenObject(filterValues);
        tempData = data.filter(function(record) {
          return Object.entries(flattenFilterValues_1).every(function(_a2) {
            var filterName = _a2[0], filterValue = _a2[1];
            var recordValue = (0, import_get4.default)(record, filterName);
            var result = Array.isArray(recordValue) ? Array.isArray(filterValue) ? recordValue.some(function(item) {
              return filterValue.includes(item);
            }) : recordValue.includes(filterValue) : Array.isArray(filterValue) ? filterValue.includes(recordValue) : filterName === "q" ? Object.keys(record).some(function(key) {
              return typeof record[key] === "string" && record[key].toLowerCase().includes(filterValue.toLowerCase());
            }) : filterValue == recordValue;
            return result;
          });
        }).filter(filterCallback);
      }
      var filteredLength = tempData.length;
      if (sort.field) {
        tempData = tempData.sort(function(a, b) {
          if ((0, import_get4.default)(a, sort.field) > (0, import_get4.default)(b, sort.field)) {
            return sort.order === "ASC" ? 1 : -1;
          }
          if ((0, import_get4.default)(a, sort.field) < (0, import_get4.default)(b, sort.field)) {
            return sort.order === "ASC" ? -1 : 1;
          }
          return 0;
        });
      }
      tempData = tempData.slice((page - 1) * perPage, page * perPage);
      setFinalItems({
        data: tempData,
        total: filteredLength
      });
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [
      // eslint-disable-next-line react-hooks/exhaustive-deps
      JSON.stringify(data),
      filterValues,
      isLoading,
      page,
      perPage,
      setFinalItems,
      sort.field,
      sort.order
    ]
  );
  (0, import_react76.useEffect)(function() {
    if (isFetching !== fetchingState) {
      setFetchingState(isFetching);
    }
  }, [isFetching, fetchingState, setFetchingState]);
  (0, import_react76.useEffect)(function() {
    if (isLoading !== loadingState) {
      setLoadingState(isLoading);
    }
  }, [isLoading, loadingState, setLoadingState]);
  (0, import_react76.useEffect)(function() {
    if (isPending !== pendingState) {
      setPendingState(isPending);
    }
  }, [isPending, pendingState, setPendingState]);
  return {
    sort,
    data: pendingState ? void 0 : (_a = finalItems === null || finalItems === void 0 ? void 0 : finalItems.data) !== null && _a !== void 0 ? _a : [],
    defaultTitle: "",
    error: error !== null && error !== void 0 ? error : null,
    displayedFilters,
    filterValues,
    hasNextPage: (finalItems === null || finalItems === void 0 ? void 0 : finalItems.total) == null ? false : page * perPage < finalItems.total,
    hasPreviousPage: page > 1,
    hideFilter,
    isFetching: fetchingState,
    isLoading: loadingState,
    isPending: pendingState,
    onSelect: selectionModifiers.select,
    onToggleItem: selectionModifiers.toggle,
    onUnselectItems: selectionModifiers.clearSelection,
    page,
    perPage,
    resource: "",
    refetch,
    selectedIds,
    setFilters,
    setPage,
    setPerPage,
    setSort,
    showFilter,
    total: finalItems === null || finalItems === void 0 ? void 0 : finalItems.total
  };
};
var defaultFilter2 = {};

// node_modules/ra-core/dist/esm/controller/list/useListContext.js
var import_react77 = __toESM(require_react());
var useListContext = function() {
  var context = (0, import_react77.useContext)(ListContext);
  if (!context) {
    throw new Error("useListContext must be used inside a ListContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/controller/list/useListContextWithProps.js
var import_react78 = __toESM(require_react());
var import_defaults = __toESM(require_defaults());
var useListContextWithProps = function(props) {
  var context = (0, import_react78.useContext)(ListContext);
  return (0, import_react78.useMemo)(function() {
    return (0, import_defaults.default)({}, props != null ? extractListContextProps(props) : {}, context);
  }, [context, props]);
};
var extractListContextProps = function(_a) {
  var sort = _a.sort, data = _a.data, defaultTitle = _a.defaultTitle, displayedFilters = _a.displayedFilters, exporter = _a.exporter, filterValues = _a.filterValues, hasCreate = _a.hasCreate, hideFilter = _a.hideFilter, isFetching = _a.isFetching, isLoading = _a.isLoading, isPending = _a.isPending, onSelect = _a.onSelect, onToggleItem = _a.onToggleItem, onUnselectItems = _a.onUnselectItems, page = _a.page, perPage = _a.perPage, refetch2 = _a.refetch, resource = _a.resource, selectedIds = _a.selectedIds, setFilters = _a.setFilters, setPage = _a.setPage, setPerPage = _a.setPerPage, setSort = _a.setSort, showFilter = _a.showFilter, total = _a.total;
  return {
    sort,
    data,
    defaultTitle,
    displayedFilters,
    exporter,
    filterValues,
    hasCreate,
    hideFilter,
    isFetching,
    isLoading,
    isPending,
    onSelect,
    onToggleItem,
    onUnselectItems,
    page,
    perPage,
    refetch: refetch2,
    resource,
    selectedIds,
    setFilters,
    setPage,
    setPerPage,
    setSort,
    showFilter,
    total
  };
};

// node_modules/ra-core/dist/esm/controller/list/useListFilterContext.js
var import_react79 = __toESM(require_react());
var useListFilterContext = function() {
  var context = (0, import_react79.useContext)(ListFilterContext);
  if (!context) {
    throw new Error("useListFilterContext must be used inside a ListFilterContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/controller/list/useListPaginationContext.js
var import_react80 = __toESM(require_react());
var useListPaginationContext = function() {
  var context = (0, import_react80.useContext)(ListPaginationContext);
  if (!context) {
    throw new Error("useListPaginationContext must be used inside a ListPaginationContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/controller/list/useListSortContext.js
var import_react81 = __toESM(require_react());
var useListSortContext = function() {
  var context = (0, import_react81.useContext)(ListSortContext);
  if (!context) {
    throw new Error("useListSortContext must be used inside a ListSortContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/controller/list/useUnselect.js
var import_react82 = __toESM(require_react());
var useUnselect = function(resource) {
  var _a = useRecordSelection(resource ? { resource } : { disableSyncWithStore: true }), unselect = _a[1].unselect;
  return (0, import_react82.useCallback)(function(ids) {
    unselect(ids);
  }, [unselect]);
};

// node_modules/ra-core/dist/esm/controller/list/useUnselectAll.js
var import_react83 = __toESM(require_react());
var useUnselectAll = function(resource) {
  var _a = useRecordSelection(resource ? { resource } : { disableSyncWithStore: true }), clearSelection = _a[1].clearSelection;
  return (0, import_react83.useCallback)(function() {
    clearSelection();
  }, [clearSelection]);
};

// node_modules/ra-core/dist/esm/controller/list/WithListContext.js
var WithListContext = function(_a) {
  var render = _a.render;
  return render(useListContext()) || null;
};

// node_modules/ra-core/dist/esm/controller/field/useReferenceArrayFieldController.js
var __assign29 = function() {
  __assign29 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign29.apply(this, arguments);
};
var __rest28 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var emptyArray = [];
var defaultFilter3 = {};
var useReferenceArrayFieldController = function(props) {
  var _a = props.filter, filter = _a === void 0 ? defaultFilter3 : _a, _b = props.page, page = _b === void 0 ? 1 : _b, _c = props.perPage, perPage = _c === void 0 ? 1e3 : _c, record = props.record, reference = props.reference, sort = props.sort, source = props.source, _d = props.queryOptions, queryOptions = _d === void 0 ? {} : _d;
  var notify = useNotify();
  var value = (0, import_get5.default)(record, source);
  var meta = queryOptions.meta, otherQueryOptions = __rest28(queryOptions, ["meta"]);
  var ids = Array.isArray(value) ? value : emptyArray;
  var _e = useGetManyAggregate(reference, { ids, meta }, __assign29({ onError: function(error2) {
    return notify(typeof error2 === "string" ? error2 : error2.message || "ra.notification.http_error", {
      type: "error",
      messageArgs: {
        _: typeof error2 === "string" ? error2 : error2 && error2.message ? error2.message : void 0
      }
    });
  } }, otherQueryOptions)), data = _e.data, error = _e.error, isLoading = _e.isLoading, isFetching = _e.isFetching, isPending = _e.isPending, refetch2 = _e.refetch;
  var listProps = useList({
    data,
    error,
    filter,
    isFetching,
    isLoading,
    isPending,
    page,
    perPage,
    sort
  });
  return __assign29(__assign29({}, listProps), { defaultTitle: void 0, refetch: refetch2, resource: reference });
};

// node_modules/ra-core/dist/esm/controller/field/useReferenceManyFieldController.js
var import_react84 = __toESM(require_react());
var import_get6 = __toESM(require_get());
var import_isEqual4 = __toESM(require_isEqual());
var import_debounce4 = __toESM(require_debounce());
var __assign30 = function() {
  __assign30 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign30.apply(this, arguments);
};
var __rest29 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var defaultFilter4 = {};
var useReferenceManyFieldController = function(props) {
  var _a = props.debounce, debounce4 = _a === void 0 ? 500 : _a, reference = props.reference, record = props.record, target = props.target, _b = props.filter, filter = _b === void 0 ? defaultFilter4 : _b, _c = props.source, source = _c === void 0 ? "id" : _c, initialPage = props.page, initialPerPage = props.perPage, _d = props.sort, initialSort = _d === void 0 ? { field: "id", order: "DESC" } : _d, _e = props.queryOptions, queryOptions = _e === void 0 ? {} : _e;
  var notify = useNotify();
  var resource = useResourceContext(props);
  var meta = queryOptions.meta, otherQueryOptions = __rest29(queryOptions, ["meta"]);
  var _f = usePaginationState_default({
    page: initialPage,
    perPage: initialPerPage
  }), page = _f.page, setPage = _f.setPage, perPage = _f.perPage, setPerPage = _f.setPerPage;
  var _g = useSortState_default(initialSort), sort = _g.sort, setSortState = _g.setSort;
  var setSort = (0, import_react84.useCallback)(function(sort2) {
    setSortState(sort2);
    setPage(1);
  }, [setPage, setSortState]);
  var _h = useRecordSelection({
    resource: "".concat(resource, ".").concat(record === null || record === void 0 ? void 0 : record.id, ".").concat(reference)
  }), selectedIds = _h[0], selectionModifiers = _h[1];
  var filterRef = (0, import_react84.useRef)(filter);
  var _j = useSafeSetState({}), displayedFilters = _j[0], setDisplayedFilters = _j[1];
  var _k = useSafeSetState(filter), filterValues = _k[0], setFilterValues = _k[1];
  var hideFilter = (0, import_react84.useCallback)(function(filterName) {
    setDisplayedFilters(function(previousState) {
      var _a2 = previousState, _b2 = filterName, _ = _a2[_b2], newState = __rest29(_a2, [typeof _b2 === "symbol" ? _b2 : _b2 + ""]);
      return newState;
    });
    setFilterValues(function(previousState) {
      var _a2 = previousState, _b2 = filterName, _ = _a2[_b2], newState = __rest29(_a2, [typeof _b2 === "symbol" ? _b2 : _b2 + ""]);
      return newState;
    });
  }, [setDisplayedFilters, setFilterValues]);
  var showFilter = (0, import_react84.useCallback)(function(filterName, defaultValue) {
    setDisplayedFilters(function(previousState) {
      var _a2;
      return __assign30(__assign30({}, previousState), (_a2 = {}, _a2[filterName] = true, _a2));
    });
    setFilterValues(function(previousState) {
      var _a2;
      return __assign30(__assign30({}, previousState), (_a2 = {}, _a2[filterName] = defaultValue, _a2));
    });
  }, [setDisplayedFilters, setFilterValues]);
  var debouncedSetFilters = (0, import_react84.useCallback)((0, import_debounce4.default)(function(filters, displayedFilters2) {
    setFilterValues(removeEmpty_default(filters));
    setDisplayedFilters(displayedFilters2);
    setPage(1);
  }, debounce4), [setDisplayedFilters, setFilterValues, setPage]);
  var setFilters = (0, import_react84.useCallback)(function(filters, displayedFilters2, debounce5) {
    if (debounce5 === void 0) {
      debounce5 = false;
    }
    if (debounce5) {
      debouncedSetFilters(filters, displayedFilters2);
    } else {
      setFilterValues(removeEmpty_default(filters));
      setDisplayedFilters(displayedFilters2);
      setPage(1);
    }
  }, [setDisplayedFilters, setFilterValues, setPage, debouncedSetFilters]);
  (0, import_react84.useEffect)(function() {
    if (!(0, import_isEqual4.default)(filter, filterRef.current)) {
      filterRef.current = filter;
      setFilterValues(filter);
    }
  });
  var _l = useGetManyReference(reference, {
    target,
    id: (0, import_get6.default)(record, source),
    pagination: { page, perPage },
    sort,
    filter: filterValues,
    meta
  }, __assign30({ enabled: (0, import_get6.default)(record, source) != null, placeholderData: function(previousData) {
    return previousData;
  }, onError: function(error2) {
    return notify(typeof error2 === "string" ? error2 : error2.message || "ra.notification.http_error", {
      type: "error",
      messageArgs: {
        _: typeof error2 === "string" ? error2 : error2 && error2.message ? error2.message : void 0
      }
    });
  } }, otherQueryOptions)), data = _l.data, total = _l.total, pageInfo = _l.pageInfo, error = _l.error, isFetching = _l.isFetching, isLoading = _l.isLoading, isPending = _l.isPending, refetch2 = _l.refetch;
  return {
    sort,
    data,
    defaultTitle: void 0,
    displayedFilters,
    error,
    filterValues,
    hideFilter,
    isFetching,
    isLoading,
    isPending,
    onSelect: selectionModifiers.select,
    onToggleItem: selectionModifiers.toggle,
    onUnselectItems: selectionModifiers.clearSelection,
    page,
    perPage,
    refetch: refetch2,
    resource: reference,
    selectedIds,
    setFilters,
    setPage,
    setPerPage,
    hasNextPage: pageInfo ? pageInfo.hasNextPage : total != null ? page * perPage < total : void 0,
    hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : page > 1,
    setSort,
    showFilter,
    total
  };
};

// node_modules/ra-core/dist/esm/controller/field/useReferenceOneFieldController.js
var import_get7 = __toESM(require_get());
var __assign31 = function() {
  __assign31 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign31.apply(this, arguments);
};
var __rest30 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useReferenceOneFieldController = function(props) {
  var reference = props.reference, record = props.record, target = props.target, _a = props.source, source = _a === void 0 ? "id" : _a, _b = props.sort, sort = _b === void 0 ? { field: "id", order: "ASC" } : _b, _c = props.filter, filter = _c === void 0 ? {} : _c, _d = props.queryOptions, queryOptions = _d === void 0 ? {} : _d;
  var notify = useNotify();
  var meta = queryOptions.meta, otherQueryOptions = __rest30(queryOptions, ["meta"]);
  var _e = useGetManyReference(reference, {
    target,
    id: (0, import_get7.default)(record, source),
    pagination: { page: 1, perPage: 1 },
    sort,
    filter,
    meta
  }, __assign31({ enabled: !!record, onError: function(error2) {
    return notify(typeof error2 === "string" ? error2 : error2.message || "ra.notification.http_error", {
      type: "error",
      messageArgs: {
        _: typeof error2 === "string" ? error2 : error2 && error2.message ? error2.message : void 0
      }
    });
  } }, otherQueryOptions)), data = _e.data, error = _e.error, isFetching = _e.isFetching, isLoading = _e.isLoading, isPending = _e.isPending, refetch2 = _e.refetch;
  return {
    referenceRecord: data ? data[0] : void 0,
    error,
    isFetching,
    isLoading,
    isPending,
    refetch: refetch2
  };
};

// node_modules/ra-core/dist/esm/controller/input/referenceDataStatus.js
var isMatchingReferencesError = function(matchingReferences) {
  return matchingReferences && matchingReferences.error !== void 0;
};
var getStatusForInput = function(_a) {
  var field = _a.field, matchingReferences = _a.matchingReferences, referenceRecord = _a.referenceRecord, _b = _a.translate, translate = _b === void 0 ? function(x) {
    return x;
  } : _b;
  var matchingReferencesError = isMatchingReferencesError(matchingReferences) ? translate(matchingReferences.error, {
    _: matchingReferences.error
  }) : null;
  var selectedReferenceError = field.value && !referenceRecord ? translate("ra.input.references.single_missing", {
    _: "ra.input.references.single_missing"
  }) : null;
  return {
    waiting: field.value && selectedReferenceError && !matchingReferences || !field.value && !matchingReferences,
    error: field.value && selectedReferenceError && matchingReferencesError || !field.value && matchingReferencesError ? field.value ? selectedReferenceError : matchingReferencesError : null,
    warning: selectedReferenceError || matchingReferencesError,
    choices: Array.isArray(matchingReferences) ? matchingReferences : [referenceRecord].filter(function(choice) {
      return choice;
    })
  };
};
var REFERENCES_STATUS_READY = "REFERENCES_STATUS_READY";
var REFERENCES_STATUS_INCOMPLETE = "REFERENCES_STATUS_INCOMPLETE";
var REFERENCES_STATUS_EMPTY = "REFERENCES_STATUS_EMPTY";
var getSelectedReferencesStatus = function(field, referenceRecords) {
  return !field.value || field.value.length === referenceRecords.length ? REFERENCES_STATUS_READY : referenceRecords.length > 0 ? REFERENCES_STATUS_INCOMPLETE : REFERENCES_STATUS_EMPTY;
};
var getStatusForArrayInput = function(_a) {
  var field = _a.field, matchingReferences = _a.matchingReferences, referenceRecords = _a.referenceRecords, _b = _a.translate, translate = _b === void 0 ? function(x) {
    return x;
  } : _b;
  var selectedReferencesDataStatus = getSelectedReferencesStatus(field, referenceRecords);
  var matchingReferencesError = isMatchingReferencesError(matchingReferences) ? translate(matchingReferences.error, {
    _: matchingReferences.error
  }) : null;
  var choices2 = Array.isArray(matchingReferences) ? referenceRecords.concat(matchingReferences.filter(function(choice) {
    return referenceRecords.findIndex(function(c) {
      return c.id === choice.id;
    }) === -1;
  })) : referenceRecords;
  return {
    waiting: !matchingReferences && field.value && selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY || !matchingReferences && !field.value,
    error: matchingReferencesError && (!field.value || field.value && selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ? translate("ra.input.references.all_missing", {
      _: "ra.input.references.all_missing"
    }) : null,
    warning: matchingReferencesError || field.value && selectedReferencesDataStatus !== REFERENCES_STATUS_READY ? matchingReferencesError || translate("ra.input.references.many_missing", {
      _: "ra.input.references.many_missing"
    }) : null,
    choices: choices2
  };
};

// node_modules/ra-core/dist/esm/controller/input/useReferenceArrayInputController.js
var import_react86 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/input/useReferenceParams.js
var import_react85 = __toESM(require_react());
var import_debounce5 = __toESM(require_debounce());
var __assign32 = function() {
  __assign32 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign32.apply(this, arguments);
};
var useReferenceParams = function(_a) {
  var resource = _a.resource, filter = _a.filter, _b = _a.sort, sort = _b === void 0 ? defaultSort4 : _b, _c = _a.page, page = _c === void 0 ? 1 : _c, _d = _a.perPage, perPage = _d === void 0 ? 10 : _d, _e = _a.debounce, debounce4 = _e === void 0 ? 500 : _e;
  var _f = (0, import_react85.useState)(defaultParams2), params = _f[0], setParams = _f[1];
  var tempParams = (0, import_react85.useRef)();
  var requestSignature = [
    resource,
    JSON.stringify(params),
    JSON.stringify(filter),
    JSON.stringify(sort),
    page,
    perPage
  ];
  var query = (0, import_react85.useMemo)(
    function() {
      return getQuery2({
        params,
        filterDefaultValues: filter,
        sort,
        page,
        perPage
      });
    },
    requestSignature
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  var changeParams = (0, import_react85.useCallback)(function(action) {
    if (!tempParams.current) {
      var newTempParams_1 = queryReducer(query, action);
      tempParams.current = newTempParams_1;
      setTimeout(function() {
        setParams(newTempParams_1);
        tempParams.current = void 0;
      }, 0);
    } else {
      tempParams.current = queryReducer(tempParams.current, action);
    }
  }, requestSignature);
  var setSort = (0, import_react85.useCallback)(
    function(sort2) {
      return changeParams({
        type: SET_SORT,
        payload: sort2
      });
    },
    requestSignature
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  var setPage = (0, import_react85.useCallback)(
    function(newPage) {
      return changeParams({ type: SET_PAGE, payload: newPage });
    },
    requestSignature
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  var setPerPage = (0, import_react85.useCallback)(
    function(newPerPage) {
      return changeParams({ type: SET_PER_PAGE, payload: newPerPage });
    },
    requestSignature
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  var filterValues = query.filter || emptyObject2;
  var displayedFilterValues = query.displayedFilters || emptyObject2;
  var debouncedSetFilters = (0, import_react85.useRef)((0, import_debounce5.default)(function(filter2, displayedFilters) {
    if (displayedFilters === void 0) {
      displayedFilters = void 0;
    }
    changeParams({
      type: SET_FILTER,
      payload: {
        filter: removeEmpty_default(filter2),
        displayedFilters
      }
    });
  }, debounce4));
  (0, import_react85.useEffect)(function() {
    return function() {
      debouncedSetFilters.current.cancel();
    };
  }, []);
  var setFilters = (0, import_react85.useCallback)(
    function(filter2, displayedFilters, debounce5) {
      if (displayedFilters === void 0) {
        displayedFilters = void 0;
      }
      if (debounce5 === void 0) {
        debounce5 = false;
      }
      debounce5 ? debouncedSetFilters.current(filter2, displayedFilters) : changeParams({
        type: SET_FILTER,
        payload: {
          filter: removeEmpty_default(filter2),
          displayedFilters
        }
      });
    },
    requestSignature
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  var hideFilter = (0, import_react85.useCallback)(function(filterName) {
    changeParams({
      type: HIDE_FILTER,
      payload: filterName
    });
  }, requestSignature);
  var showFilter = (0, import_react85.useCallback)(function(filterName, defaultValue) {
    changeParams({
      type: SHOW_FILTER,
      payload: {
        filterName,
        defaultValue
      }
    });
  }, requestSignature);
  return [
    __assign32(__assign32({ filterValues, requestSignature }, query), { displayedFilters: displayedFilterValues }),
    {
      changeParams,
      setPage,
      setPerPage,
      setSort,
      setFilters,
      hideFilter,
      showFilter
    }
  ];
};
var getQuery2 = function(_a) {
  var params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, page = _a.page, perPage = _a.perPage;
  var query = hasCustomParams2(params) ? __assign32({}, params) : { filter: filterDefaultValues || {} };
  if (!query.sort) {
    query.sort = sort.field;
    query.order = sort.order;
  }
  if (query.page == null) {
    query.page = page;
  }
  if (query.perPage == null) {
    query.perPage = perPage;
  }
  if (query.page == null) {
    query.page = 1;
  }
  return __assign32(__assign32({}, query), { page: getNumberOrDefault2(query.page, 1), perPage: getNumberOrDefault2(query.perPage, 10) });
};
var hasCustomParams2 = function(params) {
  return params && params.filter && (Object.keys(params.filter).length > 0 || params.order != null || params.page !== 1 || params.perPage != null || params.sort != null);
};
var getNumberOrDefault2 = function(possibleNumber, defaultValue) {
  if (typeof possibleNumber === "undefined") {
    return defaultValue;
  }
  var parsedNumber = typeof possibleNumber === "string" ? parseInt(possibleNumber, 10) : possibleNumber;
  return isNaN(parsedNumber) ? defaultValue : parsedNumber;
};
var emptyObject2 = {};
var defaultSort4 = {
  field: "id",
  order: SORT_ASC
};
var defaultParams2 = {};

// node_modules/ra-core/dist/esm/controller/input/useReferenceArrayInputController.js
var __assign33 = function() {
  __assign33 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign33.apply(this, arguments);
};
var __rest31 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var __spreadArray17 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useReferenceArrayInputController = function(props) {
  var _a;
  var debounce4 = props.debounce, enableGetChoices = props.enableGetChoices, filter = props.filter, _b = props.page, initialPage = _b === void 0 ? 1 : _b, _c = props.perPage, initialPerPage = _c === void 0 ? 25 : _c, _d = props.sort, initialSort = _d === void 0 ? { field: "id", order: "DESC" } : _d, _e = props.queryOptions, queryOptions = _e === void 0 ? {} : _e, reference = props.reference, source = props.source;
  var getValues2 = useFormContext().getValues;
  var finalSource = useWrappedSource(source);
  var value = (_a = useWatch({ name: finalSource })) !== null && _a !== void 0 ? _a : getValues2(finalSource);
  var meta = queryOptions.meta, otherQueryOptions = __rest31(queryOptions, ["meta"]);
  var _f = useGetManyAggregate(reference, {
    ids: value || EmptyArray,
    meta
  }, {
    enabled: value != null && value.length > 0
  }), referenceRecords = _f.data, errorGetMany = _f.error, isLoadingGetMany = _f.isLoading, isFetchingGetMany = _f.isFetching, isPendingGetMany = _f.isPending, refetchGetMany = _f.refetch;
  var _g = useReferenceParams({
    resource: reference,
    page: initialPage,
    perPage: initialPerPage,
    sort: initialSort,
    debounce: debounce4,
    filter
  }), params = _g[0], paramsModifiers = _g[1];
  var finalReferenceRecords = referenceRecords ? referenceRecords.filter(Boolean) : [];
  var isGetMatchingEnabled = enableGetChoices ? enableGetChoices(params.filterValues) : true;
  var _h = useGetList(reference, {
    pagination: {
      page: params.page,
      perPage: params.perPage
    },
    sort: { field: params.sort, order: params.order },
    filter: __assign33(__assign33({}, params.filter), filter),
    meta
  }, __assign33({ retry: false, enabled: isGetMatchingEnabled, placeholderData: function(previousData) {
    return previousData;
  } }, otherQueryOptions)), matchingReferences = _h.data, total = _h.total, pageInfo = _h.pageInfo, errorGetList = _h.error, isLoadingGetList = _h.isLoading, isFetchingGetList = _h.isFetching, isPendingGetList = _h.isPending, refetchGetMatching = _h.refetch;
  var finalMatchingReferences = matchingReferences && matchingReferences.length > 0 ? mergeReferences(matchingReferences, finalReferenceRecords) : finalReferenceRecords.length > 0 ? finalReferenceRecords : matchingReferences;
  var refetch2 = (0, import_react86.useCallback)(function() {
    refetchGetMany();
    refetchGetMatching();
  }, [refetchGetMany, refetchGetMatching]);
  var currentSort = (0, import_react86.useMemo)(function() {
    return {
      field: params.sort,
      order: params.order
    };
  }, [params.sort, params.order]);
  return {
    sort: currentSort,
    allChoices: finalMatchingReferences,
    availableChoices: matchingReferences,
    selectedChoices: finalReferenceRecords,
    displayedFilters: params.displayedFilters,
    error: errorGetMany || errorGetList,
    filter,
    filterValues: params.filterValues,
    hideFilter: paramsModifiers.hideFilter,
    isFetching: isFetchingGetMany || isFetchingGetList,
    isLoading: isLoadingGetMany || isLoadingGetList,
    isPending: isPendingGetMany || isPendingGetList,
    page: params.page,
    perPage: params.perPage,
    refetch: refetch2,
    resource: reference,
    setFilters: paramsModifiers.setFilters,
    setPage: paramsModifiers.setPage,
    setPerPage: paramsModifiers.setPerPage,
    setSort: paramsModifiers.setSort,
    showFilter: paramsModifiers.showFilter,
    // we return source and not finalSource because child inputs (e.g. AutocompleteArrayInput) already call useInput and compute the final source
    source,
    total,
    hasNextPage: pageInfo ? pageInfo.hasNextPage : total != null ? params.page * params.perPage < total : void 0,
    hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : params.page > 1,
    isFromReference: true
  };
};
var EmptyArray = [];
var mergeReferences = function(ref1, ref2) {
  var res = __spreadArray17([], ref1, true);
  var ids = ref1.map(function(ref) {
    return ref.id;
  });
  ref2.forEach(function(ref) {
    if (!ids.includes(ref.id)) {
      ids.push(ref.id);
      res.push(ref);
    }
  });
  return res;
};

// node_modules/ra-core/dist/esm/controller/input/useReferenceInputController.js
var import_react87 = __toESM(require_react());
var __assign34 = function() {
  __assign34 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign34.apply(this, arguments);
};
var __rest32 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var __spreadArray18 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useReferenceInputController = function(props) {
  var debounce4 = props.debounce, enableGetChoices = props.enableGetChoices, filter = props.filter, _a = props.page, initialPage = _a === void 0 ? 1 : _a, _b = props.perPage, initialPerPage = _b === void 0 ? 25 : _b, initialSort = props.sort, _c = props.queryOptions, queryOptions = _c === void 0 ? {} : _c, reference = props.reference, source = props.source;
  var meta = queryOptions.meta, otherQueryOptions = __rest32(queryOptions, ["meta"]);
  var _d = useReferenceParams({
    resource: reference,
    page: initialPage,
    perPage: initialPerPage,
    sort: initialSort,
    debounce: debounce4,
    filter
  }), params = _d[0], paramsModifiers = _d[1];
  var finalSource = useWrappedSource(source);
  var currentValue = useWatch({ name: finalSource });
  var isGetMatchingEnabled = enableGetChoices ? enableGetChoices(params.filterValues) : true;
  var _e = useGetList(reference, {
    pagination: {
      page: params.page,
      perPage: params.perPage
    },
    sort: { field: params.sort, order: params.order },
    filter: __assign34(__assign34({}, params.filter), filter),
    meta
  }, __assign34({ enabled: isGetMatchingEnabled, placeholderData: function(previousData) {
    return previousData;
  } }, otherQueryOptions)), _f = _e.data, possibleValuesData = _f === void 0 ? [] : _f, total = _e.total, pageInfo = _e.pageInfo, isFetchingPossibleValues = _e.isFetching, isLoadingPossibleValues = _e.isLoading, isPendingPossibleValues = _e.isPending, errorPossibleValues = _e.error, refetchGetList = _e.refetch;
  var _g = useReference({
    id: currentValue,
    reference,
    // @ts-ignore the types of the queryOptions for the getMAny and getList are not compatible
    options: __assign34({ enabled: currentValue != null && currentValue !== "", meta }, otherQueryOptions)
  }), currentReferenceRecord = _g.referenceRecord, refetchReference = _g.refetch, errorReference = _g.error, isLoadingReference = _g.isLoading, isFetchingReference = _g.isFetching, isPendingReference = _g.isPending;
  var isPending = (
    // The reference query isn't enabled when there is no value yet but as it has no data, react-query will flag it as pending
    currentValue != null && currentValue !== "" && isPendingReference || isPendingPossibleValues
  );
  var _h = (0, import_react87.useState)(void 0), referenceRecord = _h[0], setReferenceRecord = _h[1];
  (0, import_react87.useEffect)(function() {
    setReferenceRecord(currentReferenceRecord);
  }, [currentReferenceRecord]);
  var finalData, finalTotal;
  if (!referenceRecord || possibleValuesData.find(function(record) {
    return record.id === referenceRecord.id;
  })) {
    finalData = possibleValuesData;
    finalTotal = total;
  } else {
    finalData = __spreadArray18([referenceRecord], possibleValuesData, true);
    finalTotal = total == null ? void 0 : total + 1;
  }
  var refetch2 = (0, import_react87.useCallback)(function() {
    refetchGetList();
    refetchReference();
  }, [refetchGetList, refetchReference]);
  var currentSort = (0, import_react87.useMemo)(function() {
    return {
      field: params.sort,
      order: params.order
    };
  }, [params.sort, params.order]);
  return {
    sort: currentSort,
    allChoices: finalData,
    availableChoices: possibleValuesData,
    selectedChoices: referenceRecord ? [referenceRecord] : [],
    displayedFilters: params.displayedFilters,
    error: errorReference || errorPossibleValues,
    filter: params.filter,
    filterValues: params.filterValues,
    hideFilter: paramsModifiers.hideFilter,
    isFetching: isFetchingReference || isFetchingPossibleValues,
    isLoading: isLoadingReference || isLoadingPossibleValues,
    isPending,
    page: params.page,
    perPage: params.perPage,
    refetch: refetch2,
    resource: reference,
    setFilters: paramsModifiers.setFilters,
    setPage: paramsModifiers.setPage,
    setPerPage: paramsModifiers.setPerPage,
    setSort: paramsModifiers.setSort,
    showFilter: paramsModifiers.showFilter,
    // we return source and not finalSource because child inputs (e.g. AutocompleteInput) already call useInput and compute the final source
    source,
    total: finalTotal,
    hasNextPage: pageInfo ? pageInfo.hasNextPage : total != null ? params.page * params.perPage < total : void 0,
    hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : params.page > 1,
    isFromReference: true
  };
};

// node_modules/ra-core/dist/esm/controller/input/ReferenceInputBase.js
var import_react106 = __toESM(require_react());

// node_modules/ra-core/dist/esm/form/FormDataConsumer.js
var React24 = __toESM(require_react());
var import_get8 = __toESM(require_get());

// node_modules/ra-core/dist/esm/form/useFormValues.js
var __assign35 = function() {
  __assign35 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign35.apply(this, arguments);
};
var useFormValues = function() {
  var getValues2 = useFormContext().getValues;
  return __assign35(__assign35({}, useWatch()), getValues2());
};

// node_modules/ra-core/dist/esm/form/FormDataConsumer.js
var __assign36 = function() {
  __assign36 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign36.apply(this, arguments);
};
var FormDataConsumer = function(props) {
  var form = useFormContext();
  var isDirty = form.formState.isDirty;
  var formData = useFormValues();
  return React24.createElement(FormDataConsumerView, __assign36({ formData }, props));
};
var FormDataConsumerView = function(props) {
  var children = props.children, formData = props.formData, source = props.source;
  var ret;
  var finalSource = useWrappedSource(source || "");
  var matches = ArraySourceRegex.exec(finalSource);
  if (matches) {
    var scopedFormData = (0, import_get8.default)(formData, matches[0]);
    ret = children({ formData, scopedFormData });
  } else {
    ret = children({ formData });
  }
  return ret === void 0 ? null : ret;
};
var FormDataConsumer_default = FormDataConsumer;
var ArraySourceRegex = new RegExp(/.+\.\d+$/);

// node_modules/ra-core/dist/esm/form/FormGroupsContext.js
var import_react88 = __toESM(require_react());
var FormGroupsContext = (0, import_react88.createContext)(void 0);

// node_modules/ra-core/dist/esm/form/ValidationError.js
var React25 = __toESM(require_react());
var __assign37 = function() {
  __assign37 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign37.apply(this, arguments);
};
var ValidationErrorSpecialFormatPrefix = "@@react-admin@@";
var ValidationError = function(props) {
  var error = props.error;
  var errorMessage = error;
  var translate = useTranslate();
  if (typeof error === "string" && error.startsWith(ValidationErrorSpecialFormatPrefix)) {
    errorMessage = JSON.parse(error.substring(ValidationErrorSpecialFormatPrefix.length));
  }
  if (errorMessage.message) {
    var _a = errorMessage, message = _a.message, args = _a.args;
    return React25.createElement(React25.Fragment, null, translate(message, __assign37({ _: message }, args)));
  }
  return React25.createElement(React25.Fragment, null, translate(errorMessage, { _: errorMessage }));
};
var ValidationError_default = ValidationError;

// node_modules/ra-core/dist/esm/form/getSimpleValidationResolver.js
var __assign38 = function() {
  __assign38 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign38.apply(this, arguments);
};
var __awaiter10 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator10 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var getSimpleValidationResolver = function(validate) {
  return function(data) {
    return __awaiter10(void 0, void 0, void 0, function() {
      var errors, transformedErrors;
      return __generator10(this, function(_a) {
        switch (_a.label) {
          case 0:
            return [4, validate(data)];
          case 1:
            errors = _a.sent();
            if (!errors || isEmptyObject(errors)) {
              return [2, { values: data, errors: {} }];
            }
            transformedErrors = transformErrorFields(errors);
            if (!transformedErrors || isEmptyObject(transformedErrors)) {
              return [2, { values: data, errors: {} }];
            }
            return [2, {
              values: {},
              errors: transformedErrors
            }];
        }
      });
    });
  };
};
var transformErrorFields = function(error) {
  return Object.keys(error).reduce(function(acc, field) {
    var _a, _b, _c;
    if (Array.isArray(error[field])) {
      var arrayHasErrors_1 = false;
      var transformedArrayErrors = error[field].map(function(item) {
        if (!isEmptyObject(item)) {
          arrayHasErrors_1 = true;
        }
        return transformErrorFields(item);
      });
      if (!arrayHasErrors_1) {
        return acc;
      }
      return __assign38(__assign38({}, acc), (_a = {}, _a[field] = transformedArrayErrors, _a));
    }
    if (isEmptyObject(error[field])) {
      return acc;
    }
    if (typeof error[field] === "object" && !isRaTranslationObj(error[field])) {
      return __assign38(__assign38({}, acc), (_b = {}, _b[field] = transformErrorFields(error[field]), _b));
    }
    return __assign38(__assign38({}, acc), (_c = {}, _c[field] = addTypeAndMessage(error[field]), _c));
  }, {});
};
var addTypeAndMessage = function(error) {
  return {
    type: "manual",
    message: isRaTranslationObj(error) ? error : { message: error }
  };
};
var isRaTranslationObj = function(obj) {
  return Object.keys(obj).includes("message") && Object.keys(obj).includes("args");
};
var isEmptyObject = function(obj) {
  return Object.getOwnPropertyNames(obj).length === 0;
};

// node_modules/ra-core/dist/esm/form/choices/ChoicesContext.js
var import_react89 = __toESM(require_react());
var ChoicesContext = (0, import_react89.createContext)(void 0);

// node_modules/ra-core/dist/esm/form/choices/ChoicesContextProvider.js
var React26 = __toESM(require_react());
var ChoicesContextProvider = function(_a) {
  var children = _a.children, value = _a.value;
  return React26.createElement(ChoicesContext.Provider, { value }, children);
};

// node_modules/ra-core/dist/esm/form/choices/useChoicesContext.js
var import_react90 = __toESM(require_react());
var __rest33 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useChoicesContext = function(options) {
  var _a, _b, _c;
  if (options === void 0) {
    options = {};
  }
  var context = (0, import_react90.useContext)(ChoicesContext);
  var choices2 = options.choices && isArrayOfStrings(options.choices) ? convertOptionsToChoices(options.choices) : options.choices;
  var _d = useList({
    data: choices2,
    isLoading: (_a = options.isLoading) !== null && _a !== void 0 ? _a : false,
    isPending: (_b = options.isPending) !== null && _b !== void 0 ? _b : false,
    isFetching: (_c = options.isFetching) !== null && _c !== void 0 ? _c : false,
    error: options.error,
    // When not in a ChoicesContext, paginating does not make sense (e.g. AutocompleteInput).
    perPage: Infinity
  }), data = _d.data, list = __rest33(_d, ["data"]);
  var result = (0, import_react90.useMemo)(function() {
    var _a2, _b2, _c2, _d2, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;
    if (options.choices || !context) {
      return {
        allChoices: data,
        availableChoices: (_a2 = options.availableChoices) !== null && _a2 !== void 0 ? _a2 : data,
        selectedChoices: (_b2 = options.selectedChoices) !== null && _b2 !== void 0 ? _b2 : data,
        displayedFilters: (_c2 = options.selectedChoices) !== null && _c2 !== void 0 ? _c2 : list.displayedFilters,
        error: options.error,
        filter: (_d2 = options.filter) !== null && _d2 !== void 0 ? _d2 : list.filter,
        filterValues: (_e = options.filterValues) !== null && _e !== void 0 ? _e : list.filterValues,
        hasNextPage: (_f = options.hasNextPage) !== null && _f !== void 0 ? _f : list.hasNextPage,
        hasPreviousPage: (_g = options.hasPreviousPage) !== null && _g !== void 0 ? _g : list.hasPreviousPage,
        hideFilter: (_h = options.hideFilter) !== null && _h !== void 0 ? _h : list.hideFilter,
        isLoading: (_j = list.isLoading) !== null && _j !== void 0 ? _j : false,
        isPending: (_k = list.isPending) !== null && _k !== void 0 ? _k : false,
        isFetching: (_l = list.isFetching) !== null && _l !== void 0 ? _l : false,
        page: (_m = options.page) !== null && _m !== void 0 ? _m : list.page,
        perPage: (_o = options.perPage) !== null && _o !== void 0 ? _o : list.perPage,
        refetch: (_p = options.refetch) !== null && _p !== void 0 ? _p : list.refetch,
        resource: (_q = options.resource) !== null && _q !== void 0 ? _q : list.resource,
        setFilters: (_r = options.setFilters) !== null && _r !== void 0 ? _r : list.setFilters,
        setPage: (_s = options.setPage) !== null && _s !== void 0 ? _s : list.setPage,
        setPerPage: (_t = options.setPerPage) !== null && _t !== void 0 ? _t : list.setPerPage,
        setSort: (_u = options.setSort) !== null && _u !== void 0 ? _u : list.setSort,
        showFilter: (_v = options.showFilter) !== null && _v !== void 0 ? _v : list.showFilter,
        sort: (_w = options.sort) !== null && _w !== void 0 ? _w : list.sort,
        source: options.source,
        total: (_x = options.total) !== null && _x !== void 0 ? _x : list.total,
        isFromReference: false
      };
    }
    return context;
  }, [context, data, list, options]);
  return result;
};
var isArrayOfStrings = function(choices2) {
  return Array.isArray(choices2) && choices2.every(function(choice) {
    return typeof choice === "string";
  });
};
var convertOptionsToChoices = function(options) {
  return options.map(function(choice) {
    return {
      id: choice,
      name: choice
    };
  });
};

// node_modules/ra-core/dist/esm/form/Form.js
var React28 = __toESM(require_react());
var import_react95 = __toESM(require_react());

// node_modules/ra-core/dist/esm/form/FormGroupsProvider.js
var React27 = __toESM(require_react());
var import_react91 = __toESM(require_react());
var __spreadArray19 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var FormGroupsProvider = function(_a) {
  var children = _a.children;
  var formGroups = (0, import_react91.useRef)({});
  var subscribers = (0, import_react91.useRef)({});
  var formContextValue = (0, import_react91.useMemo)(function() {
    return {
      /**
       * Register a subscriber function for the specified group. The subscriber
       * will be called whenever the group content changes (fields added or removed).
       */
      subscribe: function(group, subscriber) {
        if (!subscribers.current[group]) {
          subscribers.current[group] = [];
        }
        subscribers.current[group].push(subscriber);
        return function() {
          subscribers.current[group] = subscribers.current[group].filter(function(s) {
            return s !== subscriber;
          });
        };
      },
      getGroupFields: function(name) {
        return formGroups.current[name] || [];
      },
      registerGroup: function(name) {
        formGroups.current[name] = formGroups.current[name] || [];
      },
      unregisterGroup: function(name) {
        delete formGroups[name];
      },
      registerField: function(source, group) {
        if (group != null) {
          if (!(formGroups.current[group] || []).includes(source)) {
            formGroups.current[group] = __spreadArray19(__spreadArray19([], formGroups.current[group] || [], true), [
              source
            ], false);
            if (subscribers.current[group]) {
              subscribers.current[group].forEach(function(subscriber) {
                return subscriber();
              });
            }
          }
        }
      },
      unregisterField: function(source, group) {
        if (group != null) {
          if (!formGroups.current[group]) {
            console.warn("Invalid form group ".concat(group));
          } else {
            var fields = new Set(formGroups.current[group]);
            fields.delete(source);
            formGroups.current[group] = Array.from(fields);
            if (subscribers.current[group]) {
              subscribers.current[group].forEach(function(subscriber) {
                return subscriber();
              });
            }
          }
        }
      }
    };
  }, []);
  return React27.createElement(FormGroupsContext.Provider, { value: formContextValue }, children);
};

// node_modules/ra-core/dist/esm/form/useWarnWhenUnsavedChanges.js
var import_react92 = __toESM(require_react());
var useWarnWhenUnsavedChanges = function(enable, formRootPathname, control) {
  var translate = useTranslate();
  var _a = useFormState(control ? { control } : void 0), isSubmitSuccessful = _a.isSubmitSuccessful, dirtyFields = _a.dirtyFields;
  var isDirty = Object.keys(dirtyFields).length > 0;
  var _b = (0, import_react92.useState)(false), shouldNotify = _b[0], setShouldNotify = _b[1];
  var shouldNotBlock = !enable || !isDirty || isSubmitSuccessful;
  var blocker = useBlocker(function(_a2) {
    var currentLocation = _a2.currentLocation, nextLocation = _a2.nextLocation;
    if (shouldNotBlock)
      return false;
    var initialLocation = formRootPathname || currentLocation.pathname;
    var newLocationIsInsideCurrentLocation = nextLocation.pathname.startsWith(initialLocation);
    var newLocationIsShowView = nextLocation.pathname.startsWith("".concat(initialLocation, "/show"));
    var newLocationIsInsideForm = newLocationIsInsideCurrentLocation && !newLocationIsShowView;
    if (newLocationIsInsideForm)
      return false;
    return true;
  });
  (0, import_react92.useEffect)(function() {
    if (blocker.state === "blocked") {
      if (shouldNotBlock) {
        blocker.proceed();
        return;
      }
      setShouldNotify(true);
    }
  }, [blocker.state]);
  (0, import_react92.useEffect)(function() {
    if (shouldNotify) {
      var shouldProceed = window.confirm(translate("ra.message.unsaved_changes"));
      if (shouldProceed) {
        blocker.proceed && blocker.proceed();
      } else {
        blocker.reset && blocker.reset();
      }
    }
    setShouldNotify(false);
  }, [shouldNotify, translate]);
  (0, import_react92.useEffect)(function() {
    var beforeunload = function(e) {
      e.preventDefault();
      e.returnValue = true;
    };
    if (shouldNotBlock) {
      return;
    }
    window.addEventListener("beforeunload", beforeunload);
    return function() {
      window.removeEventListener("beforeunload", beforeunload);
    };
  }, [shouldNotBlock]);
};

// node_modules/ra-core/dist/esm/form/WarnWhenUnsavedChanges.js
var WarnWhenUnsavedChanges = function(_a) {
  var _b = _a.enable, enable = _b === void 0 ? true : _b, formRootPathName = _a.formRootPathName, formControl = _a.formControl;
  useWarnWhenUnsavedChanges(enable, formRootPathName, formControl);
  return null;
};

// node_modules/ra-core/dist/esm/form/useAugmentedForm.js
var import_react94 = __toESM(require_react());

// node_modules/ra-core/dist/esm/form/getFormInitialValues.js
var import_merge2 = __toESM(require_merge());
function getFormInitialValues(defaultValues, record) {
  var finalInitialValues = (0, import_merge2.default)({}, getValues(defaultValues, record), record);
  return finalInitialValues;
}
function getValues(values, record) {
  if (typeof values === "object") {
    return values;
  }
  if (typeof values === "function") {
    return values(record);
  }
  return {};
}

// node_modules/ra-core/dist/esm/form/setSubmissionErrors.js
var setSubmissionErrors = function(errors, setError) {
  var setErrorFromObject = function(errors2, rootPath) {
    Object.entries(errors2).forEach(function(_a) {
      var name = _a[0], error = _a[1];
      if (typeof error === "object") {
        setErrorFromObject(error, "".concat(rootPath).concat(name, "."));
        return;
      }
      setError("".concat(rootPath).concat(name), {
        type: "server",
        message: error.toString()
      });
    });
  };
  setErrorFromObject(errors, "");
};

// node_modules/ra-core/dist/esm/form/useNotifyIsFormInvalid.js
var import_react93 = __toESM(require_react());
var useNotifyIsFormInvalid = function(control, enabled) {
  if (enabled === void 0) {
    enabled = true;
  }
  var _a = useFormState(control ? { control } : void 0), submitCount = _a.submitCount, errors = _a.errors;
  var submitCountRef = (0, import_react93.useRef)(submitCount);
  var notify = useNotify();
  (0, import_react93.useEffect)(function() {
    var _a2, _b;
    if (submitCount > submitCountRef.current && enabled) {
      submitCountRef.current = submitCount;
      if (Object.keys(errors).length > 0) {
        var serverError = typeof ((_b = (_a2 = errors.root) === null || _a2 === void 0 ? void 0 : _a2.serverError) === null || _b === void 0 ? void 0 : _b.message) === "string" ? errors.root.serverError.message : void 0;
        notify(serverError || "ra.message.invalid_form", {
          type: "error"
        });
      }
    }
  }, [errors, submitCount, notify, enabled]);
};

// node_modules/ra-core/dist/esm/form/sanitizeEmptyValues.js
var sanitizeEmptyValues = function(values, record) {
  if (record === void 0) {
    record = {};
  }
  var sanitizedValues = {};
  Object.keys(values).forEach(function(key) {
    if (values[key] == null || values[key] === "") {
      if (record.hasOwnProperty(key)) {
        sanitizedValues[key] = null;
      } else {
      }
    } else {
      sanitizedValues[key] = values[key];
    }
  });
  return sanitizedValues;
};

// node_modules/ra-core/dist/esm/form/useAugmentedForm.js
var __assign39 = function() {
  __assign39 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign39.apply(this, arguments);
};
var __awaiter11 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator11 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest34 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useAugmentedForm = function(props) {
  var _a = props.criteriaMode, criteriaMode = _a === void 0 ? "firstError" : _a, defaultValues = props.defaultValues, formRootPathname = props.formRootPathname, resolver = props.resolver, _b = props.reValidateMode, reValidateMode = _b === void 0 ? "onChange" : _b, onSubmit = props.onSubmit, sanitizeEmptyValues2 = props.sanitizeEmptyValues, validate = props.validate, disableInvalidFormNotification = props.disableInvalidFormNotification, rest = __rest34(props, ["criteriaMode", "defaultValues", "formRootPathname", "resolver", "reValidateMode", "onSubmit", "sanitizeEmptyValues", "validate", "disableInvalidFormNotification"]);
  var record = useRecordContext(props);
  var saveContext = useSaveContext();
  var defaultValuesIncludingRecord = (0, import_react94.useMemo)(
    function() {
      return getFormInitialValues(defaultValues, record);
    },
    // eslint-disable-next-line
    [
      // eslint-disable-next-line
      JSON.stringify({
        defaultValues: typeof defaultValues === "function" ? "function" : defaultValues,
        record
      })
    ]
  );
  var finalResolver = resolver ? resolver : validate ? getSimpleValidationResolver(validate) : void 0;
  var form = useForm(__assign39({ criteriaMode, values: defaultValuesIncludingRecord, reValidateMode, resolver: finalResolver }, rest));
  var formRef = (0, import_react94.useRef)(form);
  useNotifyIsFormInvalid(form.control, !disableInvalidFormNotification);
  var handleSubmit = (0, import_react94.useCallback)(function(values, event) {
    return __awaiter11(void 0, void 0, void 0, function() {
      var errors, finalValues;
      return __generator11(this, function(_a2) {
        switch (_a2.label) {
          case 0:
            finalValues = sanitizeEmptyValues2 ? sanitizeEmptyValues(values, record) : values;
            if (!onSubmit) return [3, 2];
            return [4, onSubmit(finalValues, event)];
          case 1:
            errors = _a2.sent();
            _a2.label = 2;
          case 2:
            if (!(onSubmit == null && (saveContext === null || saveContext === void 0 ? void 0 : saveContext.save))) return [3, 4];
            return [4, saveContext.save(finalValues, event)];
          case 3:
            errors = _a2.sent();
            _a2.label = 4;
          case 4:
            if (errors != null) {
              setSubmissionErrors(errors, formRef.current.setError);
            }
            return [
              2
              /*return*/
            ];
        }
      });
    });
  }, [onSubmit, saveContext, sanitizeEmptyValues2, record]);
  var formHandleSubmit = (0, import_react94.useCallback)(function(event) {
    if (!event.defaultPrevented) {
      event.stopPropagation();
      form.handleSubmit(handleSubmit)(event);
    }
    return;
  }, [form, handleSubmit]);
  return {
    form,
    handleSubmit,
    formHandleSubmit
  };
};

// node_modules/ra-core/dist/esm/form/Form.js
var __assign40 = function() {
  __assign40 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign40.apply(this, arguments);
};
function Form(props) {
  var children = props.children, id = props.id, className = props.className, _a = props.noValidate, noValidate = _a === void 0 ? false : _a, formRootPathname = props.formRootPathname, warnWhenUnsavedChanges = props.warnWhenUnsavedChanges, _b = props.WarnWhenUnsavedChangesComponent, WarnWhenUnsavedChangesComponent = _b === void 0 ? WarnWhenUnsavedChanges : _b;
  var record = useRecordContext(props);
  var resource = useResourceContext(props);
  var _c = useAugmentedForm(props), form = _c.form, formHandleSubmit = _c.formHandleSubmit;
  var sourceContext = React28.useMemo(function() {
    return {
      getSource: function(source) {
        return source;
      },
      getLabel: function(source) {
        return "resources.".concat(resource, ".fields.").concat(source);
      }
    };
  }, [resource]);
  var dataRouterContext = (0, import_react95.useContext)(DataRouterContext);
  var dataRouterStateContext = (0, import_react95.useContext)(DataRouterStateContext);
  if (warnWhenUnsavedChanges && (!dataRouterContext || !dataRouterStateContext) && true) {
    console.error("Cannot use the warnWhenUnsavedChanges feature outside of a DataRouter. The warnWhenUnsavedChanges feature is disabled. Remove the warnWhenUnsavedChanges prop or convert your custom router to a Data Router.");
  }
  return React28.createElement(
    OptionalRecordContextProvider,
    { value: record },
    React28.createElement(
      SourceContextProvider,
      { value: sourceContext },
      React28.createElement(
        FormProvider,
        __assign40({}, form),
        React28.createElement(
          FormGroupsProvider,
          null,
          React28.createElement("form", { onSubmit: formHandleSubmit, noValidate, id, className }, children),
          warnWhenUnsavedChanges && dataRouterContext && dataRouterStateContext && React28.createElement(WarnWhenUnsavedChangesComponent, { enable: true, formRootPathName: formRootPathname, formControl: form.control })
        )
      )
    )
  );
}

// node_modules/ra-core/dist/esm/form/validate.js
var import_memoize = __toESM(require_memoize());
var EMAIL_REGEX = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
var isEmpty2 = function(value) {
  return typeof value === "undefined" || value === null || value === "" || Array.isArray(value) && value.length === 0;
};
function isValidationErrorMessageWithArgs(error) {
  return error ? error.hasOwnProperty("message") : false;
}
var getMessage = function(message, messageArgs, value, values) {
  return typeof message === "function" ? message({
    args: messageArgs,
    value,
    values
  }) : messageArgs ? {
    message,
    args: messageArgs
  } : message;
};
var memoize = function(fn) {
  return (0, import_memoize.default)(fn, function() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }
    return JSON.stringify(args);
  });
};
var isFunction = function(value) {
  return typeof value === "function";
};
var combine2Validators = function(validator1, validator2) {
  return function(value, values, meta) {
    var result1 = validator1(value, values, meta);
    if (!result1) {
      return validator2(value, values, meta);
    }
    if (typeof result1 === "string" || isValidationErrorMessageWithArgs(result1)) {
      return result1;
    }
    return result1.then(function(resolvedResult1) {
      if (!resolvedResult1) {
        return validator2(value, values, meta);
      }
      return resolvedResult1;
    });
  };
};
var composeValidators = function() {
  var validators = [];
  for (var _i = 0; _i < arguments.length; _i++) {
    validators[_i] = arguments[_i];
  }
  var allValidators = (Array.isArray(validators[0]) ? validators[0] : validators).filter(isFunction);
  return allValidators.reduce(combine2Validators, function() {
    return null;
  });
};
var composeSyncValidators = function() {
  var validators = [];
  for (var _i = 0; _i < arguments.length; _i++) {
    validators[_i] = arguments[_i];
  }
  return function(value, values, meta) {
    var allValidators = (Array.isArray(validators[0]) ? validators[0] : validators).filter(isFunction);
    for (var _i2 = 0, allValidators_1 = allValidators; _i2 < allValidators_1.length; _i2++) {
      var validator = allValidators_1[_i2];
      var error = validator(value, values, meta);
      if (error) {
        return error;
      }
    }
  };
};
var required = memoize(function(message) {
  if (message === void 0) {
    message = "ra.validation.required";
  }
  return Object.assign(function(value, values) {
    return isEmpty2(value) ? getMessage(message, void 0, value, values) : void 0;
  }, { isRequired: true });
});
var minLength = memoize(function(min, message) {
  if (message === void 0) {
    message = "ra.validation.minLength";
  }
  return function(value, values) {
    return !isEmpty2(value) && value.length < min ? getMessage(message, { min }, value, values) : void 0;
  };
});
var maxLength = memoize(function(max, message) {
  if (message === void 0) {
    message = "ra.validation.maxLength";
  }
  return function(value, values) {
    return !isEmpty2(value) && value.length > max ? getMessage(message, { max }, value, values) : void 0;
  };
});
var minValue = memoize(function(min, message) {
  if (message === void 0) {
    message = "ra.validation.minValue";
  }
  return function(value, values) {
    return !isEmpty2(value) && value < min ? getMessage(message, { min }, value, values) : void 0;
  };
});
var maxValue = memoize(function(max, message) {
  if (message === void 0) {
    message = "ra.validation.maxValue";
  }
  return function(value, values) {
    return !isEmpty2(value) && value > max ? getMessage(message, { max }, value, values) : void 0;
  };
});
var number = memoize(function(message) {
  if (message === void 0) {
    message = "ra.validation.number";
  }
  return function(value, values) {
    return !isEmpty2(value) && isNaN(Number(value)) ? getMessage(message, void 0, value, values) : void 0;
  };
});
var regex = (0, import_memoize.default)(function(pattern, message) {
  if (message === void 0) {
    message = "ra.validation.regex";
  }
  return function(value, values) {
    return !isEmpty2(value) && typeof value === "string" && !pattern.test(value) ? getMessage(message, { pattern }, value, values) : void 0;
  };
}, function(pattern, message) {
  return pattern.toString() + message;
});
var email = memoize(function(message) {
  if (message === void 0) {
    message = "ra.validation.email";
  }
  return regex(EMAIL_REGEX, message);
});
var oneOfTypeMessage = function(_a) {
  var args = _a.args;
  return {
    message: "ra.validation.oneOf",
    args
  };
};
var choices = memoize(function(list, message) {
  if (message === void 0) {
    message = oneOfTypeMessage;
  }
  return function(value, values) {
    return !isEmpty2(value) && list.indexOf(value) === -1 ? getMessage(message, { list }, value, values) : void 0;
  };
});
var isRequired = function(validate) {
  if (validate && validate.isRequired) {
    return true;
  }
  if (Array.isArray(validate)) {
    return !!validate.find(function(it) {
      return it.isRequired;
    });
  }
  return false;
};

// node_modules/ra-core/dist/esm/form/FormGroupContext.js
var import_react96 = __toESM(require_react());
var FormGroupContext = (0, import_react96.createContext)(null);

// node_modules/ra-core/dist/esm/form/FormGroupContextProvider.js
var React29 = __toESM(require_react());
var import_react98 = __toESM(require_react());

// node_modules/ra-core/dist/esm/form/useFormGroups.js
var import_react97 = __toESM(require_react());
var useFormGroups = function() {
  var context = (0, import_react97.useContext)(FormGroupsContext);
  return context;
};

// node_modules/ra-core/dist/esm/form/FormGroupContextProvider.js
var FormGroupContextProvider = function(_a) {
  var children = _a.children, name = _a.name;
  var formGroups = useFormGroups();
  (0, import_react98.useEffect)(function() {
    if (!formGroups || !formGroups.registerGroup || !formGroups.unregisterGroup) {
      console.warn("The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components");
      return;
    }
    formGroups.registerGroup(name);
    return function() {
      formGroups.unregisterGroup(name);
    };
  }, [formGroups, name]);
  return React29.createElement(FormGroupContext.Provider, { value: name }, children);
};

// node_modules/ra-core/dist/esm/form/useApplyInputDefaultValues.js
var import_react99 = __toESM(require_react());
var import_get9 = __toESM(require_get());
var useApplyInputDefaultValues = function(_a) {
  var inputProps = _a.inputProps, isArrayInput = _a.isArrayInput, fieldArrayInputControl = _a.fieldArrayInputControl;
  var defaultValue = inputProps.defaultValue, source = inputProps.source;
  var finalSource = useWrappedSource(source);
  var record = useRecordContext(inputProps);
  var _b = useFormContext(), getValues2 = _b.getValues, resetField = _b.resetField, formState = _b.formState, reset = _b.reset;
  var recordValue = (0, import_get9.default)(record, finalSource);
  var formValue = (0, import_get9.default)(getValues2(), finalSource);
  var dirtyFields = formState.dirtyFields;
  var isDirty = Object.keys(dirtyFields).includes(finalSource);
  (0, import_react99.useEffect)(function() {
    if (defaultValue == null || formValue != null || recordValue != null || isDirty) {
      return;
    }
    var pathContainsIndex = finalSource.split(".").some(function(pathPart) {
      return numericRegex.test(pathPart);
    });
    if (pathContainsIndex) {
      var parentPath = finalSource.split(".").slice(0, -1).join(".");
      var parentValue = (0, import_get9.default)(getValues2(), parentPath);
      if (parentValue == null) {
        return;
      }
    }
    if (isArrayInput) {
      if (!fieldArrayInputControl) {
        throw new Error("useApplyInputDefaultValues: No fieldArrayInputControl passed in props for array input usage");
      }
      fieldArrayInputControl.replace(defaultValue);
      reset({}, { keepValues: true });
      return;
    }
    resetField(finalSource, { defaultValue });
  });
};
var numericRegex = /^\d+$/;

// node_modules/ra-core/dist/esm/form/useChoices.js
var React30 = __toESM(require_react());
var import_react100 = __toESM(require_react());
var import_get10 = __toESM(require_get());
var useChoices = function(_a) {
  var _b = _a.optionText, optionText = _b === void 0 ? "name" : _b, _c = _a.optionValue, optionValue = _c === void 0 ? "id" : _c, _d = _a.disableValue, disableValue = _d === void 0 ? "disabled" : _d, _e = _a.translateChoice, translateChoice = _e === void 0 ? true : _e;
  var translate = useTranslate();
  var getChoiceText = (0, import_react100.useCallback)(function(choice) {
    if ((0, import_react100.isValidElement)(optionText)) {
      return React30.createElement(RecordContextProvider, { value: choice }, optionText);
    }
    var choiceName = typeof optionText === "function" ? optionText(choice) : (0, import_get10.default)(choice, optionText);
    return (0, import_react100.isValidElement)(choiceName) ? choiceName : translateChoice ? translate(String(choiceName), { _: choiceName }) : String(choiceName);
  }, [optionText, translate, translateChoice]);
  var getChoiceValue = (0, import_react100.useCallback)(function(choice) {
    return (0, import_get10.default)(choice, optionValue);
  }, [optionValue]);
  var getDisableValue = (0, import_react100.useCallback)(function(choice) {
    return (0, import_get10.default)(choice, disableValue);
  }, [disableValue]);
  return {
    getChoiceText,
    getChoiceValue,
    getDisableValue
  };
};

// node_modules/ra-core/dist/esm/form/useFormGroup.js
var import_react101 = __toESM(require_react());
var import_get11 = __toESM(require_get());
var import_isEqual5 = __toESM(require_isEqual());
var useFormGroup = function(name) {
  var _a = useFormState(), dirtyFields = _a.dirtyFields, touchedFields = _a.touchedFields, validatingFields = _a.validatingFields, errors = _a.errors;
  var dirtyFieldsNames = Object.keys(dirtyFields);
  var touchedFieldsNames = Object.keys(touchedFields);
  var validatingFieldsNames = Object.keys(validatingFields);
  var formGroups = useFormGroups();
  var _b = (0, import_react101.useState)({
    errors: void 0,
    isDirty: false,
    isTouched: false,
    isValid: true,
    isValidating: true
  }), state = _b[0], setState = _b[1];
  var updateGroupState = useEvent(function() {
    if (!formGroups)
      return;
    var fields = formGroups.getGroupFields(name);
    var fieldStates = fields.map(function(field) {
      return {
        name: field,
        error: (0, import_get11.default)(errors, field, void 0),
        isDirty: (0, import_get11.default)(dirtyFields, field, false) !== false,
        isValid: (0, import_get11.default)(errors, field, void 0) == null,
        isValidating: (0, import_get11.default)(validatingFields, field, void 0) == null,
        isTouched: (0, import_get11.default)(touchedFields, field, false) !== false
      };
    }).filter(function(fieldState) {
      return fieldState != void 0;
    });
    var newState = getFormGroupState(fieldStates);
    setState(function(oldState) {
      if (!(0, import_isEqual5.default)(oldState, newState)) {
        return newState;
      }
      return oldState;
    });
  });
  (0, import_react101.useEffect)(
    function() {
      updateGroupState();
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [
      // eslint-disable-next-line react-hooks/exhaustive-deps
      JSON.stringify(dirtyFieldsNames),
      errors,
      // eslint-disable-next-line react-hooks/exhaustive-deps
      JSON.stringify(touchedFieldsNames),
      // eslint-disable-next-line react-hooks/exhaustive-deps
      JSON.stringify(validatingFieldsNames),
      updateGroupState,
      name,
      formGroups
    ]
  );
  (0, import_react101.useEffect)(function() {
    if (!formGroups)
      return;
    var unsubscribe = formGroups.subscribe(name, function() {
      updateGroupState();
    });
    return unsubscribe;
  }, [formGroups, name, updateGroupState]);
  return state;
};
var getFormGroupState = function(fieldStates) {
  return fieldStates.reduce(function(acc, fieldState) {
    var errors = acc.errors || {};
    if (fieldState.error) {
      errors[fieldState.name] = fieldState.error;
    }
    var newState = {
      isDirty: acc.isDirty || fieldState.isDirty,
      errors,
      isTouched: acc.isTouched || fieldState.isTouched,
      isValid: acc.isValid && fieldState.isValid,
      isValidating: acc.isValidating && fieldState.isValidating
    };
    return newState;
  }, {
    isDirty: false,
    errors: void 0,
    isValid: true,
    isTouched: false,
    isValidating: false
  });
};

// node_modules/ra-core/dist/esm/form/useFormGroupContext.js
var import_react102 = __toESM(require_react());
var useFormGroupContext = function() {
  var context = (0, import_react102.useContext)(FormGroupContext);
  return context;
};

// node_modules/ra-core/dist/esm/form/useGetValidationErrorMessage.js
var __assign41 = function() {
  __assign41 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign41.apply(this, arguments);
};
var useGetValidationErrorMessage = function() {
  var translate = useTranslate();
  return function(error) {
    if (error.message != null) {
      var _a = error, message = _a.message, args = _a.args;
      return translate(message, __assign41({ _: message }, args));
    }
    return translate(error, { _: error });
  };
};

// node_modules/ra-core/dist/esm/form/useInput.js
var import_react103 = __toESM(require_react());
var import_get12 = __toESM(require_get());

// node_modules/ra-core/dist/esm/form/isRequired.js
var isRequired2 = function(validate) {
  if (validate && validate.isRequired) {
    return true;
  }
  if (Array.isArray(validate)) {
    return validate.some(function(it) {
      return it.isRequired;
    });
  }
  return false;
};
var isRequired_default = isRequired2;

// node_modules/ra-core/dist/esm/form/useInput.js
var __assign42 = function() {
  __assign42 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign42.apply(this, arguments);
};
var __awaiter12 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator12 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest35 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var defaultFormat = function(value) {
  return value == null ? "" : value;
};
var defaultParse = function(value) {
  return value === "" ? null : value;
};
var useInput = function(props) {
  var defaultValue = props.defaultValue, _a = props.format, format = _a === void 0 ? defaultFormat : _a, id = props.id, isRequiredOption = props.isRequired, name = props.name, initialOnBlur = props.onBlur, initialOnChange = props.onChange, _b = props.parse, parseProp = _b === void 0 ? defaultParse : _b, source = props.source, validate = props.validate, options = __rest35(props, ["defaultValue", "format", "id", "isRequired", "name", "onBlur", "onChange", "parse", "source", "validate"]);
  var finalSource = useWrappedSource(source);
  var finalName = name || finalSource;
  var formGroupName = useFormGroupContext();
  var formGroups = useFormGroups();
  var record = useRecordContext();
  var parse3 = useEvent(parseProp);
  var defaultId = (0, import_react103.useId)();
  if (!source && props.label == null && true) {
    console.warn("Input components require either a source or a label prop.");
  }
  (0, import_react103.useEffect)(function() {
    if (!formGroups || formGroupName == null) {
      return;
    }
    formGroups.registerField(finalSource, formGroupName);
    return function() {
      formGroups.unregisterField(finalSource, formGroupName);
    };
  }, [formGroups, formGroupName, finalSource]);
  var sanitizedValidate = Array.isArray(validate) ? composeValidators(validate) : validate;
  var _c = useController(__assign42(__assign42({ name: finalName, defaultValue: (0, import_get12.default)(record, finalSource, defaultValue), rules: {
    validate: function(value, values) {
      return __awaiter12(void 0, void 0, void 0, function() {
        var error;
        return __generator12(this, function(_a2) {
          switch (_a2.label) {
            case 0:
              if (!sanitizedValidate)
                return [2, true];
              return [4, sanitizedValidate(value, values, props)];
            case 1:
              error = _a2.sent();
              if (!error)
                return [2, true];
              return [2, "@@react-admin@@".concat(JSON.stringify(error))];
          }
        });
      });
    }
  } }, options), {
    // Workaround for https://github.com/react-hook-form/react-hook-form/issues/10907
    // FIXME - remove when fixed
    // @ts-ignore - only exists since react-hook-form 7.46.0
    disabled: options.disabled || void 0
  })), controllerField = _c.field, fieldState = _c.fieldState, formState = _c.formState;
  useApplyInputDefaultValues({ inputProps: props });
  var onBlur = useEvent(function() {
    var event = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      event[_i] = arguments[_i];
    }
    controllerField.onBlur();
    if (initialOnBlur) {
      initialOnBlur.apply(void 0, event);
    }
  });
  var onChange = useEvent(function() {
    var _a2, _b2, _c2, _d, _e;
    var event = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      event[_i] = arguments[_i];
    }
    var eventOrValue = props.type === "checkbox" && ((_b2 = (_a2 = event[0]) === null || _a2 === void 0 ? void 0 : _a2.target) === null || _b2 === void 0 ? void 0 : _b2.value) === "on" ? event[0].target.checked : (_e = (_d = (_c2 = event[0]) === null || _c2 === void 0 ? void 0 : _c2.target) === null || _d === void 0 ? void 0 : _d.value) !== null && _e !== void 0 ? _e : event[0];
    controllerField.onChange(parse3 ? parse3(eventOrValue) : eventOrValue);
    if (initialOnChange) {
      initialOnChange.apply(void 0, event);
    }
  });
  var field = __assign42(__assign42({}, controllerField), { value: format ? format(controllerField.value) : controllerField.value, onBlur, onChange });
  return {
    id: id || defaultId,
    field,
    fieldState,
    formState,
    isRequired: isRequiredOption || isRequired_default(validate)
  };
};

// node_modules/ra-core/dist/esm/form/useSuggestions.js
var import_react104 = __toESM(require_react());
var import_set4 = __toESM(require_set());
var __spreadArray20 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var useSuggestions = function(_a) {
  var allowCreate = _a.allowCreate, choices2 = _a.choices, _b = _a.createText, createText = _b === void 0 ? "ra.action.create" : _b, _c = _a.createValue, createValue = _c === void 0 ? "@@create" : _c, limitChoicesToValue = _a.limitChoicesToValue, matchSuggestion = _a.matchSuggestion, optionText = _a.optionText, optionValue = _a.optionValue, selectedItem = _a.selectedItem, _d = _a.suggestionLimit, suggestionLimit = _d === void 0 ? 0 : _d, translateChoice = _a.translateChoice;
  var translate = useTranslate();
  var _e = useChoices({
    optionText,
    optionValue,
    translateChoice
  }), getChoiceText = _e.getChoiceText, getChoiceValue = _e.getChoiceValue;
  var getSuggestions = (0, import_react104.useCallback)(getSuggestionsFactory({
    allowCreate,
    choices: choices2,
    createText,
    createValue,
    getChoiceText,
    getChoiceValue,
    limitChoicesToValue,
    matchSuggestion,
    optionText,
    optionValue,
    selectedItem,
    suggestionLimit
  }), [
    allowCreate,
    choices2,
    createText,
    createValue,
    getChoiceText,
    getChoiceValue,
    limitChoicesToValue,
    matchSuggestion,
    optionText,
    optionValue,
    selectedItem,
    suggestionLimit,
    translate
  ]);
  return {
    getChoiceText,
    getChoiceValue,
    getSuggestions
  };
};
var escapeRegExp = function(value) {
  return value ? value.replace(/[.*+?^${}()|[\]\\]/g, "\\$&") : "";
};
var defaultMatchSuggestion = function(getChoiceText) {
  return function(filter, suggestion, exact) {
    if (exact === void 0) {
      exact = false;
    }
    var suggestionText = getChoiceText(suggestion);
    var isReactElement = (0, import_react104.isValidElement)(suggestionText);
    var regex2 = escapeRegExp(filter);
    return isReactElement ? false : suggestionText && !!suggestionText.match(
      // We must escape any RegExp reserved characters to avoid errors
      // For example, the filter might contain * which must be escaped as \*
      new RegExp(exact ? "^".concat(regex2, "$") : regex2, "i")
    );
  };
};
var getSuggestionsFactory = function(_a) {
  var _b = _a.allowCreate, allowCreate = _b === void 0 ? false : _b, _c = _a.choices, choices2 = _c === void 0 ? [] : _c, _d = _a.createText, createText = _d === void 0 ? "ra.action.create" : _d, _e = _a.createValue, createValue = _e === void 0 ? "@@create" : _e, _f = _a.optionText, optionText = _f === void 0 ? "name" : _f, _g = _a.optionValue, optionValue = _g === void 0 ? "id" : _g, getChoiceText = _a.getChoiceText, getChoiceValue = _a.getChoiceValue, _h = _a.limitChoicesToValue, limitChoicesToValue = _h === void 0 ? false : _h, _j = _a.matchSuggestion, matchSuggestion = _j === void 0 ? defaultMatchSuggestion(getChoiceText) : _j, selectedItem = _a.selectedItem, _k = _a.suggestionLimit, suggestionLimit = _k === void 0 ? 0 : _k;
  return function(filter) {
    var suggestions = [];
    if (selectedItem && !Array.isArray(selectedItem) && matchSuggestion(filter, selectedItem)) {
      if (limitChoicesToValue) {
        suggestions = choices2.filter(function(choice) {
          return getChoiceValue(choice) === getChoiceValue(selectedItem);
        });
      } else {
        suggestions = __spreadArray20([], choices2, true);
      }
    } else {
      suggestions = choices2.filter(function(choice) {
        return matchSuggestion(filter, choice) || selectedItem != null && (!Array.isArray(selectedItem) ? getChoiceValue(choice) === getChoiceValue(selectedItem) : selectedItem.some(function(selected) {
          return getChoiceValue(choice) === getChoiceValue(selected);
        }));
      });
    }
    suggestions = limitSuggestions(suggestions, suggestionLimit);
    var hasExactMatch = suggestions.some(function(suggestion) {
      return matchSuggestion(filter, suggestion, true);
    });
    if (allowCreate) {
      var filterIsSelectedItem = (
        // If the selectedItem is an array (for example AutocompleteArrayInput)
        // we shouldn't try to match
        !!selectedItem && !Array.isArray(selectedItem) ? matchSuggestion(filter, selectedItem, true) : false
      );
      if (!hasExactMatch && !filterIsSelectedItem) {
        suggestions.push(getSuggestion({
          optionText,
          optionValue,
          text: createText,
          value: createValue
        }));
      }
    }
    var result = suggestions.filter(function(suggestion, index) {
      return suggestions.indexOf(suggestion) === index;
    });
    return result;
  };
};
var limitSuggestions = function(suggestions, limit) {
  if (limit === void 0) {
    limit = 0;
  }
  return Number.isInteger(limit) && limit > 0 ? suggestions.slice(0, limit) : suggestions;
};
var getSuggestion = function(_a) {
  var _b = _a.optionText, optionText = _b === void 0 ? "name" : _b, _c = _a.optionValue, optionValue = _c === void 0 ? "id" : _c, _d = _a.text, text = _d === void 0 ? "" : _d, _e = _a.value, value = _e === void 0 ? null : _e;
  var suggestion = {};
  (0, import_set4.default)(suggestion, optionValue, value);
  if (typeof optionText === "string") {
    (0, import_set4.default)(suggestion, optionText, text);
  }
  return suggestion;
};

// node_modules/ra-core/dist/esm/form/useUnique.js
var import_merge3 = __toESM(require_merge());
var import_react105 = __toESM(require_react());
var import_set5 = __toESM(require_set());
var __awaiter13 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator13 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var useUnique = function(options) {
  var _a;
  var dataProvider = useDataProvider();
  var translateLabel = useTranslateLabel();
  var resource = useResourceContext(options);
  if (!resource) {
    throw new Error("useUnique: missing resource prop or context");
  }
  var translate = useTranslate();
  var record = useRecordContext();
  var debouncedGetList = (0, import_react105.useRef)(
    // The initial value is here to set the correct type on useRef
    asyncDebounce(dataProvider.getList, (_a = options === null || options === void 0 ? void 0 : options.debounce) !== null && _a !== void 0 ? _a : DEFAULT_DEBOUNCE)
  );
  var validateUnique = (0, import_react105.useCallback)(function(callTimeOptions) {
    var _a2 = (0, import_merge3.default)({
      debounce: DEFAULT_DEBOUNCE,
      filter: {},
      message: "ra.validation.unique"
    }, options, callTimeOptions), message = _a2.message, filter = _a2.filter, interval = _a2.debounce;
    debouncedGetList.current = asyncDebounce(dataProvider.getList, interval);
    return function(value, allValues, props) {
      return __awaiter13(void 0, void 0, void 0, function() {
        var finalFilter, _a3, data, total, error_1;
        return __generator13(this, function(_b) {
          switch (_b.label) {
            case 0:
              if (isEmpty2(value)) {
                return [2, void 0];
              }
              _b.label = 1;
            case 1:
              _b.trys.push([1, 3, , 4]);
              finalFilter = (0, import_set5.default)((0, import_merge3.default)({}, filter), props.source, value);
              return [4, debouncedGetList.current(resource, {
                filter: finalFilter,
                pagination: { page: 1, perPage: 1 },
                sort: { field: "id", order: "ASC" }
              })];
            case 2:
              _a3 = _b.sent(), data = _a3.data, total = _a3.total;
              if (typeof total !== "undefined" && total > 0 && !data.some(function(r) {
                return r.id === (record === null || record === void 0 ? void 0 : record.id);
              })) {
                return [2, {
                  message,
                  args: {
                    source: props.source,
                    value,
                    field: translateLabel({
                      label: props.label,
                      source: props.source,
                      resource
                    })
                  }
                }];
              }
              return [3, 4];
            case 3:
              error_1 = _b.sent();
              return [2, translate("ra.notification.http_error")];
            case 4:
              return [2, void 0];
          }
        });
      });
    };
  }, [dataProvider, options, record, resource, translate, translateLabel]);
  return validateUnique;
};
var DEFAULT_DEBOUNCE = 1e3;

// node_modules/ra-core/dist/esm/controller/input/ReferenceInputBase.js
var __assign43 = function() {
  __assign43 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign43.apply(this, arguments);
};
var ReferenceInputBase = function(props) {
  var children = props.children, reference = props.reference, _a = props.sort, sort = _a === void 0 ? { field: "id", order: "DESC" } : _a, _b = props.filter, filter = _b === void 0 ? {} : _b;
  var controllerProps = useReferenceInputController(__assign43(__assign43({}, props), { sort, filter }));
  return import_react106.default.createElement(
    ResourceContextProvider,
    { value: reference },
    import_react106.default.createElement(ChoicesContextProvider, { value: controllerProps }, children)
  );
};

// node_modules/ra-core/dist/esm/controller/show/ShowBase.js
var React33 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/show/useShowController.js
var __assign44 = function() {
  __assign44 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign44.apply(this, arguments);
};
var __rest36 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useShowController = function(props) {
  if (props === void 0) {
    props = {};
  }
  var disableAuthentication = props.disableAuthentication, propsId = props.id, _a = props.queryOptions, queryOptions = _a === void 0 ? {} : _a;
  useAuthenticated({ enabled: !disableAuthentication });
  var resource = useResourceContext(props);
  if (!resource) {
    throw new Error("useShowController requires a non-empty resource prop or context");
  }
  var getRecordRepresentation = useGetRecordRepresentation(resource);
  var translate = useTranslate();
  var notify = useNotify();
  var redirect = useRedirect();
  var refresh = useRefresh();
  var routeId = useParams().id;
  if (!routeId && !propsId) {
    throw new Error("useShowController requires an id prop or a route with an /:id? parameter.");
  }
  var id = propsId != null ? propsId : decodeURIComponent(routeId);
  var meta = queryOptions.meta, otherQueryOptions = __rest36(queryOptions, ["meta"]);
  var _b = useGetOne(resource, { id, meta }, __assign44({ onError: function() {
    notify("ra.notification.item_doesnt_exist", {
      type: "error"
    });
    redirect("list", resource);
    refresh();
  }, retry: false }, otherQueryOptions)), record = _b.data, error = _b.error, isLoading = _b.isLoading, isFetching = _b.isFetching, isPending = _b.isPending, refetch2 = _b.refetch;
  if (record && record.id && record.id != id) {
    throw new Error("useShowController: Fetched record's id attribute (".concat(record.id, ") must match the requested 'id' (").concat(id, ")"));
  }
  var getResourceLabel = useGetResourceLabel();
  var recordRepresentation = getRecordRepresentation(record);
  var defaultTitle = translate("ra.page.show", {
    name: getResourceLabel(resource, 1),
    id,
    record,
    recordRepresentation: typeof recordRepresentation === "string" ? recordRepresentation : ""
  });
  return {
    defaultTitle,
    error,
    isLoading,
    isFetching,
    isPending,
    record,
    refetch: refetch2,
    resource
  };
};

// node_modules/ra-core/dist/esm/controller/show/ShowContextProvider.js
var React32 = __toESM(require_react());

// node_modules/ra-core/dist/esm/controller/show/ShowContext.js
var import_react107 = __toESM(require_react());
var ShowContext = (0, import_react107.createContext)(null);
ShowContext.displayName = "ShowContext";

// node_modules/ra-core/dist/esm/controller/show/ShowContextProvider.js
var ShowContextProvider = function(_a) {
  var children = _a.children, value = _a.value;
  return React32.createElement(
    ShowContext.Provider,
    { value },
    React32.createElement(RecordContextProvider, { value: value && value.record }, children)
  );
};

// node_modules/ra-core/dist/esm/controller/show/ShowBase.js
var __rest37 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var ShowBase = function(_a) {
  var children = _a.children, props = __rest37(_a, ["children"]);
  var controllerProps = useShowController(props);
  var body = React33.createElement(ShowContextProvider, { value: controllerProps }, children);
  return props.resource ? (
    // support resource override via props
    React33.createElement(ResourceContextProvider, { value: props.resource }, body)
  ) : body;
};

// node_modules/ra-core/dist/esm/controller/show/ShowController.js
var __rest38 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var ShowController = function(_a) {
  var children = _a.children, props = __rest38(_a, ["children"]);
  var controllerProps = useShowController(props);
  return children(controllerProps);
};

// node_modules/ra-core/dist/esm/controller/show/useShowContext.js
var import_react108 = __toESM(require_react());
var useShowContext = function() {
  var context = (0, import_react108.useContext)(ShowContext);
  if (!context) {
    throw new Error("useShowContext must be used inside a ShowContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/controller/usePrevNextController.js
var __assign45 = function() {
  __assign45 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign45.apply(this, arguments);
};
var __rest39 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var usePrevNextController = function(props) {
  var _a, _b;
  var _c = props.linkType, linkType = _c === void 0 ? "edit" : _c, storeKey = props.storeKey, _d = props.limit, limit = _d === void 0 ? 1e3 : _d, _e = props.sort, initialSort = _e === void 0 ? { field: "id", order: SORT_ASC } : _e, _f = props.filter, permanentFilter = _f === void 0 ? {} : _f, _g = props.filterDefaultValues, filterDefaultValues = _g === void 0 ? {} : _g, _h = props.queryOptions, queryOptions = _h === void 0 ? {
    staleTime: 5 * 60 * 1e3
  } : _h;
  var record = useRecordContext(props);
  var resource = useResourceContext(props);
  var createPath = useCreatePath();
  if (!resource) {
    throw new Error("useNextPrevController was called outside of a ResourceContext and without a resource prop. You must set the resource prop.");
  }
  var storedParams = useStore(storeKey || "".concat(resource, ".listParams"), {
    filter: filterDefaultValues,
    order: initialSort.order,
    sort: initialSort.field,
    page: 1,
    perPage: 10,
    displayedFilters: {}
  })[0];
  var dataProvider = useDataProvider();
  var queryClient = useQueryClient();
  var pagination = { page: 1, perPage: limit };
  var sort = {
    field: storedParams.sort,
    order: storedParams.order
  };
  var filter = __assign45(__assign45({}, storedParams.filter), permanentFilter);
  var meta = queryOptions.meta, otherQueryOptions = __rest39(queryOptions, ["meta"]);
  var params = { pagination, sort, filter, meta };
  var queryData = queryClient.getQueryData([
    resource,
    "getList",
    __assign45(__assign45({}, params), { pagination: {
      page: storedParams.page,
      perPage: storedParams.perPage
    } })
  ]);
  var recordIndexInQueryData = (_a = queryData === null || queryData === void 0 ? void 0 : queryData.data) === null || _a === void 0 ? void 0 : _a.findIndex(function(r) {
    return r.id === (record === null || record === void 0 ? void 0 : record.id);
  });
  var isRecordIndexFirstInNonFirstPage = recordIndexInQueryData === 0 && storedParams.page > 1;
  var isRecordIndexLastInNonLastPage = (queryData === null || queryData === void 0 ? void 0 : queryData.data) && (queryData === null || queryData === void 0 ? void 0 : queryData.total) ? recordIndexInQueryData === ((_b = queryData === null || queryData === void 0 ? void 0 : queryData.data) === null || _b === void 0 ? void 0 : _b.length) - 1 && storedParams.page < (queryData === null || queryData === void 0 ? void 0 : queryData.total) / storedParams.perPage : void 0;
  var canUseCacheData = record && (queryData === null || queryData === void 0 ? void 0 : queryData.data) && recordIndexInQueryData !== -1 && !isRecordIndexFirstInNonFirstPage && !isRecordIndexLastInNonLastPage;
  var _j = useQuery(__assign45({ queryKey: [resource, "getList", params], queryFn: function(queryParams) {
    return dataProvider.getList(resource, __assign45(__assign45({}, params), { signal: dataProvider.supportAbortSignal === true ? queryParams.signal : void 0 }));
  }, enabled: !canUseCacheData }, otherQueryOptions)), data = _j.data, error = _j.error, isFetching = _j.isFetching, isLoading = _j.isLoading, isPending = _j.isPending;
  var finalData = canUseCacheData ? queryData.data : (data === null || data === void 0 ? void 0 : data.data) || [];
  if (!record || isPending && !canUseCacheData)
    return {
      isFetching: true,
      isLoading: true,
      isPending: true,
      prevPath: void 0,
      nextPath: void 0,
      index: void 0,
      total: void 0,
      hasPrev: false,
      hasNext: false
    };
  var ids = finalData.map(function(record2) {
    return record2.id;
  });
  var index = ids.indexOf(record.id);
  var previousId = typeof ids[index - 1] !== "undefined" ? ids[index - 1] : null;
  var nextId = index !== -1 && index < ids.length - 1 ? ids[index + 1] : null;
  return {
    hasPrev: previousId !== null,
    hasNext: nextId !== null,
    prevPath: previousId !== null ? createPath({
      type: linkType,
      resource,
      id: previousId
    }) : void 0,
    nextPath: nextId !== null ? createPath({
      type: linkType,
      resource,
      id: nextId
    }) : void 0,
    index: index === -1 ? void 0 : index,
    total: canUseCacheData ? queryData === null || queryData === void 0 ? void 0 : queryData.total : data === null || data === void 0 ? void 0 : data.total,
    error,
    isFetching: canUseCacheData ? false : isFetching,
    isLoading: canUseCacheData ? false : isLoading,
    isPending: canUseCacheData ? false : isPending
  };
};

// node_modules/ra-core/dist/esm/routing/useGetPathForRecordCallback.js
var import_react109 = __toESM(require_react());
var __awaiter14 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator14 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var useGetPathForRecordCallback = function(options) {
  if (options === void 0) {
    options = {};
  }
  var resource = useResourceContext(options);
  var resourceDefinitions = useResourceDefinitions();
  var createPath = useCreatePath();
  return (0, import_react109.useCallback)(function(params) {
    return __awaiter14(void 0, void 0, void 0, function() {
      var _a, link, record, finalResource, resourceDefinition, linkFunc, defaultLink, isLinkFalse, linkResult, linkResultIsPromise;
      var _b, _c, _d;
      return __generator14(this, function(_e) {
        _a = params || {}, link = _a.link, record = _a.record;
        finalResource = (_b = params.resource) !== null && _b !== void 0 ? _b : resource;
        if (!finalResource) {
          throw new Error("Cannot generate a link for a record without a resource. You must use useGetPathForRecordCallback within a ResourceContextProvider, or pass a resource parameter.");
        }
        resourceDefinition = (_c = resourceDefinitions[finalResource]) !== null && _c !== void 0 ? _c : {};
        linkFunc = typeof link === "function" ? link : function() {
          return link;
        };
        defaultLink = resourceDefinition.hasShow ? "show" : resourceDefinition.hasEdit ? "edit" : false;
        isLinkFalse = link === false || link == null && defaultLink === false;
        if (record == null || isLinkFalse) {
          return [2, false];
        }
        linkResult = (_d = linkFunc(record, finalResource)) !== null && _d !== void 0 ? _d : defaultLink;
        linkResultIsPromise = isPromise(linkResult);
        if (linkResultIsPromise) {
          return [2, linkResult.then(function(resolvedLink) {
            if (resolvedLink === false) {
              return;
            }
            return createPath({
              resource: finalResource,
              id: record.id,
              type: resolvedLink
            });
          })];
        }
        return [2, linkResult === false || linkResultIsPromise ? false : createPath({
          resource: finalResource,
          id: record.id,
          type: linkResult
        })];
      });
    });
  }, [createPath, resourceDefinitions, resource]);
};
var isPromise = function(value) {
  return value && typeof value.then === "function";
};

// node_modules/ra-core/dist/esm/routing/useGetPathForRecord.js
var useGetPathForRecord = function(options) {
  var link = (options || {}).link;
  var record = useRecordContext(options);
  var resource = useResourceContext(options);
  if (!resource) {
    throw new Error("Cannot generate a link for a record without a resource. You must use useGetPathForRecord within a ResourceContextProvider, or pass a resource prop.");
  }
  var getPathForRecord = useGetPathForRecordCallback(options);
  var _a = (0, import_react110.useState)(function() {
    getPathForRecord({
      record,
      resource,
      link
    }).then(function(resolvedLink) {
      if (resolvedLink === false) {
        return;
      }
      setPath(resolvedLink);
    });
    return false;
  }), path = _a[0], setPath = _a[1];
  (0, import_react110.useEffect)(function() {
    getPathForRecord({
      record,
      resource,
      link
    }).then(function(resolvedLink) {
      setPath(resolvedLink);
    });
  }, [getPathForRecord, link, record, resource]);
  return path;
};

// node_modules/ra-core/dist/esm/routing/useRedirect.js
var import_react111 = __toESM(require_react());
var __assign46 = function() {
  __assign46 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign46.apply(this, arguments);
};
var useRedirect = function() {
  var navigate = useNavigate();
  var basename = useBasename();
  var createPath = useCreatePath();
  return (0, import_react111.useCallback)(function(redirectTo, resource, id, data, state) {
    if (resource === void 0) {
      resource = "";
    }
    if (state === void 0) {
      state = {};
    }
    if (!redirectTo) {
      return;
    } else if (typeof redirectTo === "function") {
      var target = redirectTo(resource, id, data);
      var absoluteTarget = typeof target === "string" ? "".concat(basename, "/").concat(target) : __assign46({ pathname: "".concat(basename, "/").concat(target.pathname) }, target);
      navigate(absoluteTarget, {
        state: __assign46({ _scrollToTop: true }, state)
      });
      return;
    } else if (typeof redirectTo === "string" && redirectTo.startsWith("http") && window) {
      window.location.href = redirectTo;
      return;
    } else {
      navigate(createPath({ resource, id, type: redirectTo }), {
        state: (
          // We force the scrollToTop except when navigating to a list
          // where this is already done by <RestoreScrollPosition> in <Resource>
          redirectTo === "list" ? state : __assign46({ _scrollToTop: true }, state)
        )
      });
      return;
    }
  }, [navigate, basename, createPath]);
};

// node_modules/ra-core/dist/esm/routing/useResetErrorBoundaryOnLocationChange.js
var import_react112 = __toESM(require_react());
var useResetErrorBoundaryOnLocationChange = function(resetErrorBoundary) {
  var pathname = useLocation().pathname;
  var originalPathname = (0, import_react112.useRef)(pathname);
  (0, import_react112.useEffect)(function() {
    if (pathname !== originalPathname.current) {
      resetErrorBoundary();
    }
  }, [pathname, resetErrorBoundary]);
};

// node_modules/ra-core/dist/esm/routing/useScrollToTop.js
var import_react113 = __toESM(require_react());
var useScrollToTop = function() {
  var location = useLocation();
  (0, import_react113.useEffect)(function() {
    var _a;
    if (((_a = location.state) === null || _a === void 0 ? void 0 : _a._scrollToTop) && typeof window != "undefined" && typeof window.scrollTo === "function") {
      window.scrollTo(0, 0);
    }
  }, [location]);
};

// node_modules/ra-core/dist/esm/routing/TestMemoryRouter.js
var React34 = __toESM(require_react());
var __assign47 = function() {
  __assign47 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign47.apply(this, arguments);
};
var __rest40 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var UseLocation = function(_a) {
  var locationCallback = _a.locationCallback;
  var location = useLocation();
  locationCallback(location);
  return null;
};
var UseNavigate = function(_a) {
  var navigateCallback = _a.navigateCallback;
  var navigate = useNavigate();
  navigateCallback(navigate);
  return null;
};
var TestMemoryRouter = function(_a) {
  var children = _a.children, locationCallback = _a.locationCallback, navigateCallback = _a.navigateCallback, rest = __rest40(_a, ["children", "locationCallback", "navigateCallback"]);
  var router = createMemoryRouter([
    {
      path: "*",
      element: React34.createElement(
        React34.Fragment,
        null,
        children,
        locationCallback && React34.createElement(UseLocation, { locationCallback }),
        navigateCallback && React34.createElement(UseNavigate, { navigateCallback })
      )
    }
  ], __assign47({}, rest));
  return React34.createElement(RouterProvider, { router });
};

// node_modules/ra-core/dist/esm/preferences/PreferencesEditorContextProvider.js
var React35 = __toESM(require_react());
var import_react115 = __toESM(require_react());

// node_modules/ra-core/dist/esm/preferences/PreferencesEditorContext.js
var import_react114 = __toESM(require_react());
var PreferencesEditorContext = (0, import_react114.createContext)(void 0);

// node_modules/ra-core/dist/esm/preferences/PreferencesEditorContextProvider.js
var PreferencesEditorContextProvider = function(_a) {
  var children = _a.children;
  var _b = (0, import_react115.useState)(false), isEnabled = _b[0], setIsEnabled = _b[1];
  var _c = (0, import_react115.useState)(null), editor = _c[0], setEditor = _c[1];
  var _d = (0, import_react115.useState)(null), preferenceKey = _d[0], setPreferenceKey = _d[1];
  var _e = (0, import_react115.useState)(null), path = _e[0], setPath = _e[1];
  var _f = (0, import_react115.useState)(null), title = _f[0], setTitleString = _f[1];
  var _g = (0, import_react115.useState)(), titleOptions = _g[0], setTitleOptions = _g[1];
  var enable = (0, import_react115.useCallback)(function() {
    return setIsEnabled(true);
  }, []);
  var disable = (0, import_react115.useCallback)(function() {
    setIsEnabled(false);
    setEditor(null);
  }, []);
  var setTitle = (0, import_react115.useCallback)(function(title2, titleOptions2) {
    setTitleString(title2);
    setTitleOptions(titleOptions2);
  }, []);
  var context = (0, import_react115.useMemo)(function() {
    return {
      editor,
      setEditor,
      preferenceKey,
      setPreferenceKey,
      title,
      titleOptions,
      setTitle,
      isEnabled,
      disable,
      enable,
      path,
      setPath
    };
  }, [
    disable,
    enable,
    editor,
    preferenceKey,
    isEnabled,
    path,
    setPath,
    title,
    titleOptions,
    setTitle
  ]);
  return React35.createElement(PreferencesEditorContext.Provider, { value: context }, children);
};

// node_modules/ra-core/dist/esm/core/ResourceDefinitionContext.js
var React36 = __toESM(require_react());
var import_react116 = __toESM(require_react());
var import_isEqual6 = __toESM(require_isEqual());
var __assign48 = function() {
  __assign48 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign48.apply(this, arguments);
};
var __rest41 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var ResourceDefinitionContext = (0, import_react116.createContext)({
  definitions: {},
  register: function() {
  },
  unregister: function() {
  }
});
var ResourceDefinitionContextProvider = function(_a) {
  var _b = _a.definitions, defaultDefinitions = _b === void 0 ? {} : _b, children = _a.children;
  var _c = (0, import_react116.useState)(defaultDefinitions), definitions = _c[0], setState = _c[1];
  var register = (0, import_react116.useCallback)(function(config) {
    setState(function(prev) {
      var _a2;
      return (0, import_isEqual6.default)(prev[config.name], config) ? prev : __assign48(__assign48({}, prev), (_a2 = {}, _a2[config.name] = config, _a2));
    });
  }, []);
  var unregister = (0, import_react116.useCallback)(function(config) {
    setState(function(prev) {
      var _a2 = prev, _b2 = config.name, _ = _a2[_b2], rest = __rest41(_a2, [typeof _b2 === "symbol" ? _b2 : _b2 + ""]);
      return rest;
    });
  }, []);
  var contextValue = (0, import_react116.useMemo)(
    function() {
      return { definitions, register, unregister };
    },
    [definitions]
    // eslint-disable-line react-hooks/exhaustive-deps
  );
  return React36.createElement(ResourceDefinitionContext.Provider, { value: contextValue }, children);
};

// node_modules/ra-core/dist/esm/core/CoreAdminContext.js
var defaultStore2 = memoryStore();
var CoreAdminContext = function(props) {
  var authProvider = props.authProvider, basename = props.basename, _a = props.dataProvider, dataProvider = _a === void 0 ? defaultDataProvider : _a, i18nProvider = props.i18nProvider, _b = props.store, store = _b === void 0 ? defaultStore2 : _b, children = props.children, queryClient = props.queryClient;
  if (!dataProvider) {
    throw new Error("Missing dataProvider prop.\nReact-admin requires a valid dataProvider function to work.");
  }
  var finalQueryClient = (0, import_react117.useMemo)(function() {
    return queryClient || new QueryClient();
  }, [queryClient]);
  var finalAuthProvider = (0, import_react117.useMemo)(function() {
    return authProvider instanceof Function ? convertLegacyAuthProvider_default(authProvider) : authProvider;
  }, [authProvider]);
  var finalDataProvider = (0, import_react117.useMemo)(function() {
    return dataProvider instanceof Function ? convertLegacyDataProvider_default(dataProvider) : dataProvider;
  }, [dataProvider]);
  return React37.createElement(
    AuthContext.Provider,
    { value: finalAuthProvider },
    React37.createElement(
      DataProviderContext_default.Provider,
      { value: finalDataProvider },
      React37.createElement(
        StoreContextProvider,
        { value: store },
        React37.createElement(
          PreferencesEditorContextProvider,
          null,
          React37.createElement(
            QueryClientProvider,
            { client: finalQueryClient },
            React37.createElement(
              AdminRouter,
              { basename },
              React37.createElement(
                I18nContextProvider,
                { value: i18nProvider },
                React37.createElement(
                  NotificationContextProvider,
                  null,
                  React37.createElement(ResourceDefinitionContextProvider, null, children)
                )
              )
            )
          )
        )
      )
    )
  );
};

// node_modules/ra-core/dist/esm/core/CoreAdminUI.js
var React40 = __toESM(require_react());
var import_react123 = __toESM(require_react());

// node_modules/ra-core/dist/esm/core/CoreAdminRoutes.js
var React39 = __toESM(require_react());
var import_react121 = __toESM(require_react());

// node_modules/ra-core/dist/esm/core/useConfigureAdminRouterFromChildren.js
var React38 = __toESM(require_react());
var import_react119 = __toESM(require_react());

// node_modules/ra-core/dist/esm/core/useResourceDefinitionContext.js
var import_react118 = __toESM(require_react());
var useResourceDefinitionContext = function() {
  return (0, import_react118.useContext)(ResourceDefinitionContext);
};

// node_modules/ra-core/dist/esm/core/useConfigureAdminRouterFromChildren.js
var __assign49 = function() {
  __assign49 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign49.apply(this, arguments);
};
var __awaiter15 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator15 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var useConfigureAdminRouterFromChildren = function(children) {
  var _a = usePermissions_default(), permissions = _a.permissions, isPending = _a.isPending;
  var _b = useRoutesAndResourcesFromChildren(children, permissions, isPending), routesAndResources = _b[0], status = _b[1];
  useRegisterResources(routesAndResources.resources, permissions);
  return {
    customRoutesWithLayout: routesAndResources.customRoutesWithLayout,
    customRoutesWithoutLayout: routesAndResources.customRoutesWithoutLayout,
    status,
    resources: routesAndResources.resources
  };
};
var useRoutesAndResourcesFromChildren = function(children, permissions, isLoading) {
  var doLogout = useLogout_default();
  var _a = useRoutesAndResourcesState(getRoutesAndResourceFromNodes(children)), routesAndResources = _a[0], setRoutesAndResources = _a[1], mergeRoutesAndResources = _a[2];
  var _b = useSafeSetState(function() {
    return getStatus(__assign49({ children }, routesAndResources));
  }), status = _b[0], setStatus = _b[1];
  if (!status) {
    throw new Error("Status should be defined");
  }
  (0, import_react119.useEffect)(function() {
    var resolveChildFunction = function(childFunc) {
      return __awaiter15(void 0, void 0, void 0, function() {
        var childrenFuncResult;
        return __generator15(this, function(_a2) {
          try {
            childrenFuncResult = childFunc(permissions);
            if (childrenFuncResult === null || childrenFuncResult === void 0 ? void 0 : childrenFuncResult.then) {
              childrenFuncResult.then(function(resolvedChildren) {
                mergeRoutesAndResources(getRoutesAndResourceFromNodes(resolvedChildren));
                setStatus("ready");
              });
            } else {
              mergeRoutesAndResources(getRoutesAndResourceFromNodes(childrenFuncResult));
              setStatus("ready");
            }
          } catch (error) {
            console.error(error);
            doLogout();
          }
          return [
            2
            /*return*/
          ];
        });
      });
    };
    var updateFromChildren = function() {
      return __awaiter15(void 0, void 0, void 0, function() {
        var functionChild, newRoutesAndResources;
        return __generator15(this, function(_a2) {
          functionChild = getSingleChildFunction(children);
          newRoutesAndResources = getRoutesAndResourceFromNodes(children);
          setRoutesAndResources(newRoutesAndResources);
          setStatus(!!functionChild ? "loading" : newRoutesAndResources.resources.length > 0 || newRoutesAndResources.customRoutesWithLayout.length > 0 || newRoutesAndResources.customRoutesWithoutLayout.length > 0 ? "ready" : "empty");
          if (functionChild) {
            resolveChildFunction(functionChild);
          }
          return [
            2
            /*return*/
          ];
        });
      });
    };
    if (!isLoading) {
      updateFromChildren();
    }
  }, [
    children,
    doLogout,
    isLoading,
    mergeRoutesAndResources,
    permissions,
    setRoutesAndResources,
    setStatus
  ]);
  return [routesAndResources, status];
};
var useRoutesAndResourcesState = function(initialState) {
  var _a = (0, import_react119.useState)(initialState), routesAndResources = _a[0], setRoutesAndResources = _a[1];
  var mergeRoutesAndResources = (0, import_react119.useCallback)(function(newRoutesAndResources) {
    setRoutesAndResources(function(previous) {
      return {
        customRoutesWithLayout: previous.customRoutesWithLayout.concat(newRoutesAndResources.customRoutesWithLayout),
        customRoutesWithoutLayout: previous.customRoutesWithoutLayout.concat(newRoutesAndResources.customRoutesWithoutLayout),
        resources: previous.resources.concat(newRoutesAndResources.resources)
      };
    });
  }, []);
  return [routesAndResources, setRoutesAndResources, mergeRoutesAndResources];
};
var useRegisterResources = function(resources, permissions) {
  var _a = useResourceDefinitionContext(), register = _a.register, unregister = _a.unregister;
  (0, import_react119.useEffect)(function() {
    resources.forEach(function(resource) {
      if (typeof resource.type.registerResource === "function") {
        var definition = resource.type.registerResource(resource.props, permissions);
        register(definition);
      } else {
        throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition");
      }
    });
    return function() {
      resources.forEach(function(resource) {
        if (typeof resource.type.registerResource === "function") {
          var definition = resource.type.registerResource(resource.props, permissions);
          unregister(definition);
        } else {
          throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition");
        }
      });
    };
  }, [permissions, register, resources, unregister]);
};
var getStatus = function(_a) {
  var children = _a.children, resources = _a.resources, customRoutesWithLayout = _a.customRoutesWithLayout, customRoutesWithoutLayout = _a.customRoutesWithoutLayout;
  return getSingleChildFunction(children) ? "loading" : resources.length > 0 || customRoutesWithLayout.length > 0 || customRoutesWithoutLayout.length > 0 ? "ready" : "empty";
};
var getSingleChildFunction = function(children) {
  var childrenArray = Array.isArray(children) ? children : [children];
  var functionChildren = childrenArray.filter(function(child) {
    return typeof child === "function";
  });
  if (functionChildren.length > 1) {
    throw new Error("You can only provide one function child to AdminRouter");
  }
  if (functionChildren.length === 0) {
    return null;
  }
  return functionChildren[0];
};
var getRoutesAndResourceFromNodes = function(children) {
  var customRoutesWithLayout = [];
  var customRoutesWithoutLayout = [];
  var resources = [];
  if (typeof children === "function") {
    return {
      customRoutesWithLayout: [],
      customRoutesWithoutLayout: [],
      resources: []
    };
  }
  import_react119.Children.forEach(children, function(element) {
    if (!React38.isValidElement(element)) {
      return;
    }
    if (element.type === import_react119.Fragment) {
      var customRoutesFromFragment = getRoutesAndResourceFromNodes(element.props.children);
      customRoutesWithLayout.push.apply(customRoutesWithLayout, customRoutesFromFragment.customRoutesWithLayout);
      customRoutesWithoutLayout.push.apply(customRoutesWithoutLayout, customRoutesFromFragment.customRoutesWithoutLayout);
      resources.push.apply(resources, customRoutesFromFragment.resources);
    }
    if (element.type.raName === "CustomRoutes") {
      var customRoutesElement = element;
      if (customRoutesElement.props.noLayout) {
        customRoutesWithoutLayout.push(customRoutesElement.props.children);
      } else {
        customRoutesWithLayout.push(customRoutesElement.props.children);
      }
    } else if (element.type.raName === "Resource") {
      resources.push(element);
    }
  });
  return {
    customRoutesWithLayout,
    customRoutesWithoutLayout,
    resources
  };
};

// node_modules/ra-core/dist/esm/core/HasDashboardContext.js
var import_react120 = __toESM(require_react());
var HasDashboardContext = (0, import_react120.createContext)(false);
var HasDashboardContextProvider = HasDashboardContext.Provider;
var useHasDashboard = function() {
  return (0, import_react120.useContext)(HasDashboardContext);
};

// node_modules/ra-core/dist/esm/core/CoreAdminRoutes.js
var CoreAdminRoutes = function(props) {
  useScrollToTop();
  var createPath = useCreatePath();
  var _a = useConfigureAdminRouterFromChildren(props.children), customRoutesWithLayout = _a.customRoutesWithLayout, customRoutesWithoutLayout = _a.customRoutesWithoutLayout, status = _a.status, resources = _a.resources;
  var Layout = props.layout, CatchAll = props.catchAll, dashboard = props.dashboard, LoadingPage = props.loading, requireAuth = props.requireAuth, Ready = props.ready;
  var _b = (0, import_react121.useState)(requireAuth), onlyAnonymousRoutes = _b[0], setOnlyAnonymousRoutes = _b[1];
  var _c = (0, import_react121.useState)(requireAuth), checkAuthLoading = _c[0], setCheckAuthLoading = _c[1];
  var checkAuth = useCheckAuth();
  (0, import_react121.useEffect)(function() {
    if (requireAuth) {
      checkAuth(void 0, false).then(function() {
        setOnlyAnonymousRoutes(false);
      }).catch(function() {
      }).finally(function() {
        setCheckAuthLoading(false);
      });
    }
  }, [checkAuth, requireAuth]);
  if (status === "empty") {
    if (!Ready) {
      throw new Error("The admin is empty. Please provide an empty component, or pass Resource or CustomRoutes as children.");
    }
    return React39.createElement(Ready, null);
  }
  if (status === "loading" || checkAuthLoading) {
    return React39.createElement(
      Routes,
      null,
      customRoutesWithoutLayout,
      React39.createElement(Route, { path: "*", element: React39.createElement(
        "div",
        { style: { height: "100vh" } },
        React39.createElement(LoadingPage, null)
      ) })
    );
  }
  if (onlyAnonymousRoutes) {
    return React39.createElement(
      Routes,
      null,
      customRoutesWithoutLayout,
      React39.createElement(Route, { path: "*", element: React39.createElement(LogoutOnMount, null) })
    );
  }
  return React39.createElement(
    Routes,
    null,
    customRoutesWithoutLayout,
    React39.createElement(Route, { path: "/*", element: React39.createElement(
      HasDashboardContextProvider,
      { value: !!dashboard },
      React39.createElement(
        Layout,
        null,
        React39.createElement(
          Routes,
          null,
          customRoutesWithLayout,
          import_react121.Children.map(resources, function(resource) {
            return React39.createElement(Route, { key: resource.props.name, path: "".concat(resource.props.name, "/*"), element: resource });
          }),
          React39.createElement(Route, { path: "/", element: dashboard ? React39.createElement(WithPermissions_default, { authParams: defaultAuthParams2, component: dashboard }) : resources.length > 0 ? React39.createElement(Navigate, { to: createPath({
            resource: resources[0].props.name,
            type: "list"
          }) }) : null }),
          React39.createElement(Route, { path: "*", element: React39.createElement(CatchAll, null) })
        )
      )
    ) })
  );
};
var defaultAuthParams2 = { params: { route: "dashboard" } };

// node_modules/ra-core/dist/esm/core/DefaultTitleContext.js
var import_react122 = __toESM(require_react());
var DefaultTitleContext = (0, import_react122.createContext)("React Admin");
var DefaultTitleContextProvider = DefaultTitleContext.Provider;
var useDefaultTitle = function() {
  return (0, import_react122.useContext)(DefaultTitleContext);
};

// node_modules/ra-core/dist/esm/core/CoreAdminUI.js
var DefaultLayout = function(_a) {
  var children = _a.children;
  return React40.createElement(React40.Fragment, null, children);
};
var DefaultError = function(_a) {
  var error = _a.error, errorInfo = _a.errorInfo, resetErrorBoundary = _a.resetErrorBoundary;
  useResetErrorBoundaryOnLocationChange(resetErrorBoundary);
  return React40.createElement(
    "div",
    null,
    React40.createElement("h1", null, "Error"),
    React40.createElement(
      "pre",
      null,
      error.message,
      errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.componentStack
    )
  );
};
var CoreAdminUI = function(props) {
  var _a = (0, import_react123.useState)({}), errorInfo = _a[0], setErrorInfo = _a[1];
  var _b = props.authCallbackPage, LoginCallbackPage = _b === void 0 ? false : _b, _c = props.catchAll, catchAll = _c === void 0 ? Noop : _c, children = props.children, dashboard = props.dashboard, _d = props.disableTelemetry, disableTelemetry = _d === void 0 ? false : _d, _e = props.error, ErrorComponent = _e === void 0 ? DefaultError : _e, _f = props.layout, layout = _f === void 0 ? DefaultLayout : _f, _g = props.loading, loading = _g === void 0 ? Noop : _g, _h = props.loginPage, LoginPage = _h === void 0 ? false : _h, _j = props.ready, ready = _j === void 0 ? Ready_default : _j, _k = props.requireAuth, requireAuth = _k === void 0 ? false : _k, _l = props.title, title = _l === void 0 ? "React Admin" : _l;
  (0, import_react123.useEffect)(function() {
    if (disableTelemetry || true) {
      return;
    }
    var img = new Image();
    img.src = "https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=".concat(window.location.hostname);
  }, [disableTelemetry]);
  var handleError = function(error, info) {
    return setErrorInfo(info);
  };
  return React40.createElement(
    DefaultTitleContextProvider,
    { value: title },
    React40.createElement(
      ErrorBoundary,
      { onError: handleError, fallbackRender: function(_a2) {
        var error = _a2.error, resetErrorBoundary = _a2.resetErrorBoundary;
        return React40.createElement(
          "div",
          { style: { minHeight: "100vh" } },
          React40.createElement(ErrorComponent, { error, errorInfo, resetErrorBoundary })
        );
      } },
      React40.createElement(
        Routes,
        null,
        LoginPage !== false && LoginPage !== true ? React40.createElement(Route, { path: "/login", element: createOrGetElement(LoginPage) }) : null,
        LoginCallbackPage !== false && LoginCallbackPage !== true ? React40.createElement(Route, { path: "/auth-callback", element: createOrGetElement(LoginCallbackPage) }) : null,
        React40.createElement(Route, { path: "/*", element: React40.createElement(CoreAdminRoutes, { catchAll, dashboard, layout, loading, requireAuth, ready }, children) })
      )
    )
  );
};
var createOrGetElement = function(el) {
  return (0, import_react123.isValidElement)(el) ? el : (0, import_react123.createElement)(el);
};
var Noop = function() {
  return null;
};

// node_modules/ra-core/dist/esm/core/CoreAdmin.js
var CoreAdmin = function(props) {
  var authProvider = props.authProvider, basename = props.basename, catchAll = props.catchAll, children = props.children, dashboard = props.dashboard, dataProvider = props.dataProvider, disableTelemetry = props.disableTelemetry, error = props.error, i18nProvider = props.i18nProvider, queryClient = props.queryClient, layout = props.layout, loading = props.loading, loginPage = props.loginPage, ready = props.ready, requireAuth = props.requireAuth, store = props.store, _a = props.title, title = _a === void 0 ? "React Admin" : _a;
  return React41.createElement(
    CoreAdminContext,
    { authProvider, basename, dataProvider, i18nProvider, queryClient, store },
    React41.createElement(CoreAdminUI, { layout, dashboard, disableTelemetry, catchAll, title, loading, error, loginPage, requireAuth, ready }, children)
  );
};

// node_modules/ra-core/dist/esm/core/CustomRoutes.js
var CustomRoutes = function(_props) {
  return null;
};
CustomRoutes.raName = "CustomRoutes";

// node_modules/ra-core/dist/esm/core/OptionalResourceContextProvider.js
var React43 = __toESM(require_react());

// node_modules/ra-core/dist/esm/core/ResourceContextProvider.js
var React42 = __toESM(require_react());

// node_modules/ra-core/dist/esm/core/ResourceContext.js
var import_react124 = __toESM(require_react());
var ResourceContext = (0, import_react124.createContext)(void 0);

// node_modules/ra-core/dist/esm/core/ResourceContextProvider.js
var ResourceContextProvider = function(_a) {
  var children = _a.children, value = _a.value;
  return value ? React42.createElement(ResourceContext.Provider, { value }, children) : children;
};

// node_modules/ra-core/dist/esm/core/OptionalResourceContextProvider.js
var OptionalResourceContextProvider = function(_a) {
  var value = _a.value, children = _a.children;
  return value ? React43.createElement(ResourceContextProvider, { value }, children) : children;
};

// node_modules/ra-core/dist/esm/core/Resource.js
var React44 = __toESM(require_react());
var import_react125 = __toESM(require_react());
var import_react_is = __toESM(require_react_is());
var Resource = function(props) {
  var create = props.create, edit = props.edit, list = props.list, name = props.name, show = props.show;
  return React44.createElement(
    ResourceContextProvider,
    { value: name },
    React44.createElement(
      Routes,
      null,
      create && React44.createElement(Route, { path: "create/*", element: getElement(create) }),
      show && React44.createElement(Route, { path: ":id/show/*", element: getElement(show) }),
      edit && React44.createElement(Route, { path: ":id/*", element: getElement(edit) }),
      list && React44.createElement(Route, { path: "/*", element: React44.createElement(RestoreScrollPosition, { storeKey: "".concat(name, ".list.scrollPosition") }, getElement(list)) }),
      props.children
    )
  );
};
var getElement = function(ElementOrComponent) {
  if ((0, import_react125.isValidElement)(ElementOrComponent)) {
    return ElementOrComponent;
  }
  if ((0, import_react_is.isValidElementType)(ElementOrComponent)) {
    var Element_1 = ElementOrComponent;
    return React44.createElement(Element_1, null);
  }
  return null;
};
Resource.raName = "Resource";
Resource.registerResource = function(_a) {
  var create = _a.create, edit = _a.edit, icon = _a.icon, list = _a.list, name = _a.name, options = _a.options, show = _a.show, recordRepresentation = _a.recordRepresentation, hasCreate = _a.hasCreate, hasEdit = _a.hasEdit, hasShow = _a.hasShow;
  return {
    name,
    options,
    hasList: !!list,
    hasCreate: !!create || !!hasCreate,
    hasEdit: !!edit || !!hasEdit,
    hasShow: !!show || !!hasShow,
    icon,
    recordRepresentation
  };
};

// node_modules/ra-core/dist/esm/core/SourceContext.js
var import_react126 = __toESM(require_react());
var SourceContext = (0, import_react126.createContext)(void 0);
var defaultContextValue = {
  getSource: function(source) {
    return source;
  },
  getLabel: function(source) {
    return source;
  }
};
var SourceContextProvider = SourceContext.Provider;
var useSourceContext = function() {
  var context = (0, import_react126.useContext)(SourceContext);
  if (!context) {
    return defaultContextValue;
  }
  return context;
};
var useOptionalSourceContext = function() {
  return (0, import_react126.useContext)(SourceContext);
};

// node_modules/ra-core/dist/esm/core/useResourceDefinitions.js
var useResourceDefinitions = function() {
  return useResourceDefinitionContext().definitions;
};

// node_modules/ra-core/dist/esm/core/useGetResourceLabel.js
var import_inflection = __toESM(require_inflection());
var useGetResourceLabel = function() {
  var translate = useTranslate();
  var definitions = useResourceDefinitions();
  return function(resource, count) {
    if (count === void 0) {
      count = 2;
    }
    var resourceDefinition = definitions[resource];
    var label = translate("resources.".concat(resource, ".name"), {
      smart_count: count,
      _: resourceDefinition && resourceDefinition.options && resourceDefinition.options.label ? translate(resourceDefinition.options.label, {
        smart_count: count,
        _: resourceDefinition.options.label
      }) : (0, import_inflection.humanize)(count > 1 ? (0, import_inflection.pluralize)(resource) : (0, import_inflection.singularize)(resource))
    });
    return label;
  };
};

// node_modules/ra-core/dist/esm/core/useResourceContext.js
var import_react127 = __toESM(require_react());
var useResourceContext = function(props) {
  var context = (0, import_react127.useContext)(ResourceContext);
  return props && props.resource || context;
};

// node_modules/ra-core/dist/esm/core/useResourceDefinition.js
var import_react128 = __toESM(require_react());
var import_defaults2 = __toESM(require_defaults());
var useResourceDefinition = function(props) {
  var resource = useResourceContext(props);
  var resourceDefinitions = useResourceDefinitions();
  var _a = props || {}, hasCreate = _a.hasCreate, hasEdit = _a.hasEdit, hasList = _a.hasList, hasShow = _a.hasShow, recordRepresentation = _a.recordRepresentation;
  var definition = (0, import_react128.useMemo)(function() {
    return (0, import_defaults2.default)({}, {
      hasCreate,
      hasEdit,
      hasList,
      hasShow,
      recordRepresentation
    }, resource ? resourceDefinitions[resource] : {});
  }, [
    resource,
    resourceDefinitions,
    hasCreate,
    hasEdit,
    hasList,
    hasShow,
    recordRepresentation
  ]);
  return definition;
};

// node_modules/ra-core/dist/esm/core/useGetRecordRepresentation.js
var React45 = __toESM(require_react());
var import_react129 = __toESM(require_react());
var import_get13 = __toESM(require_get());
var useGetRecordRepresentation = function(resource) {
  var recordRepresentation = useResourceDefinition({ resource }).recordRepresentation;
  return (0, import_react129.useCallback)(function(record) {
    if (!record)
      return "";
    if (typeof recordRepresentation === "function") {
      return recordRepresentation(record);
    }
    if (typeof recordRepresentation === "string") {
      return (0, import_get13.default)(record, recordRepresentation);
    }
    if (React45.isValidElement(recordRepresentation)) {
      return recordRepresentation;
    }
    if ((record === null || record === void 0 ? void 0 : record.name) != null && (record === null || record === void 0 ? void 0 : record.name) !== "") {
      return record.name;
    }
    if ((record === null || record === void 0 ? void 0 : record.title) != null && (record === null || record === void 0 ? void 0 : record.title) !== "") {
      return record.title;
    }
    if ((record === null || record === void 0 ? void 0 : record.label) != null && (record === null || record === void 0 ? void 0 : record.label) !== "") {
      return record.label;
    }
    if ((record === null || record === void 0 ? void 0 : record.reference) != null && (record === null || record === void 0 ? void 0 : record.reference) !== "") {
      return record.reference;
    }
    return "#".concat(record.id);
  }, [recordRepresentation]);
};

// node_modules/ra-core/dist/esm/core/useWrappedSource.js
var useWrappedSource = function(source) {
  var sourceContext = useSourceContext();
  return sourceContext.getSource(source);
};

// node_modules/ra-core/dist/esm/i18n/useTranslateLabel.js
var useTranslateLabel = function() {
  var translate = useTranslate();
  var resourceFromContext = useResourceContext();
  var sourceContext = useOptionalSourceContext();
  return (0, import_react130.useCallback)(function(_a) {
    var source = _a.source, label = _a.label, resource = _a.resource;
    if (label === false || label === "") {
      return null;
    }
    if (label && typeof label !== "string") {
      return label;
    }
    return translate.apply(void 0, getFieldLabelTranslationArgs({
      label,
      defaultLabel: source ? sourceContext === null || sourceContext === void 0 ? void 0 : sourceContext.getLabel(source) : void 0,
      resource,
      resourceFromContext,
      source
    }));
  }, [resourceFromContext, translate, sourceContext]);
};

// node_modules/ra-core/dist/esm/i18n/index.js
var DEFAULT_LOCALE = "en";

// node_modules/ra-core/dist/esm/util/FieldTitle.js
var FieldTitle = function(props) {
  var source = props.source, label = props.label, resource = props.resource, isRequired3 = props.isRequired;
  var translateLabel = useTranslateLabel();
  if (label === true) {
    throw new Error("Label parameter must be a string, a ReactElement or false");
  }
  if (label === false || label === "") {
    return null;
  }
  if (label && typeof label !== "string") {
    return label;
  }
  return React46.createElement(
    "span",
    null,
    translateLabel({
      label,
      resource,
      source
    }),
    isRequired3 && React46.createElement("span", { "aria-hidden": "true" }, " *")
  );
};
FieldTitle.displayName = "FieldTitle";
var FieldTitle_default = (0, import_react131.memo)(FieldTitle);

// node_modules/ra-core/dist/esm/util/Ready.js
var React47 = __toESM(require_react());
var import_react132 = __toESM(require_react());
var __assign50 = function() {
  __assign50 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign50.apply(this, arguments);
};
var styles = {
  root: {
    width: "100vw",
    height: "100vh",
    display: "flex",
    flexDirection: "column",
    fontFamily: '"Roboto", sans-serif'
  },
  main: {
    flex: 1,
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    textAlign: "center",
    flexDirection: "column",
    background: "linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)",
    color: "white",
    fontSize: "1.5em",
    fontWeight: "bold"
  },
  secondary: {
    height: "20vh",
    background: "#e8e8e8",
    color: "black",
    display: "flex",
    alignItems: "center",
    justifyContent: "space-evenly"
  },
  link: {
    textAlign: "center",
    width: 150,
    display: "block",
    textDecoration: "none",
    color: "black",
    opacity: 0.7
  },
  linkHovered: {
    opacity: 1
  },
  image: {
    width: 50
  },
  logo: {
    height: 100
  }
};
var Button = function(_a) {
  var img = _a.img, label = _a.label, href = _a.href;
  var _b = (0, import_react132.useState)(false), hovered = _b[0], setHovered = _b[1];
  return React47.createElement(
    "div",
    null,
    React47.createElement(
      "a",
      { href, style: hovered ? __assign50(__assign50({}, styles.link), styles.linkHovered) : styles.link, onMouseEnter: function() {
        return setHovered(true);
      }, onMouseLeave: function() {
        return setHovered(false);
      } },
      React47.createElement("img", { src: img, alt: label, style: styles.image }),
      React47.createElement("br", null),
      label
    )
  );
};
var Ready_default = function() {
  return false ? React47.createElement("span", null) : React47.createElement(
    "div",
    { style: styles.root },
    React47.createElement(
      "div",
      { style: styles.main },
      React47.createElement("img", { style: styles.logo, src: "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=", alt: "react-admin logo" }),
      React47.createElement("h1", null, "Welcome to React-admin"),
      React47.createElement(
        "div",
        null,
        "Your application is properly configured.",
        React47.createElement("br", null),
        "Now you can add a <Resource> as child of <Admin>."
      )
    ),
    React47.createElement(
      "div",
      { style: styles.secondary },
      React47.createElement(Button, { href: "https://marmelab.com/react-admin/documentation.html", img: "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=", label: "Documentation" }),
      React47.createElement(Button, { href: "https://github.com/marmelab/react-admin/tree/master/examples", img: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=", label: "Examples" }),
      React47.createElement(Button, { href: "https://stackoverflow.com/questions/tagged/react-admin", img: "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=", label: "Community" })
    )
  );
};

// node_modules/ra-core/dist/esm/util/warning.js
var warning_default = function(condition, message) {
  if (condition && true) {
    console.warn(message);
  }
};

// node_modules/ra-core/dist/esm/util/useWhyDidYouUpdate.js
var import_react133 = __toESM(require_react());
var __assign51 = function() {
  __assign51 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign51.apply(this, arguments);
};
function useWhyDidYouUpdate(name, props) {
  var previousProps = (0, import_react133.useRef)();
  (0, import_react133.useEffect)(function() {
    if (previousProps.current) {
      var allKeys = Object.keys(__assign51(__assign51({}, previousProps.current), props));
      var changesObj_1 = {};
      allKeys.forEach(function(key) {
        if (previousProps.current[key] !== props[key]) {
          changesObj_1[key] = {
            from: previousProps.current[key],
            to: props[key]
          };
        }
      });
      if (Object.keys(changesObj_1).length) {
        console.log("[why-did-you-update]", name, changesObj_1);
      }
    }
    previousProps.current = props;
  });
}

// node_modules/ra-core/dist/esm/util/getMutationMode.js
var getMutationMode = function(mutationMode, undoable) {
  if (mutationMode) {
    return mutationMode;
  }
  switch (undoable) {
    case true:
      return "undoable";
    case false:
      return "pessimistic";
    default:
      return "undoable";
  }
};

// node_modules/ra-core/dist/esm/util/getFieldLabelTranslationArgs.js
var import_inflection2 = __toESM(require_inflection());
var getFieldLabelTranslationArgs = function(options) {
  if (!options)
    return [""];
  var label = options.label, defaultLabel = options.defaultLabel, resource = options.resource, resourceFromContext = options.resourceFromContext, source = options.source;
  if (typeof label !== "undefined")
    return [label, { _: label }];
  if (typeof source === "undefined")
    return [""];
  var _a = getSourceParts(source), sourceWithoutDigits = _a.sourceWithoutDigits, sourceSuffix = _a.sourceSuffix;
  var defaultLabelTranslation = (0, import_inflection2.transform)(sourceSuffix.replace(/\./g, " "), ["underscore", "humanize"]);
  if (resource) {
    return [
      getResourceFieldLabelKey(resource, sourceWithoutDigits),
      { _: defaultLabelTranslation }
    ];
  }
  if (defaultLabel) {
    return [defaultLabel, { _: defaultLabelTranslation }];
  }
  return [
    getResourceFieldLabelKey(resourceFromContext || "undefined", sourceWithoutDigits),
    { _: defaultLabelTranslation }
  ];
};
var getResourceFieldLabelKey = function(resource, source) {
  return "resources.".concat(resource, ".fields.").concat(source);
};
var getSourceParts = function(source) {
  var sourceWithoutDigits = source.replace(/\.\d+\./g, ".");
  var parts = source.split(".");
  var lastPartWithDigits;
  parts.forEach(function(part, index) {
    if (onlyDigits(part)) {
      lastPartWithDigits = index;
    }
  });
  var sourceSuffix = lastPartWithDigits != null ? parts.slice(lastPartWithDigits + 1).join(".") : source;
  return { sourceWithoutDigits, sourceSuffix };
};
var onlyDigits = function(s) {
  for (var i = s.length - 1; i >= 0; i--) {
    var d = s.charCodeAt(i);
    if (d < 48 || d > 57)
      return false;
  }
  return true;
};

// node_modules/ra-core/dist/esm/util/mergeRefs.js
function mergeRefs(refs) {
  return function(value) {
    refs.forEach(function(ref) {
      if (typeof ref === "function") {
        ref(value);
      } else if (ref != null) {
        ref.current = value;
      }
    });
  };
}

// node_modules/ra-core/dist/esm/util/useEvent.js
var React48 = __toESM(require_react());
var import_react134 = __toESM(require_react());
var useLayoutEffect2 = typeof window !== "undefined" ? React48.useLayoutEffect : React48.useEffect;
var useEvent = function(fn) {
  var ref = React48.useRef(function() {
    throw new Error("Cannot call an event handler while rendering.");
  });
  useLayoutEffect2(function() {
    ref.current = fn;
  });
  return (0, import_react134.useCallback)(function() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }
    return ref.current.apply(ref, args);
  }, []);
};

// node_modules/ra-core/dist/esm/util/useFieldValue.js
var import_get14 = __toESM(require_get());
var useFieldValue = function(params) {
  var defaultValue = params.defaultValue, source = params.source;
  var record = useRecordContext(params);
  return (0, import_get14.default)(record, source, defaultValue);
};

// node_modules/ra-core/dist/esm/util/asyncDebounce.js
var import_debounce6 = __toESM(require_debounce());
function asyncDebounce(func, wait) {
  var resolveSet = /* @__PURE__ */ new Set();
  var rejectSet = /* @__PURE__ */ new Set();
  var debounced = (0, import_debounce6.default)(function(args) {
    func.apply(void 0, args).then(function() {
      var res = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        res[_i] = arguments[_i];
      }
      resolveSet.forEach(function(resolve) {
        return resolve.apply(void 0, res);
      });
    }).catch(function() {
      var res = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        res[_i] = arguments[_i];
      }
      rejectSet.forEach(function(reject) {
        return reject.apply(void 0, res);
      });
    }).finally(function() {
      resolveSet.clear();
      rejectSet.clear();
    });
  }, wait);
  return function() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }
    return new Promise(function(resolve, reject) {
      resolveSet.add(resolve);
      rejectSet.add(reject);
      debounced(args);
    });
  };
}

// node_modules/ra-core/dist/esm/util/useCheckForApplicationUpdate.js
var import_react135 = __toESM(require_react());
var __awaiter16 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator16 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var useCheckForApplicationUpdate = function(options) {
  var _a = options.url, url = _a === void 0 ? window.location.href : _a, fetchOptions = options.fetchOptions, _b = options.interval, delay = _b === void 0 ? ONE_HOUR : _b, onNewVersionAvailableProp = options.onNewVersionAvailable, _c = options.disabled, disabled = _c === void 0 ? true : _c;
  var currentHash = (0, import_react135.useRef)();
  var onNewVersionAvailable = useEvent(onNewVersionAvailableProp);
  (0, import_react135.useEffect)(function() {
    if (disabled)
      return;
    getHashForUrl(url, fetchOptions).then(function(hash2) {
      if (hash2 != null) {
        currentHash.current = hash2;
      }
    });
  }, [disabled, url, JSON.stringify(fetchOptions)]);
  (0, import_react135.useEffect)(function() {
    if (disabled)
      return;
    var interval = setInterval(function() {
      getHashForUrl(url, fetchOptions).then(function(hash2) {
        if (hash2 != null && currentHash.current !== hash2) {
          currentHash.current = hash2;
          onNewVersionAvailable();
        }
      }).catch(function() {
      });
    }, delay);
    return function() {
      return clearInterval(interval);
    };
  }, [
    delay,
    onNewVersionAvailable,
    disabled,
    url,
    // eslint-disable-next-line react-hooks/exhaustive-deps
    JSON.stringify(fetchOptions)
  ]);
};
var getHashForUrl = function(url, fetchOptions) {
  return __awaiter16(void 0, void 0, void 0, function() {
    var response, text, e_1;
    return __generator16(this, function(_a) {
      switch (_a.label) {
        case 0:
          _a.trys.push([0, 3, , 4]);
          return [4, fetch(url, fetchOptions)];
        case 1:
          response = _a.sent();
          if (!response.ok)
            return [2, null];
          return [4, response.text()];
        case 2:
          text = _a.sent();
          return [2, hash(text)];
        case 3:
          e_1 = _a.sent();
          return [2, null];
        case 4:
          return [
            2
            /*return*/
          ];
      }
    });
  });
};
var hash = function(value, seed) {
  if (seed === void 0) {
    seed = 0;
  }
  var h1 = 3735928559 ^ seed, h2 = 1103547991 ^ seed;
  for (var i = 0, ch = void 0; i < value.length; i++) {
    ch = value.charCodeAt(i);
    h1 = Math.imul(h1 ^ ch, 2654435761);
    h2 = Math.imul(h2 ^ ch, 1597334677);
  }
  h1 = Math.imul(h1 ^ h1 >>> 16, 2246822507);
  h1 ^= Math.imul(h2 ^ h2 >>> 13, 3266489909);
  h2 = Math.imul(h2 ^ h2 >>> 16, 2246822507);
  h2 ^= Math.imul(h1 ^ h1 >>> 13, 3266489909);
  return 4294967296 * (2097151 & h2) + (h1 >>> 0);
};
var ONE_HOUR = 1e3 * 60 * 60;

// node_modules/ra-core/dist/esm/store/useStore.js
var useStore = function(key, defaultValue) {
  var _a = useStoreContext(), getItem = _a.getItem, setItem = _a.setItem, subscribe = _a.subscribe;
  var _b = (0, import_react136.useState)(function() {
    return getItem(key, defaultValue);
  }), value = _b[0], setValue = _b[1];
  (0, import_react136.useEffect)(function() {
    var storedValue = getItem(key, defaultValue);
    if (!(0, import_isEqual7.default)(value, storedValue)) {
      setValue(storedValue);
    }
    var unsubscribe = subscribe(key, function(newValue) {
      setValue(typeof newValue === "undefined" ? defaultValue : newValue);
    });
    return function() {
      return unsubscribe();
    };
  }, [key, subscribe, defaultValue, getItem, value]);
  var set6 = useEvent(function(valueParam, runtimeDefaultValue) {
    var newValue = typeof valueParam === "function" ? valueParam(value) : valueParam;
    setItem(key, typeof newValue === "undefined" ? typeof runtimeDefaultValue === "undefined" ? defaultValue : runtimeDefaultValue : newValue);
  });
  return [value, set6];
};

// node_modules/ra-core/dist/esm/store/useRemoveFromStore.js
var import_react137 = __toESM(require_react());
var useRemoveFromStore = function(hookTimeKey) {
  var removeItem = useStoreContext().removeItem;
  return (0, import_react137.useCallback)(function(key) {
    if (typeof key === "undefined" && typeof hookTimeKey === "undefined") {
      throw new Error("You must provide a key to remove an item from the store");
    }
    return removeItem(key !== null && key !== void 0 ? key : hookTimeKey);
  }, [removeItem, hookTimeKey]);
};

// node_modules/ra-core/dist/esm/store/useRemoveItemsFromStore.js
var import_react138 = __toESM(require_react());
var useRemoveItemsFromStore = function(hookTimeKeyPrefix) {
  var removeItems = useStoreContext().removeItems;
  return (0, import_react138.useCallback)(function(keyPrefix) {
    if (typeof keyPrefix === "undefined" && typeof hookTimeKeyPrefix === "undefined") {
      throw new Error("You must provide a key to remove an item from the store");
    }
    return removeItems(keyPrefix !== null && keyPrefix !== void 0 ? keyPrefix : hookTimeKeyPrefix);
  }, [removeItems, hookTimeKeyPrefix]);
};

// node_modules/ra-core/dist/esm/store/useResetStore.js
var useResetStore = function() {
  var reset = useStoreContext().reset;
  return reset;
};

// node_modules/ra-core/dist/esm/auth/useLogout.js
var useLogout = function() {
  var authProvider = useAuthProvider_default();
  var queryClient = useQueryClient();
  var resetStore = useResetStore();
  var navigate = useNavigate();
  var navigateRef = (0, import_react139.useRef)(navigate);
  var location = useLocation();
  var locationRef = (0, import_react139.useRef)(location);
  var basename = useBasename();
  var loginUrl = removeDoubleSlashes("".concat(basename, "/").concat(defaultAuthParams.loginUrl));
  (0, import_react139.useEffect)(function() {
    locationRef.current = location;
    navigateRef.current = navigate;
  }, [location, navigate]);
  var logout = (0, import_react139.useCallback)(function(params, redirectTo, redirectToCurrentLocationAfterLogin) {
    if (params === void 0) {
      params = {};
    }
    if (redirectTo === void 0) {
      redirectTo = loginUrl;
    }
    if (redirectToCurrentLocationAfterLogin === void 0) {
      redirectToCurrentLocationAfterLogin = true;
    }
    if (authProvider) {
      return authProvider.logout(params).then(function(redirectToFromProvider) {
        if (redirectToFromProvider === false || redirectTo === false) {
          resetStore();
          queryClient.clear();
          return;
        }
        var finalRedirectTo = redirectToFromProvider || redirectTo;
        if (finalRedirectTo === null || finalRedirectTo === void 0 ? void 0 : finalRedirectTo.startsWith("http")) {
          resetStore();
          queryClient.clear();
          window.location.href = finalRedirectTo;
          return finalRedirectTo;
        }
        var redirectToParts = finalRedirectTo.split("?");
        var newLocation = {
          pathname: redirectToParts[0]
        };
        var newLocationOptions = {};
        if (redirectToCurrentLocationAfterLogin && locationRef.current && locationRef.current.pathname) {
          newLocationOptions = {
            state: {
              nextPathname: locationRef.current.pathname,
              nextSearch: locationRef.current.search
            }
          };
        }
        if (redirectToParts[1]) {
          newLocation.search = redirectToParts[1];
        }
        navigateRef.current(newLocation, newLocationOptions);
        resetStore();
        queryClient.clear();
        return redirectToFromProvider;
      });
    } else {
      navigateRef.current({
        pathname: loginUrl
      }, {
        state: {
          nextPathname: locationRef.current && locationRef.current.pathname
        }
      });
      resetStore();
      queryClient.clear();
      return Promise.resolve();
    }
  }, [authProvider, resetStore, loginUrl, queryClient]);
  return logout;
};
var useLogout_default = useLogout;

// node_modules/ra-core/dist/esm/auth/useAuthState.js
var __assign52 = function() {
  __assign52 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign52.apply(this, arguments);
};
var __rest42 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var emptyParams = {};
var useAuthState = function(params, logoutOnFailure, queryOptions) {
  if (params === void 0) {
    params = emptyParams;
  }
  if (logoutOnFailure === void 0) {
    logoutOnFailure = false;
  }
  if (queryOptions === void 0) {
    queryOptions = emptyParams;
  }
  var authProvider = useAuthProvider_default();
  var logout = useLogout_default();
  var basename = useBasename();
  var notify = useNotify();
  var onSuccess = queryOptions.onSuccess, onError = queryOptions.onError, onSettled = queryOptions.onSettled, options = __rest42(queryOptions, ["onSuccess", "onError", "onSettled"]);
  var result = useQuery(__assign52({ queryKey: ["auth", "checkAuth", params], queryFn: function(_a) {
    var signal = _a.signal;
    if (!authProvider) {
      return true;
    }
    return authProvider.checkAuth(__assign52(__assign52({}, params), { signal })).then(function() {
      return true;
    }).catch(function(error) {
      if (error != null) {
        throw error;
      }
      throw new Error();
    });
  }, retry: false }, options));
  var onSuccessEvent = useEvent(onSuccess !== null && onSuccess !== void 0 ? onSuccess : noop7);
  var onSettledEvent = useEvent(onSettled !== null && onSettled !== void 0 ? onSettled : noop7);
  var onErrorEvent = useEvent(onError !== null && onError !== void 0 ? onError : function(error) {
    var loginUrl = removeDoubleSlashes("".concat(basename, "/").concat(defaultAuthParams.loginUrl));
    if (logoutOnFailure) {
      logout({}, error && error.redirectTo != null ? error.redirectTo : loginUrl);
      var shouldSkipNotify = error && error.message === false;
      !shouldSkipNotify && notify(getErrorMessage2(error, "ra.auth.auth_check_error"), { type: "error" });
    }
  });
  (0, import_react140.useEffect)(function() {
    if (result.data === void 0 || result.isFetching)
      return;
    onSuccessEvent(result.data);
  }, [onSuccessEvent, result.data, result.isFetching]);
  (0, import_react140.useEffect)(function() {
    if (result.error == null || result.isFetching)
      return;
    onErrorEvent(result.error);
  }, [onErrorEvent, result.error, result.isFetching]);
  (0, import_react140.useEffect)(function() {
    if (result.status === "pending" || result.isFetching)
      return;
    onSettledEvent(result.data, result.error);
  }, [
    onSettledEvent,
    result.data,
    result.error,
    result.status,
    result.isFetching
  ]);
  return (0, import_react140.useMemo)(function() {
    var _a;
    return __assign52(__assign52({}, result), {
      // If the data is undefined and the query isn't loading anymore, it means the query failed.
      // In that case, we set authenticated to false unless there's no authProvider.
      authenticated: ((_a = result.data) !== null && _a !== void 0 ? _a : result.isLoading) ? true : authProvider == null
    });
  }, [authProvider, result]);
};
var useAuthState_default = useAuthState;
var getErrorMessage2 = function(error, defaultMessage) {
  return typeof error === "string" ? error : typeof error === "undefined" || !error.message ? defaultMessage : error.message;
};
var noop7 = function() {
};

// node_modules/ra-core/dist/esm/auth/usePermissions.js
var import_react141 = __toESM(require_react());
var __assign53 = function() {
  __assign53 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign53.apply(this, arguments);
};
var __awaiter17 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator17 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest43 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var emptyParams2 = {};
var usePermissions = function(params, queryParams) {
  if (params === void 0) {
    params = emptyParams2;
  }
  if (queryParams === void 0) {
    queryParams = {
      staleTime: 5 * 60 * 1e3
    };
  }
  var authProvider = useAuthProvider_default();
  var logoutIfAccessDenied = useLogoutIfAccessDenied_default();
  var _a = queryParams !== null && queryParams !== void 0 ? queryParams : {}, onSuccess = _a.onSuccess, onError = _a.onError, onSettled = _a.onSettled, queryOptions = __rest43(_a, ["onSuccess", "onError", "onSettled"]);
  var result = useQuery(__assign53({ queryKey: ["auth", "getPermissions", params], queryFn: function(_a2) {
    var signal = _a2.signal;
    return __awaiter17(void 0, void 0, void 0, function() {
      var permissions;
      return __generator17(this, function(_b) {
        switch (_b.label) {
          case 0:
            if (!authProvider)
              return [2, Promise.resolve([])];
            return [4, authProvider.getPermissions(__assign53(__assign53({}, params), { signal }))];
          case 1:
            permissions = _b.sent();
            return [2, permissions !== null && permissions !== void 0 ? permissions : null];
        }
      });
    });
  } }, queryOptions));
  var onSuccessEvent = useEvent(onSuccess !== null && onSuccess !== void 0 ? onSuccess : noop8);
  var onSettledEvent = useEvent(onSettled !== null && onSettled !== void 0 ? onSettled : noop8);
  var onErrorEvent = useEvent(onError !== null && onError !== void 0 ? onError : function(error) {
    if (true) {
      console.error(error);
    }
    logoutIfAccessDenied(error);
  });
  (0, import_react141.useEffect)(function() {
    if (result.data === void 0 || result.isFetching)
      return;
    onSuccessEvent(result.data);
  }, [onSuccessEvent, result.data, result.isFetching]);
  (0, import_react141.useEffect)(function() {
    if (result.error == null || result.isFetching)
      return;
    onErrorEvent(result.error);
  }, [onErrorEvent, result.error, result.isFetching]);
  (0, import_react141.useEffect)(function() {
    if (result.status === "pending" || result.isFetching)
      return;
    onSettledEvent(result.data, result.error);
  }, [
    onSettledEvent,
    result.data,
    result.error,
    result.status,
    result.isFetching
  ]);
  return (0, import_react141.useMemo)(function() {
    return __assign53(__assign53({}, result), { permissions: result.data });
  }, [result]);
};
var usePermissions_default = usePermissions;
var noop8 = function() {
};

// node_modules/ra-core/dist/esm/auth/WithPermissions.js
var import_react142 = __toESM(require_react());

// node_modules/ra-core/dist/esm/auth/useAuthenticated.js
var __rest44 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useAuthenticated = function(_a) {
  if (_a === void 0) {
    _a = {};
  }
  var params = _a.params, options = __rest44(_a, ["params"]);
  useAuthState_default(params !== null && params !== void 0 ? params : emptyParams3, true, options);
};
var emptyParams3 = {};

// node_modules/ra-core/dist/esm/auth/WithPermissions.js
var __assign54 = function() {
  __assign54 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign54.apply(this, arguments);
};
var __rest45 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var isEmptyChildren = function(children) {
  return import_react142.Children.count(children) === 0;
};
var WithPermissions = function(props) {
  var authParams = props.authParams, children = props.children, render = props.render, component = props.component, staticContext = props.staticContext, rest = __rest45(props, ["authParams", "children", "render", "component", "staticContext"]);
  warning_default(render && children && !isEmptyChildren(children) || render && component || component && children && !isEmptyChildren(children), "You should only use one of the `component`, `render` and `children` props in <WithPermissions>");
  useAuthenticated(authParams);
  var permissions = usePermissions_default(authParams).permissions;
  if (component) {
    return (0, import_react142.createElement)(component, __assign54({ permissions }, rest));
  }
  if (render) {
    return render(__assign54({ permissions }, rest));
  }
  if (children) {
    return children(__assign54({ permissions }, rest));
  }
};
var WithPermissions_default = WithPermissions;

// node_modules/ra-core/dist/esm/auth/useLogin.js
var import_react143 = __toESM(require_react());
var useLogin = function() {
  var authProvider = useAuthProvider_default();
  var location = useLocation();
  var locationState = location.state;
  var navigate = useNavigate();
  var basename = useBasename();
  var resetNotifications = useNotificationContext().resetNotifications;
  var nextPathName = locationState && locationState.nextPathname;
  var nextSearch = locationState && locationState.nextSearch;
  var afterLoginUrl = removeDoubleSlashes("".concat(basename, "/").concat(defaultAuthParams.afterLoginUrl));
  var login = (0, import_react143.useCallback)(function(params, pathName) {
    if (params === void 0) {
      params = {};
    }
    if (authProvider) {
      return authProvider.login(params).then(function(ret) {
        resetNotifications();
        if (ret && ret.hasOwnProperty("redirectTo")) {
          if (ret) {
            navigate(ret.redirectTo);
          }
        } else {
          var redirectUrl = pathName ? pathName : nextPathName + nextSearch || afterLoginUrl;
          navigate(redirectUrl);
        }
        return ret;
      });
    } else {
      resetNotifications();
      navigate(afterLoginUrl);
      return Promise.resolve();
    }
  }, [
    authProvider,
    navigate,
    nextPathName,
    nextSearch,
    resetNotifications,
    afterLoginUrl
  ]);
  return login;
};
var useLogin_default = useLogin;

// node_modules/ra-core/dist/esm/auth/useGetPermissions.js
var import_react144 = __toESM(require_react());
var getPermissionsWithoutProvider = function() {
  return Promise.resolve([]);
};
var useGetPermissions = function() {
  var authProvider = useAuthProvider_default();
  var getPermissions = (0, import_react144.useCallback)(function(params) {
    if (params === void 0) {
      params = {};
    }
    return authProvider ? authProvider.getPermissions(params).then(function(result) {
      return result !== null && result !== void 0 ? result : null;
    }) : getPermissionsWithoutProvider();
  }, [authProvider]);
  return getPermissions;
};
var useGetPermissions_default = useGetPermissions;

// node_modules/ra-core/dist/esm/auth/types.js
var AUTH_LOGIN = "AUTH_LOGIN";
var AUTH_CHECK = "AUTH_CHECK";
var AUTH_ERROR = "AUTH_ERROR";
var AUTH_LOGOUT = "AUTH_LOGOUT";
var AUTH_GET_PERMISSIONS = "AUTH_GET_PERMISSIONS";

// node_modules/ra-core/dist/esm/auth/convertLegacyAuthProvider.js
var convertLegacyAuthProvider_default = function(legacyAuthProvider) {
  var authProvider = function() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }
    return legacyAuthProvider.apply(null, args);
  };
  authProvider.login = function(params) {
    return legacyAuthProvider(AUTH_LOGIN, params);
  };
  authProvider.logout = function(params) {
    return legacyAuthProvider(AUTH_LOGOUT, params);
  };
  authProvider.checkAuth = function(params) {
    return legacyAuthProvider(AUTH_CHECK, params);
  };
  authProvider.checkError = function(error) {
    return legacyAuthProvider(AUTH_ERROR, error);
  };
  authProvider.getPermissions = function(params) {
    return legacyAuthProvider(AUTH_GET_PERMISSIONS, params);
  };
  return authProvider;
};

// node_modules/ra-core/dist/esm/auth/Authenticated.js
var React49 = __toESM(require_react());
var Authenticated = function(props) {
  var authParams = props.authParams, children = props.children, _a = props.requireAuth, requireAuth = _a === void 0 ? false : _a;
  var _b = useAuthState_default(authParams, true), isPending = _b.isPending, authenticated = _b.authenticated;
  if (requireAuth && isPending || !authenticated) {
    return null;
  }
  return React49.createElement(React49.Fragment, null, children);
};

// node_modules/ra-core/dist/esm/auth/LogoutOnMount.js
var import_react145 = __toESM(require_react());
var LogoutOnMount = function() {
  var logout = useLogout_default();
  (0, import_react145.useEffect)(function() {
    logout();
  }, [logout]);
  return null;
};

// node_modules/ra-core/dist/esm/auth/useCheckAuth.js
var import_react146 = __toESM(require_react());
var useCheckAuth = function() {
  var authProvider = useAuthProvider_default();
  var notify = useNotify();
  var logout = useLogout_default();
  var basename = useBasename();
  var loginUrl = removeDoubleSlashes("".concat(basename, "/").concat(defaultAuthParams.loginUrl));
  var checkAuth = (0, import_react146.useCallback)(function(params, logoutOnFailure, redirectTo) {
    if (params === void 0) {
      params = {};
    }
    if (logoutOnFailure === void 0) {
      logoutOnFailure = true;
    }
    if (redirectTo === void 0) {
      redirectTo = loginUrl;
    }
    return authProvider ? authProvider.checkAuth(params).catch(function(error) {
      if (logoutOnFailure) {
        logout({}, error && error.redirectTo != null ? error.redirectTo : redirectTo);
        var shouldSkipNotify = error && error.message === false;
        !shouldSkipNotify && notify(getErrorMessage3(error, "ra.auth.auth_check_error"), { type: "error" });
      }
      throw error;
    }) : checkAuthWithoutAuthProvider();
  }, [authProvider, logout, notify, loginUrl]);
  return checkAuth;
};
var checkAuthWithoutAuthProvider = function() {
  return Promise.resolve();
};
var getErrorMessage3 = function(error, defaultMessage) {
  return typeof error === "string" ? error : typeof error === "undefined" || !error.message ? defaultMessage : error.message;
};

// node_modules/ra-core/dist/esm/auth/useGetIdentity.js
var import_react147 = __toESM(require_react());
var __assign55 = function() {
  __assign55 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign55.apply(this, arguments);
};
var __awaiter18 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator18 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __rest46 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var defaultIdentity = {
  id: ""
};
var defaultQueryParams = {
  staleTime: 5 * 60 * 1e3
};
var useGetIdentity = function(options) {
  if (options === void 0) {
    options = defaultQueryParams;
  }
  var authProvider = useAuthProvider_default();
  var onSuccess = options.onSuccess, onError = options.onError, onSettled = options.onSettled, queryOptions = __rest46(options, ["onSuccess", "onError", "onSettled"]);
  var result = useQuery(__assign55({ queryKey: ["auth", "getIdentity"], queryFn: function(_a) {
    var signal = _a.signal;
    return __awaiter18(void 0, void 0, void 0, function() {
      return __generator18(this, function(_b) {
        if (authProvider && typeof authProvider.getIdentity === "function") {
          return [2, authProvider.getIdentity({ signal })];
        } else {
          return [2, defaultIdentity];
        }
        return [
          2
          /*return*/
        ];
      });
    });
  } }, queryOptions));
  var onSuccessEvent = useEvent(onSuccess !== null && onSuccess !== void 0 ? onSuccess : noop9);
  var onErrorEvent = useEvent(onError !== null && onError !== void 0 ? onError : noop9);
  var onSettledEvent = useEvent(onSettled !== null && onSettled !== void 0 ? onSettled : noop9);
  (0, import_react147.useEffect)(function() {
    if (result.data === void 0 || result.isFetching)
      return;
    onSuccessEvent(result.data);
  }, [onSuccessEvent, result.data, result.isFetching]);
  (0, import_react147.useEffect)(function() {
    if (result.error == null || result.isFetching)
      return;
    onErrorEvent(result.error);
  }, [onErrorEvent, result.error, result.isFetching]);
  (0, import_react147.useEffect)(function() {
    if (result.status === "pending" || result.isFetching)
      return;
    onSettledEvent(result.data, result.error);
  }, [
    onSettledEvent,
    result.data,
    result.error,
    result.status,
    result.isFetching
  ]);
  return (0, import_react147.useMemo)(function() {
    return __assign55(__assign55({}, result), { identity: result.data });
  }, [result]);
};
var noop9 = function() {
};

// node_modules/ra-core/dist/esm/auth/useHandleAuthCallback.js
var import_react148 = __toESM(require_react());
var __assign56 = function() {
  __assign56 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign56.apply(this, arguments);
};
var __rest47 = function(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
    t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};
var useHandleAuthCallback = function(options) {
  var authProvider = useAuthProvider_default();
  var redirect = useRedirect();
  var location = useLocation();
  var locationState = location.state;
  var nextPathName = locationState && locationState.nextPathname;
  var nextSearch = locationState && locationState.nextSearch;
  var defaultRedirectUrl = nextPathName ? nextPathName + nextSearch : "/";
  var _a = options !== null && options !== void 0 ? options : {}, onSuccess = _a.onSuccess, onError = _a.onError, onSettled = _a.onSettled, queryOptions = __rest47(_a, ["onSuccess", "onError", "onSettled"]);
  var queryResult = useQuery(__assign56({ queryKey: ["auth", "handleCallback"], queryFn: function(_a2) {
    var signal = _a2.signal;
    return authProvider && typeof authProvider.handleCallback === "function" ? authProvider.handleCallback({ signal }).then(function(result) {
      return result !== null && result !== void 0 ? result : null;
    }) : Promise.resolve();
  }, retry: false }, queryOptions));
  var onSuccessEvent = useEvent(onSuccess !== null && onSuccess !== void 0 ? onSuccess : function(data) {
    var _a2;
    var previousLocation = localStorage.getItem(PreviousLocationStorageKey);
    var redirectTo = (_a2 = data === null || data === void 0 ? void 0 : data.redirectTo) !== null && _a2 !== void 0 ? _a2 : previousLocation;
    if (redirectTo === false) {
      return;
    }
    redirect(redirectTo !== null && redirectTo !== void 0 ? redirectTo : defaultRedirectUrl);
  });
  var onErrorEvent = useEvent(onError !== null && onError !== void 0 ? onError : noop10);
  var onSettledEvent = useEvent(onSettled !== null && onSettled !== void 0 ? onSettled : noop10);
  (0, import_react148.useEffect)(function() {
    if (queryResult.error == null || queryResult.isFetching)
      return;
    onErrorEvent(queryResult.error);
  }, [onErrorEvent, queryResult.error, queryResult.isFetching]);
  (0, import_react148.useEffect)(function() {
    if (queryResult.data === void 0 || queryResult.isFetching)
      return;
    onSuccessEvent(queryResult.data);
  }, [onSuccessEvent, queryResult.data, queryResult.isFetching]);
  (0, import_react148.useEffect)(function() {
    if (queryResult.status === "pending" || queryResult.isFetching)
      return;
    onSettledEvent(queryResult.data, queryResult.error);
  }, [
    onSettledEvent,
    queryResult.data,
    queryResult.error,
    queryResult.status,
    queryResult.isFetching
  ]);
  return queryResult;
};
var PreviousLocationStorageKey = "@react-admin/nextPathname";
var noop10 = function() {
};

// node_modules/ra-core/dist/esm/auth/addRefreshAuthToAuthProvider.js
var __awaiter19 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator19 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var addRefreshAuthToAuthProvider = function(provider, refreshAuth) {
  var proxy = new Proxy(provider, {
    get: function(_, name) {
      var _this = this;
      var shouldIntercept = AuthProviderInterceptedMethods.includes(name.toString()) && provider[name.toString()] != null;
      if (shouldIntercept) {
        return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          return __awaiter19(_this, void 0, void 0, function() {
            return __generator19(this, function(_a) {
              switch (_a.label) {
                case 0:
                  return [4, refreshAuth()];
                case 1:
                  _a.sent();
                  return [2, provider[name.toString()].apply(provider, args)];
              }
            });
          });
        };
      }
      return provider[name.toString()];
    }
  });
  return proxy;
};
var AuthProviderInterceptedMethods = [
  "checkAuth",
  "getIdentity",
  "getPermissions"
];

// node_modules/ra-core/dist/esm/auth/addRefreshAuthToDataProvider.js
var __awaiter20 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator20 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var addRefreshAuthToDataProvider = function(provider, refreshAuth) {
  var proxy = new Proxy(provider, {
    get: function(_, name) {
      var _this = this;
      return function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
          args[_i] = arguments[_i];
        }
        return __awaiter20(_this, void 0, void 0, function() {
          return __generator20(this, function(_a) {
            switch (_a.label) {
              case 0:
                return [4, refreshAuth()];
              case 1:
                _a.sent();
                return [2, provider[name.toString()].apply(provider, args)];
            }
          });
        });
      };
    }
  });
  return proxy;
};

// node_modules/ra-core/dist/esm/preferences/PreferenceKeyContext.js
var React50 = __toESM(require_react());
var import_react149 = __toESM(require_react());
var PreferenceKeyContext = (0, import_react149.createContext)("");
var PreferenceKeyContextProvider = function(_a) {
  var _b = _a.value, value = _b === void 0 ? "" : _b, children = _a.children;
  return React50.createElement(PreferenceKeyContext.Provider, { value }, children);
};
var usePreferenceKey = function() {
  return (0, import_react149.useContext)(PreferenceKeyContext);
};

// node_modules/ra-core/dist/esm/preferences/usePreference.js
var usePreference = function(key, defaultValue) {
  var preferenceKey = usePreferenceKey();
  if (!preferenceKey) {
    throw new Error("usePreference cannot be used outside of a Configurable component. Did you forget to wrap your component with <Configurable>? If you don't want to use Configurable, you can use the useStore hook instead.");
  }
  return useStore(preferenceKey && key ? "".concat(preferenceKey, ".").concat(key) : preferenceKey !== null && preferenceKey !== void 0 ? preferenceKey : key, defaultValue);
};

// node_modules/ra-core/dist/esm/preferences/usePreferencesEditor.js
var import_react150 = __toESM(require_react());
var usePreferencesEditor = function() {
  var context = (0, import_react150.useContext)(PreferencesEditorContext);
  if (!context) {
    throw new Error("usePreferencesEditor must be used within a PreferencesEditorContextProvider");
  }
  return context;
};

// node_modules/ra-core/dist/esm/preferences/usePreferenceInput.js
var import_react151 = __toESM(require_react());
var __spreadArray21 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var usePreferenceInput = function(key, defaultValue) {
  var _a = usePreference(key, defaultValue), valueFromStore = _a[0], setValueFromStore = _a[1];
  var _b = (0, import_react151.useState)(valueFromStore), value = _b[0], setValue = _b[1];
  (0, import_react151.useEffect)(function() {
    setValue(valueFromStore || defaultValue);
  }, [valueFromStore, defaultValue]);
  var onChange = function(event) {
    setValue(event.target.value === "" ? defaultValue : event.target.value);
  };
  var onBlur = function() {
    setValueFromStore(value);
  };
  var onKeyDown = function(event) {
    var _a2;
    if (event.key === "Enter") {
      setValueFromStore(value);
      var form = event.target.form;
      if (form) {
        var index = __spreadArray21([], form, true).indexOf(event.target);
        (_a2 = form.elements[index + 1]) === null || _a2 === void 0 ? void 0 : _a2.focus();
      }
      event.preventDefault();
    }
  };
  return { value, onChange, onBlur, onKeyDown };
};

// node_modules/ra-core/dist/esm/preferences/useSetInspectorTitle.js
var import_react152 = __toESM(require_react());
var useSetInspectorTitle = function(title, options) {
  var preferencesEditorContext = usePreferencesEditor();
  if (!preferencesEditorContext) {
    throw new Error("useSetInspectorTitle cannot be called outside of a PreferencesEditorContext");
  }
  var setTitle = preferencesEditorContext.setTitle;
  (0, import_react152.useEffect)(function() {
    setTitle(title, options);
  }, [title, JSON.stringify(options), setTitle]);
};

// node_modules/ra-core/dist/esm/inference/inferElementFromValues.js
var React51 = __toESM(require_react());

// node_modules/ra-core/dist/esm/inference/getValuesFromRecords.js
var getValuesFromRecords_default = function(records) {
  return records.reduce(function(values, record) {
    Object.keys(record).forEach(function(fieldName) {
      if (!values[fieldName]) {
        values[fieldName] = [];
      }
      if (record[fieldName] != null) {
        var value = Array.isArray(record[fieldName]) ? [record[fieldName]] : record[fieldName];
        values[fieldName] = values[fieldName].concat(value);
      }
    });
    return values;
  }, {});
};

// node_modules/ra-core/dist/esm/inference/InferredElement.js
var import_react153 = __toESM(require_react());
var __assign57 = function() {
  __assign57 = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign57.apply(this, arguments);
};
var InferredElement = (
  /** @class */
  function() {
    function InferredElement2(type, props, children) {
      this.type = type;
      this.props = props;
      this.children = children;
      this.type = type;
      this.props = props;
      this.children = children;
    }
    InferredElement2.prototype.getElement = function(props) {
      if (props === void 0) {
        props = {};
      }
      if (!this.type || !this.type.component) {
        return;
      }
      return this.children ? (0, import_react153.createElement)(this.type.component, __assign57(__assign57({}, this.props), props), this.children.length > 0 ? this.children.map(function(child, index) {
        return child.getElement({ key: index });
      }) : this.children.getElement()) : (0, import_react153.createElement)(this.type.component, __assign57(__assign57({}, this.props), props));
    };
    InferredElement2.prototype.getProps = function() {
      return this.props;
    };
    InferredElement2.prototype.isDefined = function() {
      return !!this.type;
    };
    InferredElement2.prototype.getRepresentation = function() {
      if (!this.type) {
        return "";
      }
      if (this.type.representation) {
        return this.type.representation(this.props, this.children);
      }
      if (this.type.component) {
        return "<".concat(this.type.component.displayName || this.type.component.name, ' source="').concat(this.props.source, '" />');
      }
      return "";
    };
    return InferredElement2;
  }()
);
var InferredElement_default = InferredElement;

// node_modules/ra-core/dist/esm/inference/assertions.js
var isNumeric = function(value) {
  return !isNaN(parseFloat(value)) && isFinite(value);
};
var valuesAreNumeric = function(values) {
  return values.every(isNumeric);
};
var isInteger = function(value) {
  return Number.isInteger(value) || !isNaN(parseInt(value));
};
var valuesAreInteger = function(values) {
  return values.every(isInteger);
};
var isBoolean = function(value) {
  return typeof value === "boolean";
};
var valuesAreBoolean = function(values) {
  return values.every(isBoolean);
};
var isString = function(value) {
  return typeof value === "string";
};
var valuesAreString = function(values) {
  return values.every(isString);
};
var HtmlRegexp = /<([A-Z][A-Z0-9]*)\b[^>]*>(.*?)<\/\1>/i;
var isHtml = function(value) {
  return !value || HtmlRegexp.test(value);
};
var valuesAreHtml = function(values) {
  return values.every(isHtml);
};
var UrlRegexp = /http(s*):\/\/.*/i;
var isUrl = function(value) {
  return !value || UrlRegexp.test(value);
};
var valuesAreUrl = function(values) {
  return values.every(isUrl);
};
var ImageUrlRegexp = /http(s*):\/\/.*\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i;
var isImageUrl = function(value) {
  return !value || ImageUrlRegexp.test(value);
};
var valuesAreImageUrl = function(values) {
  return values.every(isImageUrl);
};
var EmailRegexp = /@{1}/;
var isEmail = function(value) {
  return !value || EmailRegexp.test(value);
};
var valuesAreEmail = function(values) {
  return values.every(isEmail);
};
var isArray = function(value) {
  return Array.isArray(value);
};
var valuesAreArray = function(values) {
  return values.every(isArray);
};
var isDate = function(value) {
  return !value || value instanceof Date;
};
var valuesAreDate = function(values) {
  return values.every(isDate);
};
var isDateString = function(value) {
  return !value || typeof value === "string" && (isMatch(value, "MM/dd/yyyy") || isMatch(value, "MM/dd/yy") || isValid(parseISO(value)));
};
var valuesAreDateString = function(values) {
  return values.every(isDateString);
};
var isObject2 = function(value) {
  return Object.prototype.toString.call(value) === "[object Object]";
};
var valuesAreObject = function(values) {
  return values.every(isObject2);
};

// node_modules/ra-core/dist/esm/inference/inferElementFromValues.js
var import_inflection3 = __toESM(require_inflection());
var DefaultComponent = function() {
  return React51.createElement("span", null, ";");
};
var defaultType = {
  type: DefaultComponent,
  representation: function() {
    return "<DefaultComponent />";
  }
};
var defaultTypes = {
  array: defaultType,
  boolean: defaultType,
  date: defaultType,
  email: defaultType,
  id: defaultType,
  number: defaultType,
  reference: defaultType,
  referenceArray: defaultType,
  richText: defaultType,
  string: defaultType,
  url: defaultType
};
var hasType = function(type, types) {
  return typeof types[type] !== "undefined";
};
var inferElementFromValues = function(name, values, types) {
  if (values === void 0) {
    values = [];
  }
  if (types === void 0) {
    types = defaultTypes;
  }
  if (name === "id" && hasType("id", types)) {
    return new InferredElement_default(types.id, { source: name });
  }
  if (name.substr(name.length - 3) === "_id" && hasType("reference", types)) {
    var reference = (0, import_inflection3.pluralize)(name.substr(0, name.length - 3));
    return types.reference && new InferredElement_default(types.reference, {
      source: name,
      reference
    });
  }
  if (name.substr(name.length - 2) === "Id" && hasType("reference", types)) {
    var reference = (0, import_inflection3.pluralize)(name.substr(0, name.length - 2));
    return types.reference && new InferredElement_default(types.reference, {
      source: name,
      reference
    });
  }
  if (name.substr(name.length - 4) === "_ids" && hasType("referenceArray", types)) {
    var reference = (0, import_inflection3.pluralize)(name.substr(0, name.length - 4));
    return types.referenceArray && new InferredElement_default(types.referenceArray, {
      source: name,
      reference
    });
  }
  if (name.substr(name.length - 3) === "Ids" && hasType("referenceArray", types)) {
    var reference = (0, import_inflection3.pluralize)(name.substr(0, name.length - 3));
    return types.referenceArray && new InferredElement_default(types.referenceArray, {
      source: name,
      reference
    });
  }
  if (values.length === 0) {
    return new InferredElement_default(types.string, { source: name });
  }
  if (valuesAreArray(values)) {
    if (isObject2(values[0][0]) && hasType("array", types)) {
      var leafValues_1 = getValuesFromRecords_default(values.reduce(function(acc, vals) {
        return acc.concat(vals);
      }, []));
      return types.array && new InferredElement_default(types.array, {
        source: name
      }, Object.keys(leafValues_1).map(function(leafName) {
        return inferElementFromValues(leafName, leafValues_1[leafName], types);
      }));
    }
    return new InferredElement_default(types.string, { source: name });
  }
  if (valuesAreBoolean(values) && hasType("boolean", types)) {
    return new InferredElement_default(types.boolean, { source: name });
  }
  if (valuesAreDate(values) && hasType("date", types)) {
    return new InferredElement_default(types.date, { source: name });
  }
  if (valuesAreString(values)) {
    if (name === "email" && hasType("email", types)) {
      return new InferredElement_default(types.email, { source: name });
    }
    if (name === "url" && hasType("url", types)) {
      return new InferredElement_default(types.url, { source: name });
    }
    if (valuesAreDateString(values) && hasType("date", types)) {
      return new InferredElement_default(types.date, { source: name });
    }
    if (valuesAreHtml(values) && hasType("richText", types)) {
      return new InferredElement_default(types.richText, { source: name });
    }
    return new InferredElement_default(types.string, { source: name });
  }
  if ((valuesAreInteger(values) || valuesAreNumeric(values)) && hasType("number", types)) {
    return new InferredElement_default(types.number, { source: name });
  }
  if (valuesAreObject(values)) {
    var propName_1 = Object.keys(values[0]).shift();
    if (!propName_1) {
      return new InferredElement_default(types.string, { source: name });
    }
    var leafValues = values.map(function(v) {
      return v[propName_1];
    });
    return inferElementFromValues("".concat(name, ".").concat(propName_1), leafValues, types);
  }
  return new InferredElement_default(types.string, { source: name });
};
var inferElementFromValues_default = inferElementFromValues;

// node_modules/ra-core/dist/esm/inference/getElementsFromRecords.js
var getElementsFromRecords_default = function(records, types) {
  var fieldValues = getValuesFromRecords_default(records);
  return Object.keys(fieldValues).reduce(function(fields, fieldName) {
    return fields.concat(inferElementFromValues_default(fieldName, fieldValues[fieldName], types));
  }, []).filter(function(inferredElement) {
    return inferredElement.isDefined();
  });
};

// node_modules/ra-core/dist/esm/inference/inferTypeFromValues.js
var import_inflection4 = __toESM(require_inflection());
var InferenceTypes = [
  "array",
  "boolean",
  "date",
  "email",
  "id",
  "image",
  "number",
  "reference",
  "referenceChild",
  "referenceArray",
  "referenceArrayChild",
  "richText",
  "string",
  "url",
  "object"
];
var inferTypeFromValues = function(name, values) {
  if (values === void 0) {
    values = [];
  }
  if (name === "id") {
    return { type: "id", props: { source: name } };
  }
  if (name.substr(name.length - 3) === "_id") {
    return {
      type: "reference",
      props: {
        source: name,
        reference: (0, import_inflection4.pluralize)(name.substr(0, name.length - 3))
      },
      children: { type: "referenceChild" }
    };
  }
  if (name.substr(name.length - 2) === "Id") {
    return {
      type: "reference",
      props: {
        source: name,
        reference: (0, import_inflection4.pluralize)(name.substr(0, name.length - 2))
      },
      children: { type: "referenceChild" }
    };
  }
  if (name.substr(name.length - 4) === "_ids") {
    return {
      type: "referenceArray",
      props: {
        source: name,
        reference: (0, import_inflection4.pluralize)(name.substr(0, name.length - 4))
      },
      children: { type: "referenceArrayChild" }
    };
  }
  if (name.substr(name.length - 3) === "Ids") {
    return {
      type: "referenceArray",
      props: {
        source: name,
        reference: (0, import_inflection4.pluralize)(name.substr(0, name.length - 3))
      },
      children: { type: "referenceArrayChild" }
    };
  }
  if (values.length === 0) {
    if (name === "email") {
      return { type: "email", props: { source: name } };
    }
    if (name === "url") {
      return { type: "url", props: { source: name } };
    }
    return { type: "string", props: { source: name } };
  }
  if (valuesAreArray(values)) {
    if (isObject2(values[0][0])) {
      var leafValues_1 = getValuesFromRecords_default(values.reduce(function(acc, vals) {
        return acc.concat(vals);
      }, []));
      return {
        type: "array",
        props: { source: name },
        children: Object.keys(leafValues_1).map(function(leafName) {
          return inferTypeFromValues(leafName, leafValues_1[leafName]);
        })
      };
    }
    return { type: "string", props: { source: name } };
  }
  if (valuesAreBoolean(values)) {
    return { type: "boolean", props: { source: name } };
  }
  if (valuesAreDate(values)) {
    return { type: "date", props: { source: name } };
  }
  if (valuesAreString(values)) {
    if (name === "email" || valuesAreEmail(values)) {
      return { type: "email", props: { source: name } };
    }
    if (name === "url" || valuesAreUrl(values)) {
      if (valuesAreImageUrl(values)) {
        return { type: "image", props: { source: name } };
      }
      return { type: "url", props: { source: name } };
    }
    if (valuesAreDateString(values)) {
      return { type: "date", props: { source: name } };
    }
    if (valuesAreHtml(values)) {
      return { type: "richText", props: { source: name } };
    }
    if (valuesAreInteger(values) || valuesAreNumeric(values)) {
      return { type: "number", props: { source: name } };
    }
    return { type: "string", props: { source: name } };
  }
  if (valuesAreInteger(values) || valuesAreNumeric(values)) {
    return { type: "number", props: { source: name } };
  }
  if (valuesAreObject(values)) {
    var propName_1 = Object.keys(values[0]).shift();
    if (!propName_1) {
      return { type: "object", props: { source: name } };
    }
    var leafValues = values.map(function(v) {
      return v[propName_1];
    });
    return inferTypeFromValues("".concat(name, ".").concat(propName_1), leafValues);
  }
  return { type: "string", props: { source: name } };
};

// node_modules/ra-core/dist/esm/types.js
var I18N_TRANSLATE = "I18N_TRANSLATE";
var I18N_CHANGE_LOCALE = "I18N_CHANGE_LOCALE";

export {
  AuthContext,
  useAuthProvider_default,
  localStorageStore,
  getStorage,
  require_unset,
  memoryStore,
  StoreContext,
  StoreContextProvider,
  useStoreContext,
  StoreSetter,
  escapePath_default,
  substituteTokens,
  I18nContext,
  AddNotificationContext,
  NotificationContext,
  NotificationContextProvider,
  useAddNotificationContext,
  useNotificationContext,
  useNotify,
  I18nContextProvider,
  TestTranslationProvider,
  testI18nProvider,
  TranslatableContext,
  TranslatableContextProvider,
  resolveBrowserLocale,
  mergeTranslations,
  useI18nProvider,
  useLocaleState,
  useLocale,
  useLocales,
  useSetLocale,
  require_cloneDeep,
  useTranslatable,
  getRecordForLocale,
  useTranslatableContext,
  useTranslate,
  BasenameContextProvider,
  AdminRouter,
  require_debounce,
  useRestoreScrollPosition,
  useTrackScrollPosition,
  RestoreScrollPosition,
  useBasename,
  useCreatePath,
  removeDoubleSlashes,
  useFilterState_default,
  shallowEqual,
  removeEmpty_default,
  removeKey_default,
  SET_SORT,
  SORT_ASC,
  SORT_DESC,
  SET_PAGE,
  SET_PER_PAGE,
  SET_FILTER,
  SHOW_FILTER,
  HIDE_FILTER,
  queryReducer,
  useSortState_default,
  usePaginationState_default,
  useCheckMinimumRequiredProps,
  GET_LIST,
  GET_ONE,
  GET_MANY,
  GET_MANY_REFERENCE,
  CREATE,
  UPDATE,
  UPDATE_MANY,
  DELETE,
  DELETE_MANY,
  fetchActionsWithRecordResponse,
  fetchActionsWithArrayOfIdentifiedRecordsResponse,
  fetchActionsWithArrayOfRecordsResponse,
  fetchActionsWithTotalResponse,
  reactAdminFetchActions,
  sanitizeFetchType,
  defaultDataProvider,
  convertLegacyDataProvider_default,
  DataProviderContext_default,
  HttpError_default,
  require_query_string,
  fetch_exports,
  undoableEventEmitter_default,
  combineDataProviders,
  testDataProvider,
  withLifecycleCallbacks,
  applyCallbacks,
  useLogoutIfAccessDenied_default,
  useDataProvider,
  useIsDataLoaded,
  useLoading,
  useRefresh,
  useGetOne,
  useGetList,
  useGetMany,
  require_union,
  useGetManyAggregate,
  useGetManyReference,
  useGetRecordId,
  useCreate,
  useUpdate,
  useUpdateMany,
  useDelete,
  useDeleteMany,
  useInfiniteGetList,
  useDeleteWithUndoController_default,
  useDeleteWithConfirmController_default,
  SaveContext,
  SaveContextProvider,
  usePickSaveContext,
  useSaveContext,
  useMutationMiddlewares,
  useRegisterMutationMiddleware,
  useCreateController,
  getRecordFromLocation,
  RecordContext,
  RecordContextProvider,
  CreateContext,
  CreateContextProvider,
  CreateBase,
  CreateController,
  useCreateContext,
  useEditController,
  useRecordContext,
  WithRecord,
  OptionalRecordContextProvider,
  RecordRepresentation,
  EditContext,
  EditContextProvider,
  EditBase,
  EditController,
  useEditContext,
  ReferenceFieldContext,
  ReferenceFieldContextProvider,
  useReferenceFieldContext,
  useReference,
  useReferenceFieldController,
  ReferenceFieldBase,
  downloadCSV,
  defaultExporter,
  ExporterContext,
  fetchRelatedRecords,
  useRecordSelection,
  useSafeSetState,
  usePrevious,
  useDeepCompareEffect,
  useTimeout,
  useIsMounted,
  useListParams,
  parseQueryFromLocation,
  hasCustomParams,
  getQuery,
  getNumberOrDefault,
  useInfiniteListController,
  ListContext,
  ListFilterContext,
  usePickFilterContext,
  ListSortContext,
  usePickSortContext,
  ListPaginationContext,
  usePickPaginationContext,
  ListContextProvider,
  InfinitePaginationContext,
  InfiniteListBase,
  useListController,
  injectedProps,
  getListControllerProps,
  sanitizeListRestProps,
  ListBase,
  ListController,
  useExpanded,
  useExpandAll,
  useInfinitePaginationContext,
  useList,
  useListContext,
  require_defaults,
  useListContextWithProps,
  useListFilterContext,
  useListPaginationContext,
  useListSortContext,
  useUnselect,
  useUnselectAll,
  WithListContext,
  useReferenceArrayFieldController,
  useReferenceManyFieldController,
  useReferenceOneFieldController,
  getStatusForInput,
  getSelectedReferencesStatus,
  getStatusForArrayInput,
  useReferenceArrayInputController,
  useReferenceInputController,
  FormDataConsumer_default,
  FormGroupsContext,
  ValidationError_default,
  getSimpleValidationResolver,
  ChoicesContext,
  ChoicesContextProvider,
  useChoicesContext,
  FormGroupsProvider,
  useWarnWhenUnsavedChanges,
  WarnWhenUnsavedChanges,
  setSubmissionErrors,
  useNotifyIsFormInvalid,
  useAugmentedForm,
  Form,
  isEmpty2 as isEmpty,
  combine2Validators,
  composeValidators,
  composeSyncValidators,
  required,
  minLength,
  maxLength,
  minValue,
  maxValue,
  number,
  regex,
  email,
  choices,
  isRequired,
  FormGroupContext,
  useFormGroups,
  FormGroupContextProvider,
  useApplyInputDefaultValues,
  useChoices,
  useFormGroup,
  getFormGroupState,
  useFormGroupContext,
  useGetValidationErrorMessage,
  useInput,
  useSuggestions,
  getSuggestionsFactory,
  useUnique,
  ReferenceInputBase,
  useShowController,
  ShowContext,
  ShowContextProvider,
  ShowBase,
  ShowController,
  useShowContext,
  usePrevNextController,
  useGetPathForRecordCallback,
  useGetPathForRecord,
  useRedirect,
  useResetErrorBoundaryOnLocationChange,
  useScrollToTop,
  TestMemoryRouter,
  PreferencesEditorContext,
  PreferencesEditorContextProvider,
  ResourceDefinitionContext,
  ResourceDefinitionContextProvider,
  CoreAdminContext,
  useResourceDefinitionContext,
  HasDashboardContext,
  HasDashboardContextProvider,
  useHasDashboard,
  CoreAdminRoutes,
  DefaultTitleContext,
  DefaultTitleContextProvider,
  useDefaultTitle,
  CoreAdminUI,
  CoreAdmin,
  CustomRoutes,
  ResourceContext,
  ResourceContextProvider,
  OptionalResourceContextProvider,
  Resource,
  SourceContext,
  SourceContextProvider,
  useSourceContext,
  useOptionalSourceContext,
  useResourceDefinitions,
  require_inflection,
  useGetResourceLabel,
  useResourceContext,
  useResourceDefinition,
  useGetRecordRepresentation,
  useWrappedSource,
  useTranslateLabel,
  DEFAULT_LOCALE,
  FieldTitle_default,
  Ready_default,
  warning_default,
  useWhyDidYouUpdate,
  getMutationMode,
  getFieldLabelTranslationArgs,
  getResourceFieldLabelKey,
  mergeRefs,
  useEvent,
  useFieldValue,
  asyncDebounce,
  useCheckForApplicationUpdate,
  useStore,
  useRemoveFromStore,
  useRemoveItemsFromStore,
  useResetStore,
  useLogout_default,
  useAuthState_default,
  usePermissions_default,
  useAuthenticated,
  WithPermissions_default,
  useLogin_default,
  useGetPermissions_default,
  AUTH_LOGIN,
  AUTH_CHECK,
  AUTH_ERROR,
  AUTH_LOGOUT,
  AUTH_GET_PERMISSIONS,
  convertLegacyAuthProvider_default,
  Authenticated,
  LogoutOnMount,
  useCheckAuth,
  useGetIdentity,
  useHandleAuthCallback,
  PreviousLocationStorageKey,
  addRefreshAuthToAuthProvider,
  addRefreshAuthToDataProvider,
  PreferenceKeyContext,
  PreferenceKeyContextProvider,
  usePreferenceKey,
  usePreference,
  usePreferencesEditor,
  usePreferenceInput,
  useSetInspectorTitle,
  getValuesFromRecords_default,
  InferredElement_default,
  getElementsFromRecords_default,
  InferenceTypes,
  inferTypeFromValues,
  I18N_TRANSLATE,
  I18N_CHANGE_LOCALE
};
/*! Bundled license information:

inflection/lib/inflection.js:
  (*!
   * inflection
   * Copyright(c) 2011 Ben Lin <ben@dreamerslab.com>
   * MIT Licensed
   *
   * @fileoverview
   * A port of inflection-js to node.js module.
   *)
*/
//# sourceMappingURL=chunk-MBK5SHGF.js.map
